(self.webpackChunkteam_1_project=self.webpackChunkteam_1_project||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7716:function(e,t,n){"use strict";n.d(t,{deG:function(){return sn},tb:function(){return Zl},AFp:function(){return Ml},ip1:function(){return Ll},CZH:function(){return Fl},hGG:function(){return Lc},z2F:function(){return Ec},sBO:function(){return La},Sil:function(){return Xl},_Vd:function(){return sa},EJc:function(){return Hl},SBq:function(){return ca},qLn:function(){return Sr},vpe:function(){return ml},gxx:function(){return ds},tBr:function(){return Nn},XFs:function(){return N},OlP:function(){return rn},zs3:function(){return xs},ZZ4:function(){return ka},aQg:function(){return Na},soG:function(){return zl},YKP:function(){return Ha},v3s:function(){return xc},h0i:function(){return za},PXZ:function(){return bc},R0b:function(){return nc},FiY:function(){return Rn},Lbi:function(){return Vl},g9A:function(){return jl},n_E:function(){return yl},Qsj:function(){return da},FYo:function(){return ha},JOm:function(){return xr},Tiy:function(){return pa},q3G:function(){return yr},tp0:function(){return Pn},EAV:function(){return Nc},Rgc:function(){return ja},dDg:function(){return cc},DyG:function(){return on},q4F:function(){return ga},GfV:function(){return ma},s_b:function(){return Ga},ifc:function(){return F},eFA:function(){return wc},G48:function(){return yc},Gpc:function(){return f},f3M:function(){return En},X6Q:function(){return gc},_c5:function(){return Oc},VLi:function(){return dc},c2e:function(){return Bl},zSh:function(){return ps},wAp:function(){return zo},vHH:function(){return g},EiD:function(){return mr},mCW:function(){return Xn},qzn:function(){return Zn},JVY:function(){return zn},pB0:function(){return Wn},eBb:function(){return $n},L6k:function(){return Hn},LAX:function(){return Gn},cg1:function(){return Vo},Tjo:function(){return Pc},kL8:function(){return Zo},yhl:function(){return Bn},dqk:function(){return j},sIi:function(){return Ms},CqO:function(){return ro},QGY:function(){return to},F4k:function(){return no},RDi:function(){return Ee},AaK:function(){return u},z3N:function(){return Vn},qOj:function(){return As},TTD:function(){return ye},_Bn:function(){return ta},xp6:function(){return pi},uIk:function(){return Vs},Gre:function(){return Lo},ekj:function(){return wo},Suo:function(){return Al},Xpm:function(){return Q},lG2:function(){return ie},Yz7:function(){return w},cJS:function(){return T},oAB:function(){return te},Yjl:function(){return se},Y36:function(){return Hs},_UZ:function(){return Ys},GkF:function(){return Xs},BQk:function(){return Js},ynx:function(){return Qs},qZA:function(){return Ks},TgZ:function(){return Ws},EpF:function(){return eo},n5z:function(){return Jt},Ikx:function(){return Fo},LFG:function(){return Sn},$8M:function(){return en},NdJ:function(){return io},CRH:function(){return Nl},kcU:function(){return yt},O4$:function(){return gt},oxw:function(){return co},ALo:function(){return dl},lcZ:function(){return fl},Hsn:function(){return fo},F$t:function(){return ho},Q6J:function(){return $s},VKq:function(){return ll},WLB:function(){return cl},iGM:function(){return xl},MAs:function(){return zs},CHM:function(){return Be},LSH:function(){return _r},kYT:function(){return ne},Udp:function(){return bo},WFA:function(){return so},d8E:function(){return Mo},YNc:function(){return Bs},W1O:function(){return Dl},_uU:function(){return Po},Oqu:function(){return Oo},hij:function(){return Do},Gf:function(){return kl}});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(8819);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function f(e){return e.__forward_ref__=f,e.toString=function(){return u(this())},e}function p(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===f}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function _(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function v(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${_(e)} found${n}`)}function b(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function T(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return S(e,I)||S(e,k)}function S(e,t){return e.hasOwnProperty(t)?e[t]:null}function E(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(A))?e[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let R;function P(e){const t=R;return R=e,t}function O(e,t,n){const r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void v(u(e),"Injector")}function D(e){return{toString:e}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const M="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=M||"undefined"!=typeof global&&global||q||U,V={},Z=[],B=l({"\u0275cmp":l}),z=l({"\u0275dir":l}),H=l({"\u0275pipe":l}),$=l({"\u0275mod":l}),G=l({"\u0275loc":l}),W=l({"\u0275fac":l}),K=l({__NG_ELEMENT_ID__:l});let Y=0;function Q(e){return D(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Y++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(e){return oe(e)||function(e){return e[z]||null}(e)}function X(e){return function(e){return e[H]||null}(e)}const ee={};function te(e){return D(()=>{const t={type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return D(()=>{const n=ae(e,!0);n.declarations=t.declarations||Z,n.imports=t.imports||Z,n.exports=t.exports||Z})}function re(e,t){if(null==e)return V;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ie=Q;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[B]||null}function ae(e,t){const n=e[$]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function ce(e){return Array.isArray(e)&&!0===e[1]}function ue(e){return 0!=(8&e.flags)}function he(e){return 2==(2&e.flags)}function de(e){return 1==(1&e.flags)}function fe(e){return null!==e.template}function pe(e){return 0!=(512&e[2])}function me(e,t){return e.hasOwnProperty(W)?e[W]:null}class ge{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ye(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=be),ve}function ve(){const e=Te(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===V)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function be(e,t,n,r){const i=Te(e)||function(e,t){return e[we]=t}(e,{previous:V,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ge(l&&l.currentValue,t,o===V),e[r]=t}ye.ngInherit=!0;const we="__ngSimpleChanges__";function Te(e){return e[we]||null}const Ce="http://www.w3.org/2000/svg";let Se;function Ee(e){Se=e}function Ie(e){return!!e.listen}const xe={createRenderer:(e,t)=>void 0!==Se?Se:"undefined"!=typeof document?document:void 0};function ke(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return ke(t[e])}function Ne(e,t){return ke(t[e.index])}function Re(e,t){return e.data[t]}function Pe(e,t){return e[t]}function Oe(e,t){const n=t[e];return le(n)?n:n[0]}function De(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Me(e){e[18]=0}function qe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:ct(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function Ve(){return Ue.lFrame.lView}function Ze(){return Ue.lFrame.tView}function Be(e){return Ue.lFrame.contextLView=e,e[8]}function ze(){let e=He();for(;null!==e&&64===e.type;)e=e.parent;return e}function He(){return Ue.lFrame.currentTNode}function $e(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function Ge(){return Ue.lFrame.isParent}function We(){Ue.lFrame.isParent=!1}function Ke(){return Ue.isInCheckNoChangesMode}function Ye(e){Ue.isInCheckNoChangesMode=e}function Qe(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Je(){return Ue.lFrame.bindingIndex++}function Xe(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function et(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){Ue.lFrame.currentDirectiveIndex=e}function nt(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function rt(){return Ue.lFrame.currentQueryIndex}function it(e){Ue.lFrame.currentQueryIndex=e}function st(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ot(e,t,n){if(n&N.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&N.Host||(r=st(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const r=Ue.lFrame=lt();return r.currentTNode=t,r.lView=e,!0}function at(e){const t=lt(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lt(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ct(e):t}function ct(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ut(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ht=ut;function dt(){const e=ut();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ft(){return Ue.lFrame.selectedIndex}function pt(e){Ue.lFrame.selectedIndex=e}function mt(){const e=Ue.lFrame;return Re(e.tView,e.selectedIndex)}function gt(){Ue.lFrame.currentNamespace=Ce}function yt(){Ue.lFrame.currentNamespace=null}function _t(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function vt(e,t,n){Tt(e,t,3,n)}function bt(e,t,n,r){(3&e[2])===n&&Tt(e,t,n,r)}function wt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Tt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Ct(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Ct(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class St{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Et(e,t,n){const r=Ie(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];xt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function It(e){return 3===e||4===e||6===e}function xt(e){return 64===e.charCodeAt(0)}function kt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||At(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function At(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Nt(e){return-1!==e}function Rt(e){return 32767&e}function Pt(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ot=!0;function Dt(e){const t=Ot;return Ot=e,t}let Lt=0;function Ft(e,t){const n=qt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Mt(r.data,e),Mt(t,null),Mt(r.blueprint,null));const i=Ut(e,t),s=e.injectorIndex;if(Nt(i)){const e=Rt(i),n=Pt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Mt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ut(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function jt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=Lt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Vt(e,t,n){if(n&N.Optional)return e;v(t,"NodeInjector")}function Zt(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&N.Optional):O(t,r,n&N.Optional)}finally{P(s)}}return Vt(r,t,n)}function Bt(e,t,n,r=N.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?255&t:Ht:t}(n);if("function"==typeof s){if(!ot(t,e,r))return r&N.Host?Vt(i,n,r):Zt(t,n,r,i);try{const e=s(r);if(null!=e||r&N.Optional)return e;v(n)}finally{ht()}}else if("number"==typeof s){let i=null,o=qt(e,t),a=-1,l=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Ut(e,t):t[o+8],-1!==a&&Yt(r,!1)?(i=t[1],o=Rt(a),t=Pt(a,t)):o=-1);-1!==o;){const e=t[1];if(Kt(s,o,e.data)){const e=$t(o,t,n,i,r,l);if(e!==zt)return e}a=t[o+8],-1!==a&&Yt(r,t[1].data[o+8]===l)&&Kt(s,o,t)?(i=e,o=Rt(a),t=Pt(a,t)):o=-1}}}return Zt(t,n,r,i)}const zt={};function Ht(){return new Qt(ze(),Ve())}function $t(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=Gt(a,o,n,null==r?he(a)&&Ot:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==l?Wt(t,o,l,a):zt}function Gt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&fe(e)&&e.type===n)return l}return null}function Wt(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof St}(i)){const o=i;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(_(s[n]));const a=Dt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?P(o.injectImpl):null;ot(e,r,N.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&P(l),Dt(a),o.resolving=!1,ht()}}return i}function Kt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Yt(e,t){return!(e&N.Self||e&N.Host&&t)}class Qt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Bt(this._tNode,this._lView,e,n,t)}}function Jt(e){return D(()=>{const t=e.prototype.constructor,n=t[W]||Xt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[W]||Xt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Xt(e){return m(e)?()=>{const t=Xt(p(e));return t&&t()}:me(e)}function en(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(It(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(ze(),e)}const tn="__parameters__";function nn(e,t,n){return D(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(tn)?e[tn]:Object.defineProperty(e,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sn=new rn("AnalyzeForEntryComponents"),on=Function;function an(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),an(r,t)):t!==e&&t.push(r)}return t}function ln(e,t){e.forEach(e=>Array.isArray(e)?ln(e,t):t(e))}function cn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function un(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function hn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function dn(e,t,n){let r=pn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function fn(e,t){const n=pn(e,t);if(n>=0)return e[1|n]}function pn(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const mn={},gn="__NG_DI_FLAG__",yn="ngTempTokenPath",_n=/\n/gm,vn="__source",bn=l({provide:String,useValue:l});let wn;function Tn(e){const t=wn;return wn=e,t}function Cn(e,t=N.Default){if(void 0===wn)throw new Error("inject() must be called from an injection context");return null===wn?O(e,void 0,t):wn.get(e,t&N.Optional?null:void 0,t)}function Sn(e,t=N.Default){return(R||Cn)(p(e),t)}const En=Sn;function In(e){const t=[];for(let n=0;n<e.length;n++){const r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const i=r[t],s=kn(i);"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Sn(e,n))}else t.push(Sn(r))}return t}function xn(e,t){return e[gn]=t,e.prototype[gn]=t,e}function kn(e){return e[gn]}function An(e,t,n,r){const i=e[yn];throw t[vn]&&i.unshift(t[vn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(_n,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[yn]=null,e}const Nn=xn(nn("Inject",e=>({token:e})),-1),Rn=xn(nn("Optional"),8),Pn=xn(nn("SkipSelf"),4);let On;function Dn(e){var t;return(null===(t=function(){if(void 0===On&&(On=null,j.trustedTypes))try{On=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return On}())||void 0===t?void 0:t.createHTML(e))||e}class Ln{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fn extends Ln{getTypeName(){return"HTML"}}class Mn extends Ln{getTypeName(){return"Style"}}class qn extends Ln{getTypeName(){return"Script"}}class Un extends Ln{getTypeName(){return"URL"}}class jn extends Ln{getTypeName(){return"ResourceURL"}}function Vn(e){return e instanceof Ln?e.changingThisBreaksApplicationSecurity:e}function Zn(e,t){const n=Bn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Bn(e){return e instanceof Ln&&e.getTypeName()||null}function zn(e){return new Fn(e)}function Hn(e){return new Mn(e)}function $n(e){return new qn(e)}function Gn(e){return new Un(e)}function Wn(e){return new jn(e)}class Kn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Dn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Yn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Dn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(e){return(e=String(e)).match(Qn)||e.match(Jn)?e:"unsafe:"+e}function er(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function tr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const nr=er("area,br,col,hr,img,wbr"),rr=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=er("rp,rt"),sr=tr(nr,tr(rr,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(ir,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr(ir,rr)),or=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=er("srcset"),lr=tr(or,ar,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=er("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!sr.hasOwnProperty(t))return this.sanitizedSomething=!0,!cr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!lr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;or[s]&&(o=Xn(o)),ar[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Xn(e.trim())).join(", ")),this.buf.push(" ",t,'="',fr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();sr.hasOwnProperty(t)&&!nr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function fr(e){return e.replace(/&/g,"&amp;").replace(hr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function mr(e,t){let n=null;try{pr=pr||function(e){const t=new Yn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(e){return!1}}()?new Kn(t):t}(e);let r=t?String(t):"";n=pr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==s);return Dn((new ur).sanitizeChildren(gr(n)||n))}finally{if(n){const e=gr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function gr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function _r(e){const t=function(){const e=Ve();return e&&e[12]}();return t?t.sanitize(yr.URL,e)||"":Zn(e,"URL")?Vn(e):Xn(y(e))}const vr="__ngContext__";function br(e,t){e[vr]=t}function wr(e){const t=function(e){return e[vr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Tr(e){return e.ngOriginalError}function Cr(e,...t){e.error(...t)}class Sr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=(i=e)&&i.ngErrorLogger||Cr;var i;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?e.ngDebugContext||this._findContext(Tr(e)):null}_findOriginalError(e){let t=e&&Tr(e);for(;t&&Tr(t);)t=Tr(t);return t||null}}const Er=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Ir(e){return e instanceof Function?e():e}var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();function kr(e,t){return undefined(e,t)}function Ar(e){const t=e[3];return ce(t)?t[3]:t}function Nr(e){return Pr(e[13])}function Rr(e){return Pr(e[4])}function Pr(e){for(;null!==e&&!ce(e);)e=e[4];return e}function Or(e,t,n,r,i){if(null!=r){let s,o=!1;ce(r)?s=r:le(r)&&(o=!0,r=r[0]);const a=ke(r);0===e&&null!==n?null==i?Vr(t,n,a):jr(t,n,a,i||null,!0):1===e&&null!==n?jr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Br(e,t);r&&function(e,t,n,r){Ie(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==ke(n)&&Or(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Qr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Dr(e,t,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Lr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,qe(i,-1)),n.splice(r,1)}function Fr(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Lr(i,r),t>0&&(e[n-1][4]=r[4]);const s=un(e,10+t);!function(e,t){Qr(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mr(e,t){if(!(256&t[2])){const n=t[11];Ie(n)&&n.destroyNode&&Qr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return qr(e[1],e);for(;t;){let n=null;if(le(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&qr(t[1],t),t=t[3];null===t&&(t=e),le(t)&&qr(t[1],t),n=t&&t[4]}t=n}}(t)}}function qr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof St)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):ke(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)r[e]();t[7]=null}}(e,t),1===t[1].type&&Ie(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ce(t[3])){n!==t[3]&&Lr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Ur(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===F.None||t===F.Emulated)return null}return Ne(r,n)}(e,t.parent,n)}function jr(e,t,n,r,i){Ie(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Vr(e,t,n){Ie(e)?e.appendChild(t,n):t.appendChild(n)}function Zr(e,t,n,r,i){null!==r?jr(e,t,n,r,i):Vr(e,t,n)}function Br(e,t){return Ie(e)?e.parentNode(t):t.parentNode}function zr(e,t,n){return Hr(e,t,n)}let Hr=function(e,t,n){return 40&e.type?Ne(e,n):null};function $r(e,t,n,r){const i=Ur(e,r,t),s=t[11],o=zr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Zr(s,i,n[a],o,!1);else Zr(s,i,n,o,!1)}function Gr(e,t){if(null!==t){const n=t.type;if(3&n)return Ne(t,e);if(4&n)return Kr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Gr(e,n);{const n=e[t.index];return ce(n)?Kr(-1,n):ke(n)}}if(32&n)return kr(t,e)()||ke(e[t.index]);{const n=Wr(e,t);return null!==n?Array.isArray(n)?n[0]:Gr(Ar(e[16]),n):Gr(e,t.next)}}return null}function Wr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Gr(e,r)}return t[7]}function Yr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&br(ke(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Yr(e,t,n.child,r,i,s,!1),Or(t,e,i,a,s);else if(32&l){const o=kr(n,r);let l;for(;l=o();)Or(t,e,i,l,s);Or(t,e,i,a,s)}else 16&l?Jr(e,t,r,n,i,s):Or(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Qr(e,t,n,r,i,s){Yr(n,r,e.firstChild,t,i,s,!1)}function Jr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Or(t,e,i,a[l],s);else Yr(e,t,a,o[3],i,s,!0)}function Xr(e,t,n){Ie(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ei(e,t,n){Ie(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ti(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const ni="ng-template";function ri(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==ti(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ii(e){return 4===e.type&&e.value!==ni}function si(e,t,n){return t===(4!==e.type||n?e.value:ni)}function oi(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(It(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!si(e,l,n)||""===l&&1===t.length){if(ai(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!ri(e.attrs,c,n)){if(ai(r))return!1;o=!0}continue}const u=li(8&r?"class":l,i,ii(e),n);if(-1===u){if(ai(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==ti(t,c,0)||2&r&&c!==e){if(ai(r))return!1;o=!0}}}}else{if(!o&&!ai(r)&&!ai(l))return!1;if(o&&ai(l))continue;o=!1,r=l|1&r}}return ai(r)||o}function ai(e){return 0==(1&e)}function li(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ci(e,t,n=!1){for(let r=0;r<t.length;r++)if(oi(e,t[r],n))return!0;return!1}function ui(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function hi(e,t){return e?":not("+t.trim()+")":t}function di(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ai(o)&&(t+=hi(s,i),i=""),r=o,s=s||!ai(r);n++}return""!==i&&(t+=hi(s,i)),t}const fi={};function pi(e){mi(Ze(),Ve(),ft()+e,Ke())}function mi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&vt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&bt(t,r,0,n)}pt(n)}function gi(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function _i(e){return 2|e}function vi(e){return(131068&e)>>2}function bi(e,t){return-131069&e|t<<2}function wi(e){return 1|e}function Ti(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];it(i),n.contentQueries(2,t[s],s)}}}function Ci(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Me(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Si(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=He(),o=Ge(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return $e(s,!0),s}function Ei(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ii(e,t,n){at(t);try{const r=e.viewQuery;null!==r&&rs(1,r,n);const i=e.template;null!==i&&Ai(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ti(e,t),e.staticViewQueries&&rs(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Ji(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,dt()}}function xi(e,t,n,r){const i=t[2];if(256==(256&i))return;at(t);const s=Ke();try{Me(t),function(e){Ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ai(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&vt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&bt(t,n,0,null),wt(t,0)}if(function(e){for(let t=Nr(e);null!==t;t=Rr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&qe(r,1),n[2]|=1024}}}(t),function(e){for(let t=Nr(e);null!==t;t=Rr(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Le(n)&&xi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Ti(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&vt(t,n)}else{const n=e.contentHooks;null!==n&&bt(t,n,1),wt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)pt(~r);else{const i=r,s=n[++e],o=n[++e];et(s,i),o(2,t[i])}}}finally{pt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Yi(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&rs(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&vt(t,n)}else{const n=e.viewHooks;null!==n&&bt(t,n,2),wt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qe(t[3],-1))}finally{dt()}}function ki(e,t,n,r){const i=t[10],s=!Ke(),o=De(t);try{s&&!o&&i.begin&&i.begin(),o&&Ii(e,t,r),xi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ai(e,t,n,r,i){const s=ft(),o=2&r;try{pt(-1),o&&t.length>20&&mi(e,t,20,Ke()),n(r,i)}finally{pt(s)}}function Ni(e,t,n){if(ue(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ri(e,t,n){!je()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Ft(n,t),br(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=fe(r);s&&Hi(t,n,r);const l=Wt(t,e,a,n);br(l,t),null!==o&&Gi(0,a-i,l,r,0,o),s&&(Oe(n.index,t)[8]=l)}}(e,t,n,Ne(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{pt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];tt(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&ji(r,i)}}finally{pt(-1),tt(o)}}(e,t,n))}function Pi(e,t,n=Ne){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Oi(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Di(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Di(e,t,n,r,i,s,o,a,l,c){const u=20+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fi);return n}(u,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Li(e,t,n,r){const i=ss(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&os(e).push(r,i.length-1))}function Fi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Mi(e,t,n,r,i,s,o,a){const l=Ne(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(cs(e,n,c,r,i),he(t)&&function(e,t){const n=Oe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,Ie(s)?s.setProperty(l,r,i):xt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function qi(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),jt(Ft(n,t),e,o.type),fe(o)?(Vi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Bi(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=Ei(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=kt(n.mergedAttrs,c.hostAttrs),zi(e,n,t,l,c),Zi(l,c,o),null!==c.contentQueries&&(n.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||ii(t)?null:Wi(n,i);s.push(c),o=Fi(n,l,o),a=Fi(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new g("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=kt(n.mergedAttrs,n.attrs),i}function Ui(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ji(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Vi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Zi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;fe(t)&&(n[""]=e)}}function Bi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zi(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=me(i.type)),o=new St(s,fe(i),null);e.blueprint[r]=o,n[r]=o,Ui(e,t,0,r,Ei(e,n,i.hostVars,fi),i)}function Hi(e,t,n){const r=Ne(t,e),i=Oi(n),s=e[10],o=Xi(e,Ci(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function $i(e,t,n,r,i,s){const o=Ne(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ie(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ie(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function Gi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Wi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Yi(e,t){const n=Oe(t,e);if(Le(n)){const e=n[1];80&n[2]?xi(e,n,e.template,n[8]):n[5]>0&&Qi(n)}}function Qi(e){for(let n=Nr(e);null!==n;n=Rr(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];xi(e,t,e.template,t[8])}else t[5]>0&&Qi(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Oe(t[n],e);Le(r)&&r[5]>0&&Qi(r)}}function Ji(e,t){const n=Oe(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ii(r,n,n[8])}function Xi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function es(e){for(;e;){e[2]|=64;const t=Ar(e);if(pe(e)&&!t)return e;e=t}return null}function ts(e,t,n){const r=t[10];r.begin&&r.begin();try{xi(e,t,e.template,n)}catch(i){throw ls(t,i),i}finally{r.end&&r.end()}}function ns(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=wr(n),i=r[1];ki(i,r,i.template,n)}}(e[8])}function rs(e,t,n){it(0),t(e,n)}const is=(()=>Promise.resolve(null))();function ss(e){return e[7]||(e[7]=[])}function os(e){return e.cleanup||(e.cleanup=[])}function as(e,t,n){return(null===e||fe(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ls(e,t){const n=e[9],r=n?n.get(Sr,null):null;r&&r.handleError(t)}function cs(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function us(e,t,n){const r=Ae(t,e);!function(e,t,n){Ie(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function hs(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ds=new rn("INJECTOR",-1);class fs{get(e,t=mn){if(t===mn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ps=new rn("Set Injector scope."),ms={},gs={};let ys;function _s(){return void 0===ys&&(ys=new fs),ys}function vs(e,t=null,n=null,r){return new bs(e,n,t||_s(),r)}class bs{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&ln(t,n=>this.processProvider(n,e,t)),ln([e],e=>this.processInjectorType(e,[],i)),this.records.set(ds,Cs(void 0,this));const s=this.records.get(ps);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=mn,n=N.Default){this.assertNotDestroyed();const r=Tn(this),i=P(void 0);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof rn)&&C(e);t=n&&this.injectableDefInScope(n)?Cs(ws(e),ms):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?_s():this.parent).get(e,t=n&N.Optional&&t===mn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[yn]=o[yn]||[]).unshift(u(e)),r)throw o;return An(o,e,"R3InjectorError",this.source)}throw o}finally{P(i),Tn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=p(e)))return!1;let r=E(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{ln(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];ln(r,e=>this.processProvider(e,n,r||Z))}}this.injectorDefTypes.add(s);const a=me(s)||(()=>new s);this.records.set(s,Cs(a,ms));const l=r.providers;if(null!=l&&!o){const t=e;ln(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Es(e=p(e))?e:p(e&&e.provide);const i=Ss(s=e)?Cs(void 0,s.useValue):Cs(Ts(s),ms);var s;if(Es(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Cs(void 0,ms,!0),t.factory=()=>In(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===ms&&(t.value=gs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=p(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ws(e){const t=C(e),n=null!==t?t.factory:me(e);if(null!==n)return n;if(e instanceof rn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=hn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[I]||e[k]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ts(e,t,n){let r;if(Es(e)){const t=p(e);return me(t)||ws(t)}if(Ss(e))r=()=>p(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...In(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Sn(p(e.useExisting));else{const t=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return me(t)||ws(t);r=()=>new t(...In(e.deps))}return r}function Cs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ss(e){return null!==e&&"object"==typeof e&&bn in e}function Es(e){return"function"==typeof e}const Is=function(e,t,n){return function(e,t=null,n=null,r){const i=vs(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let xs=(()=>{class e{static create(e,t){return Array.isArray(e)?Is(e,t,""):Is(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=mn,e.NULL=new fs,e.\u0275prov=w({token:e,providedIn:"any",factory:()=>Sn(ds)}),e.__NG_ELEMENT_ID__=-1,e})();function ks(e,t){_t(wr(e)[1],ze())}function As(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(fe(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Ns(e.inputs),t.declaredInputs=Ns(e.declaredInputs),t.outputs=Ns(e.outputs);const n=i.hostBindings;n&&Os(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Rs(e,s),o&&Ps(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),fe(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===As&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=kt(i.hostAttrs,n=kt(n,i.hostAttrs))}}(r)}function Ns(e){return e===V?{}:e===Z?[]:e}function Rs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Ps(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Os(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let Ds=null;function Ls(){if(!Ds){const e=j.Symbol;if(e&&e.iterator)Ds=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}class Fs{constructor(e){this.wrapped=e}static wrap(e){return new Fs(e)}static unwrap(e){return Fs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Fs}}function Ms(e){return!!qs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ls()in e)}function qs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Us(e,t,n){return e[t]=n}function js(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vs(e,t,n,r){const i=Ve();return js(i,Je(),t)&&(Ze(),$i(mt(),i,e,t,n,r)),Vs}function Zs(e,t,n,r){return js(e,Je(),n)?t+y(n)+r:fi}function Bs(e,t,n,r,i,s,o,a){const l=Ve(),c=Ze(),u=e+20,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=Si(t,e,4,o||null,Fe(c,a));qi(t,n,u,Fe(c,l)),_t(t,u);const h=u.tViews=Di(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];$e(h,!1);const d=l[11].createComment("");$r(c,l,d,h),br(d,l),Xi(l,l[u]=Ki(d,l,d,h)),de(h)&&Ri(c,l,h),null!=o&&Pi(l,h,a)}function zs(e){return Pe(Ue.lFrame.contextLView,20+e)}function Hs(e,t=N.Default){const n=Ve();return null===n?Sn(e,t):Bt(ze(),n,p(e),t)}function $s(e,t,n){const r=Ve();return js(r,Je(),t)&&Mi(Ze(),mt(),r,e,t,r[11],n,!1),$s}function Gs(e,t,n,r,i){const s=i?"class":"style";cs(e,n,t.inputs[s],s,r)}function Ws(e,t,n,r){const i=Ve(),s=Ze(),o=20+e,a=i[11],l=i[o]=Dr(a,t,Ue.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=Si(t,e,2,i,Fe(a,s));return qi(t,n,l,Fe(a,o)),null!==l.attrs&&hs(l,l.attrs,!1),null!==l.mergedAttrs&&hs(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];$e(c,!0);const u=c.mergedAttrs;null!==u&&Et(a,l,u);const h=c.classes;null!==h&&ei(a,l,h);const d=c.styles;null!==d&&Xr(a,l,d),64!=(64&c.flags)&&$r(s,i,l,c),0===Ue.lFrame.elementDepthCount&&br(l,i),Ue.lFrame.elementDepthCount++,de(c)&&(Ri(s,i,c),Ni(s,c,i)),null!==r&&Pi(i,c)}function Ks(){let e=ze();Ge()?We():(e=e.parent,$e(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(_t(n,e),ue(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Gs(n,t,Ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Gs(n,t,Ve(),t.stylesWithoutHost,!1)}function Ys(e,t,n,r){Ws(e,t,n,r),Ks()}function Qs(e,t,n){const r=Ve(),i=Ze(),s=e+20,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Fe(s,r),a=Si(t,e,8,"ng-container",o);return null!==o&&hs(a,o,!0),qi(t,n,a,Fe(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];$e(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),br(a,r),de(o)&&(Ri(i,r,o),Ni(i,o,r)),null!=n&&Pi(r,o)}function Js(){let e=ze();const t=Ze();Ge()?We():(e=e.parent,$e(e,!1)),t.firstCreatePass&&(_t(t,e),ue(e)&&t.queries.elementEnd(e))}function Xs(e,t,n){Qs(e,t,n),Js()}function eo(){return Ve()}function to(e){return!!e&&"function"==typeof e.then}function no(e){return!!e&&"function"==typeof e.subscribe}const ro=no;function io(e,t,n,r){const i=Ve(),s=Ze(),o=ze();return oo(s,i,i[11],o,e,t,!!n,r),io}function so(e,t){const n=ze(),r=Ve(),i=Ze();return oo(i,r,as(nt(i.data),n,r),n,e,t,!1),so}function oo(e,t,n,r,i,s,o,a){const l=de(r),c=e.firstCreatePass&&os(e),u=t[8],h=ss(t);let d=!0;if(3&r.type||a){const f=Ne(r,t),p=a?a(f):f,m=h.length,g=a?e=>a(ke(e[r.index])):r.index;if(Ie(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=lo(r,t,u,s,!1);const e=n.listen(p,i,s);h.push(s,e),c&&c.push(i,g,m,m+1)}}else s=lo(r,t,u,s,!0),p.addEventListener(i,s,o),h.push(s),c&&c.push(i,g,m,o)}else s=lo(r,t,u,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function ao(e,t,n,r){try{return!1!==n(r)}catch(i){return ls(e,i),!1}}function lo(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Oe(e.index,t):t;0==(32&t[2])&&es(o);let a=ao(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=ao(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function co(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function uo(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ci(e,s,!0):ui(r,s))return i}else n=i}return n}function ho(e){const t=Ve()[16][6];if(!t.projection){const n=t.projection=hn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?uo(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function fo(e,t=0,n){const r=Ve(),i=Ze(),s=Si(i,20+e,16,null,n||null);null===s.projection&&(s.projection=t),We(),64!=(64&s.flags)&&function(e,t,n){Jr(t[11],0,t,n,Ur(e,n,t),zr(n.parent||t[6],n,t))}(i,r,s)}function po(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?yi(s):vi(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];mo(e[a],t)&&(l=!0,e[a+1]=r?wi(n):_i(n)),a=r?yi(n):vi(n)}l&&(e[n+1]=r?_i(s):wi(s))}function mo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&pn(e,t)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yo(e){return e.substring(go.key,go.keyEnd)}function _o(e,t){const n=go.textEnd;return n===t?-1:(t=go.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,go.key=t,n),vo(e,t,n))}function vo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function bo(e,t,n){return Co(e,t,n,!1),bo}function wo(e,t){return Co(e,t,null,!0),wo}function To(e,t){for(let n=function(e){return function(e){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=e.length}(e),_o(e,vo(e,0,go.textEnd))}(t);n>=0;n=_o(t,n))dn(e,yo(t),!0)}function Co(e,t,n,r){const i=Ve(),s=Ze(),o=Xe(2);s.firstUpdatePass&&Eo(s,e,o,r),t!==fi&&js(i,o,t)&&ko(s,s.data[ft()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Vn(e)))),e}(t,n),r,o)}function So(e,t){return t>=e.expandoStartIndex}function Eo(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[ft()],o=So(e,n);Ro(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=nt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=xo(n=Io(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Io(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==vi(r))return e[yi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Io(null,e,t,n[1],r),n=xo(n,t.attrs,r),function(e,t,n,r){e[yi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=xo(r,e[s].hostAttrs,n);return xo(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=yi(o),l=vi(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||pn(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=yi(e[a+1]);e[r+1]=gi(t,a),0!==t&&(e[t+1]=bi(e[t+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=gi(a,0),0!==a&&(e[a+1]=bi(e[a+1],r)),a=r;else e[r+1]=gi(l,0),0===a?a=r:e[l+1]=bi(e[l+1],r),l=r;u&&(e[r+1]=_i(e[r+1])),po(e,c,r,!0),po(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&pn(s,t)>=0&&(n[r+1]=wi(n[r+1]))}(t,c,e,r,s),o=gi(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Io(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=xo(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function xo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dn(e,o,!!n||t[++s]))}return void 0===e?null:e}function ko(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];No(function(e){return 1==(1&e)}(c)?Ao(l,t,n,i,vi(c),o):void 0)||(No(s)||function(e){return 2==(2&e)}(c)&&(s=Ao(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Ie(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:xr.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=xr.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ae(ft(),n),i,s))}function Ao(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===fi&&(u=c?Z:void 0);let h=c?fn(u,r):l===r?u:void 0;if(s&&!No(h)&&(h=fn(t,r)),No(h)&&(a=h,o))return a;const d=e[i+1];i=o?yi(d):vi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=fn(e,r))}return a}function No(e){return void 0!==e}function Ro(e,t){return 0!=(e.flags&(t?16:32))}function Po(e,t=""){const n=Ve(),r=Ze(),i=e+20,s=r.firstCreatePass?Si(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ie(e)?e.createText(t):e.createTextNode(t)}(n[11],t);$r(r,n,o,s),$e(s,!1)}function Oo(e){return Do("",e,""),Oo}function Do(e,t,n){const r=Ve(),i=Zs(r,e,t,n);return i!==fi&&us(r,ft(),i),Do}function Lo(e,t,n){!function(e,t,n,r){const i=Ze(),s=Xe(2);i.firstUpdatePass&&Eo(i,null,s,r);const o=Ve();if(n!==fi&&js(o,s,n)){const a=i.data[ft()];if(Ro(a,r)&&!So(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),Gs(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===fi&&(i=Z);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,m=null;u===h?(l+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,p=f),null!==m&&ko(e,t,n,r,m,p,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return Z;const r=[],i=Vn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}(dn,To,Zs(Ve(),e,t,n),!0)}function Fo(e,t,n){const r=Ve();return js(r,Je(),t)&&Mi(Ze(),mt(),r,e,t,r[11],n,!0),Fo}function Mo(e,t,n){const r=Ve();if(js(r,Je(),t)){const i=Ze(),s=mt();Mi(i,s,r,e,t,as(nt(i.data),s,r),n,!0)}return Mo}const qo=void 0;var Uo=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let jo={};function Vo(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Bo(t);if(n)return n;const r=t.split("-")[0];if(n=Bo(r),n)return n;if("en"===r)return Uo;throw new Error(`Missing locale data for the locale "${e}".`)}function Zo(e){return Vo(e)[zo.PluralCase]}function Bo(e){return e in jo||(jo[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),jo[e]}var zo=(()=>((zo=zo||{})[zo.LocaleId=0]="LocaleId",zo[zo.DayPeriodsFormat=1]="DayPeriodsFormat",zo[zo.DayPeriodsStandalone=2]="DayPeriodsStandalone",zo[zo.DaysFormat=3]="DaysFormat",zo[zo.DaysStandalone=4]="DaysStandalone",zo[zo.MonthsFormat=5]="MonthsFormat",zo[zo.MonthsStandalone=6]="MonthsStandalone",zo[zo.Eras=7]="Eras",zo[zo.FirstDayOfWeek=8]="FirstDayOfWeek",zo[zo.WeekendRange=9]="WeekendRange",zo[zo.DateFormat=10]="DateFormat",zo[zo.TimeFormat=11]="TimeFormat",zo[zo.DateTimeFormat=12]="DateTimeFormat",zo[zo.NumberSymbols=13]="NumberSymbols",zo[zo.NumberFormats=14]="NumberFormats",zo[zo.CurrencyCode=15]="CurrencyCode",zo[zo.CurrencySymbol=16]="CurrencySymbol",zo[zo.CurrencyName=17]="CurrencyName",zo[zo.Currencies=18]="Currencies",zo[zo.Directionality=19]="Directionality",zo[zo.PluralCase=20]="PluralCase",zo[zo.ExtraData=21]="ExtraData",zo))();const Ho="en-US";let $o=Ho;function Go(e){b(e,"Expected localeId to be defined"),"string"==typeof e&&($o=e.toLowerCase().replace(/_/g,"-"))}function Wo(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(let s=0;s<e.length;s++)Wo(e[s],t,n,r,i);else{const s=Ze(),o=Ve();let a=Es(e)?e:p(e.provide),l=Ts(e);const c=ze(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Es(e)||!e.multi){const r=new St(l,i,Hs),f=Qo(a,t,i?u:u+d,h);-1===f?(jt(Ft(c,o),s,a),Ko(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Qo(a,t,u+d,h),p=Qo(a,t,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){jt(Ft(c,o),s,a);const u=function(e,t,n,r,i){const s=new St(e,n,Hs);return s.multi=[],s.index=t,s.componentProviders=0,Yo(s,i,r&&!n),s}(i?Xo:Jo,n.length,i,r,l);!i&&g&&(n[p].providerFactory=u),Ko(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Ko(s,e,f>-1?f:p,Yo(n[i?p:f],l,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Ko(e,t,n,r){const i=Es(t);if(i||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qo(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Jo(e,t,n,r){return ea(this.multi,[])}function Xo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Wt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),ea(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],ea(i,s);return s}function ea(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ta(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ze();if(r.firstCreatePass){const i=fe(e);Wo(n,r.data,r.blueprint,i,!0),Wo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class na{}const ra="ngComponent";class ia{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[ra]=e,t}(e)}}let sa=(()=>{class e{}return e.NULL=new ia,e})();function oa(...e){}function aa(e,t){return new ca(Ne(e,t))}const la=function(){return aa(ze(),Ve())};let ca=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=la,e})();function ua(e){return e instanceof ca?e.nativeElement:e}class ha{}let da=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>fa(),e})();const fa=function(){const e=Ve(),t=Oe(ze().index,e);return function(e){return e[11]}(le(t)?t:e)};let pa=(()=>{class e{}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>null}),e})();class ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ga=new ma("12.2.13");class ya{constructor(){}supports(e){return Ms(e)}create(e){return new va(e)}}const _a=(e,t)=>t;class va{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_a}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Ca(n,r,i)?t:n,o=Ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ms(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ls()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new ba(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ba{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ta{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new wa,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Sa{constructor(){}supports(e){return e instanceof Map||qs(e)}create(){return new Ea}}class Ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qs(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ia(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Ia{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xa(){return new ka([new ya])}let ka=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||xa()),deps:[[e,new Pn,new Rn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:xa}),e})();function Aa(){return new Na([new Sa])}let Na=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Aa()),deps:[[e,new Pn,new Rn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:Aa}),e})();function Ra(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(ke(s)),ce(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Ra(t[1],t,n,r)}const o=n.type;if(8&o)Ra(e,t,n.child,r);else if(32&o){const e=kr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Wr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ar(t[16]);Ra(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Pa{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ra(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ce(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Fr(e,n),un(t,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(e){Li(this._lView[1],this._lView,null,e)}markForCheck(){es(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ts(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ye(!0);try{ts(e,t,n)}finally{Ye(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Qr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Oa extends Pa{constructor(e){super(e),this._view=e}detectChanges(){ns(this._view)}checkNoChanges(){!function(e){Ye(!0);try{ns(e)}finally{Ye(!1)}}(this._view)}get context(){return null}}const Da=function(e){return function(e,t,n){if(he(e)&&!n){const n=Oe(e.index,t);return new Pa(n,n)}return 47&e.type?new Pa(t[16],t):null}(ze(),Ve(),16==(16&e))};let La=(()=>{class e{}return e.__NG_ELEMENT_ID__=Da,e})();const Fa=[new Sa],Ma=new ka([new ya]),qa=new Na(Fa),Ua=function(){return Ba(ze(),Ve())};let ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ua,e})();const Va=ja,Za=class extends Va{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Ci(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ii(t,n,e),new Pa(n)}};function Ba(e,t){return 4&e.type?new Za(t,e,aa(e,t)):null}class za{}class Ha{}const $a=function(){return Ja(ze(),Ve())};let Ga=(()=>{class e{}return e.__NG_ELEMENT_ID__=$a,e})();const Wa=Ga,Ka=class extends Wa{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ut(this._hostTNode,this._hostLView);if(Nt(e)){const t=Pt(e,this._hostLView),n=Rt(e);return new Qt(t[1].data[n+8],t)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ya(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(za,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(ce(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Ka(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],cn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Kr(i,s),a=n[11],l=Br(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Qr(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),cn(Qa(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ya(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Fr(this._lContainer,t);n&&(un(Qa(this._lContainer),t),Mr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Fr(this._lContainer,t);return n&&null!=un(Qa(this._lContainer),t)?new Pa(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Ya(e){return e[8]}function Qa(e){return e[8]||(e[8]=[])}function Ja(e,t){let n;const r=t[e.index];if(ce(r))n=r;else{let i;if(8&e.type)i=ke(r);else{const n=t[11];i=n.createComment("");const r=Ne(e,t);jr(n,Br(n,r),i,function(e,t){return Ie(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ki(r,t,i,e),Xi(t,n)}return new Ka(n,e,t)}const Xa={};class el extends sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new rl(t,this.ngModule)}}function tl(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const nl=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Er});class rl extends na{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(di).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return tl(this.componentDef.inputs)}get outputs(){return tl(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Xa,i);return s!==Xa||r===Xa?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(ha,xe),o=i.get(pa,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ie(e))return e.selectRootElement(t,n===F.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Ce:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||Er,clean:is,playerHandler:t||null,flags:0}}(),d=Di(0,null,null,1,0,null,null,null,null,null),f=Ci(null,d,h,u,null,null,s,a,o,i);let p,m;at(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Si(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(hs(a,l,!0),null!==e&&(Et(i,e,l),null!==a.classes&&ei(i,e,a.classes),null!==a.styles&&Xr(i,e,a.styles)));const c=r.createRenderer(e,t),u=Ci(n,Oi(t),null,t.onPush?64:16,n[20],a,r,c,s||null,null);return o.firstCreatePass&&(jt(Ft(a,n),o,t.type),Vi(o,a),Bi(a,n.length,1)),Xi(n,u),n[20]=u}(c,this.componentDef,f,s,a);if(c)if(n)Et(a,c,["ng-version",ga.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ai(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Et(a,c,e),t&&t.length>0&&ei(a,c,t.join(" "))}if(m=Re(d,20),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=ze();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(e,r,t,Ei(e,t,1,null),n));const i=Wt(t,e,r.directiveStart,r);br(i,t);const s=Ne(r,t);return s&&br(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=ze();t.contentQueries(1,o,e.directiveStart)}const a=ze();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(pt(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,t),ji(t,o)),o}(e,this.componentDef,f,h,[ks]),Ii(d,f,null)}finally{dt()}return new il(this.componentType,p,aa(m,f),f,m)}}class il extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Oa(r),this.componentType=e}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const sl=new Map;class ol extends za{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new el(this);const n=ae(e),r=e[G]||null;r&&Go(r),this._bootstrapComponents=Ir(n.bootstrap),this._r3Injector=vs(e,t,[{provide:za,useValue:this},{provide:sa,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=xs.THROW_IF_NOT_FOUND,n=N.Default){return e===xs||e===za||e===ds?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class al extends Ha{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,sl.get(i),n),sl.set(i,n));const s=Ir(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new ol(this.moduleType,e)}}function ll(e,t,n,r){return hl(Ve(),Qe(),e,t,n,r)}function cl(e,t,n,r,i){return function(e,t,n,r,i,s,o){const a=t+n;return function(e,t,n,r){const i=js(e,t,n);return js(e,t+1,r)||i}(e,a,i,s)?Us(e,a+2,o?r.call(o,i,s):r(i,s)):ul(e,a+2)}(Ve(),Qe(),e,t,n,r,i)}function ul(e,t){const n=e[t];return n===fi?void 0:n}function hl(e,t,n,r,i,s){const o=t+n;return js(e,o,i)?Us(e,o+1,s?r.call(s,i):r(i)):ul(e,o+1)}function dl(e,t){const n=Ze();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=me(r.type)),o=P(Hs);try{const e=Dt(!1),t=s();return Dt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ve(),i,t),t}finally{P(o)}}function fl(e,t,n){const r=e+20,i=Ve(),s=Pe(i,r);return function(e,t){Fs.isWrapped(t)&&(t=Fs.unwrap(t),e[Ue.lFrame.bindingIndex]=fi);return t}(i,function(e,t){return e[1].data[t].pure}(i,r)?hl(i,Qe(),t,s.transform,n,s):s.transform(n))}function pl(e){return t=>{setTimeout(e,void 0,t)}}const ml=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=pl(l),a&&(a=pl(a)),c&&(c=pl(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.w&&e.add(u),u}};function gl(){return this._results[Ls()]()}class yl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ls(),n=yl.prototype;n[t]||(n[t]=gl)}get changes(){return this._changes||(this._changes=new ml)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=an(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class _l{constructor(e){this.queryList=e,this.matches=null}clone(){return new _l(this.queryList)}setDirty(){this.queryList.setDirty()}}class vl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new vl(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ol(e,t).matches&&this.queries[t].setDirty()}}class bl{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class wl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new wl(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Tl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Tl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Cl(t,i)),this.matchTNodeWithReadOption(e,t,Gt(t,e,i,!1,!1))}else n===ja?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ca||r===Ga||r===ja&&4&t.type)this.addMatch(t.index,-2);else{const n=Gt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Cl(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Sl(e,t,n,r){return-1===n?function(e,t){return 11&e.type?aa(e,t):4&e.type?Ba(e,t):null}(t,e):-2===n?function(e,t,n){return n===ca?aa(t,e):n===ja?Ba(t,e):n===Ga?Ja(t,e):void 0}(e,t,r):Wt(e,e[1],n,t)}function El(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Sl(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Il(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=El(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&Il(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Il(n[1],n,i,r)}}}}}return r}function xl(e){const t=Ve(),n=Ze(),r=rt();it(r+1);const i=Ol(n,r);if(e.dirty&&De(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Il(n,t,r,[]):El(n,t,i,r);e.reset(s,ua),e.notifyOnChanges()}return!0}return!1}function kl(e,t,n){const r=Ze();r.firstCreatePass&&(Pl(r,new bl(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Rl(r,Ve(),t)}function Al(e,t,n,r){const i=Ze();if(i.firstCreatePass){const s=ze();Pl(i,new bl(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Rl(i,Ve(),n)}function Nl(){return e=Ve(),t=rt(),e[19].queries[t].queryList;var e,t}function Rl(e,t,n){const r=new yl(4==(4&n));Li(e,t,r,r.destroy),null===t[19]&&(t[19]=new vl),t[19].queries.push(new _l(r))}function Pl(e,t,n){null===e.queries&&(e.queries=new wl),e.queries.track(new Tl(t,n))}function Ol(e,t){return e.queries.getByIndex(t)}function Dl(e,t){return Ba(e,t)}const Ll=new rn("Application Initializer");let Fl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=oa,this.reject=oa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(to(t))e.push(t);else if(ro(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Sn(Ll,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const Ml=new rn("AppId"),ql={provide:Ml,useFactory:function(){return`${Ul()}${Ul()}${Ul()}`},deps:[]};function Ul(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jl=new rn("Platform Initializer"),Vl=new rn("Platform ID"),Zl=new rn("appBootstrapListener");let Bl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const zl=new rn("LocaleId"),Hl=new rn("DefaultCurrencyCode");class $l{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Gl=function(e){return new al(e)},Wl=Gl,Kl=function(e){return Promise.resolve(Gl(e))},Yl=function(e){const t=Gl(e),n=Ir(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new rl(n)),e},[]);return new $l(t,n)},Ql=Yl,Jl=function(e){return Promise.resolve(Yl(e))};let Xl=(()=>{class e{constructor(){this.compileModuleSync=Wl,this.compileModuleAsync=Kl,this.compileModuleAndAllComponentsSync=Ql,this.compileModuleAndAllComponentsAsync=Jl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const ec=(()=>Promise.resolve(0))();function tc(e){"undefined"==typeof Zone?ec.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class nc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sc(e),e.isCheckStableRunning=!0,ic(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return oc(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ac(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return oc(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),ac(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,sc(e),ic(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,rc,oa,oa);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const rc={};function ic(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ac(e){e._nesting--,ic(e)}class lc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let cc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nc.assertNotInAngularZone(),tc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Sn(nc))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})(),uc=(()=>{class e{constructor(){this._applications=new Map,fc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return fc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();class hc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function dc(e){fc=e}let fc=new hc,pc=!0,mc=!1;function gc(){return mc=!0,pc}function yc(){if(mc)throw new Error("Cannot enable prod mode after platform setup.");pc=!1}let _c;const vc=new rn("AllowMultipleToken");class bc{constructor(e,t){this.name=e,this.token=t}}function wc(e,t,n=[]){const r=`Platform: ${t}`,i=new rn(r);return(t=[])=>{let s=Tc();if(!s||s.injector.get(vc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ps,useValue:"platform"});!function(e){if(_c&&!_c.destroyed&&!_c.injector.get(vc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_c=e.get(Cc);const t=e.get(jl,null);t&&t.forEach(e=>e())}(xs.create({providers:e,name:r}))}return function(e){const t=Tc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Tc(){return _c&&!_c.destroyed?_c:null}let Cc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new lc:("zone.js"===e?void 0:e)||new nc({enableLongStackTrace:gc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:nc,useValue:n}];return n.run(()=>{const i=xs.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(i),o=s.injector.get(Sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});s.onDestroy(()=>{Ic(this._modules,s),e.unsubscribe()})}),function(e,n,r){try{const t=r();return to(t)?t.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw n.runOutsideAngular(()=>e.handleError(t)),t}}(o,n,()=>{const e=s.injector.get(Fl);return e.runInitializers(),e.donePromise.then(()=>(Go(s.injector.get(zl,Ho)||Ho),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Sc({},t);return function(e,t,n){const r=new al(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Sn(xs))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Sc(e,t){return Array.isArray(t)?t.reduce(Sc,e):Object.assign(Object.assign({},e),t)}let Ec=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{nc.assertNotInAngularZone(),tc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof na?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(za),i=n.create(xs.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(cc,null),a=o&&i.injector.get(uc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ic(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ic(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Zl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Sn(nc),Sn(xs),Sn(Sr),Sn(sa),Sn(Fl))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Ic(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xc{}class kc{}const Ac={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Nc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Ac}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Rc(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Rc(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Sn(Xl),Sn(kc,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Rc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Pc=function(e){return null},Oc=wc(null,"core",[{provide:Vl,useValue:"unknown"},{provide:Cc,deps:[xs]},{provide:uc,deps:[]},{provide:Bl,deps:[]}]),Dc=[{provide:Ec,useClass:Ec,deps:[nc,xs,Sr,sa,Fl]},{provide:nl,deps:[nc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Fl,useClass:Fl,deps:[[new Rn,Ll]]},{provide:Xl,useClass:Xl,deps:[]},ql,{provide:ka,useFactory:function(){return Ma},deps:[]},{provide:Na,useFactory:function(){return qa},deps:[]},{provide:zl,useFactory:function(e){return Go(e=e||"undefined"!=typeof $localize&&$localize.locale||Ho),e},deps:[[new Nn(zl),new Rn,new Pn]]},{provide:Hl,useValue:"USD"}];let Lc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Sn(Ec))},e.\u0275mod=te({type:e}),e.\u0275inj=T({providers:Dc}),e})()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return m},xv:function(){return h},Dh:function(){return u},GT:function(){return l},cc:function(){return g},on:function(){return d},pX:function(){return a}});var r=n(7716),i=n(7841),s=n(3964);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function g(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(_("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),_("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,_=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3964:function(e,t,n){"use strict";n.d(t,{q4:function(){return zn},iC:function(){return tr},HU:function(){return Xn},vb:function(){return Kn},JM:function(){return Wn}});var r=n(7716),i=n(2329),s=n(8239),o=n(8026),a=n(3854),l=n(3910),c=n(5422),u=n(6676);const h="@firebase/installations",d="0.5.4",f=`w:${d}`,p="FIS_v2",m=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function _(e){return{token:e.token,requestStatus:2,expiresIn:E(e.expiresIn),creationTime:Date.now()}}function v(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return m.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=w(e);return n.append("Authorization",function(e){return`${p} ${e}`}(t)),n}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function E(e){return Number(e.replace("s","000"))}function I(e,t){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:w(e),body:JSON.stringify({fid:t,authVersion:p,appId:e.appId,sdkVersion:f})},i=yield C(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:_(e.authToken)}}throw yield v("Create Installation",i)})).apply(this,arguments)}function k(e){return new Promise(t=>{setTimeout(t,e)})}const A=/^[cdef][\w-]{21}$/;function N(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return A.test(t)?t:""}catch(e){return""}}function R(e){return`${e.appName}!${e.appId}`}const P=new Map;function O(e,t){const n=R(e);D(n,t),function(e,t){const n=(!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{D(e.data.key,e.data.fid)}),L);n&&n.postMessage({key:e,fid:t}),0===P.size&&L&&(L.close(),L=null)}(n,t)}function D(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let L=null;const F="firebase-installations-store";let M=null;function q(){return M||(M=(0,u.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(F)}})),M}function U(e,t){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(e,t){const n=R(e),r=(yield q()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n);return yield i.put(t,n),yield r.complete,(!s||s.fid!==t.fid)&&O(e,t.fid),t})).apply(this,arguments)}function V(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e){const t=R(e),n=(yield q()).transaction(F,"readwrite");yield n.objectStore(F).delete(t),yield n.complete})).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function*(e,t){const n=R(e),r=(yield q()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&O(e,o.fid),o})).apply(this,arguments)}function H(e){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(e){let t;const n=yield B(e,n=>{const r=G(n),i=W(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function G(e){return X(e||{fid:N(),registrationStatus:0})}function W(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(m.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return K.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Y(e)}:{installationEntry:t}}function K(){return(K=(0,s.Z)(function*(e,t){try{return U(e,yield I(e,t))}catch(n){throw g(n)&&409===n.customData.serverCode?yield V(e):yield U(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(e){let t=yield J(e);for(;1===t.registrationStatus;)yield k(100),t=yield J(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield H(e);return n||t}return t})).apply(this,arguments)}function J(e){return B(e,e=>{if(!e)throw m.create("installation-not-found");return X(e)})}function X(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=ne(e,n),i=T(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield C(()=>fetch(r,o));if(a.ok)return _(yield a.json());throw yield v("Generate Auth Token",a)})).apply(this,arguments)}function ne(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t=!1){let n;const r=yield B(e.appConfig,r=>{if(!ue(r))throw m.create("not-registered");const i=r.authToken;if(!t&&he(i))return r;if(1===i.requestStatus)return n=se(e,t),r;{if(!navigator.onLine)throw m.create("app-offline");const t=de(r);return n=le(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(e,t){let n=yield ae(e.appConfig);for(;1===n.authToken.requestStatus;)yield k(100),n=yield ae(e.appConfig);const r=n.authToken;return 0===r.requestStatus?re(e,t):r})).apply(this,arguments)}function ae(e){return B(e,e=>{if(!ue(e))throw m.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(e,t){try{const n=yield ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield U(e.appConfig,r),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield U(e.appConfig,n)}else yield V(e.appConfig);throw n}})).apply(this,arguments)}function ue(e){return void 0!==e&&2===e.registrationStatus}function he(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function de(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function fe(){return(fe=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield H(t.appConfig);return r?r.catch(console.error):re(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield me(n.appConfig),(yield re(n,t)).token})).apply(this,arguments)}function me(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,s.Z)(function*(e){const{registrationPromise:t}=yield H(e);t&&(yield t)})).apply(this,arguments)}function ye(e){return m.create("missing-app-config-values",{valueName:e})}const _e="installations";(0,o._registerComponent)(new l.wA(_e,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ye("App Configuration");if(!e.name)throw ye("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ye(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,_e).getImmediate();return{getId:()=>function(e){return fe.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ve="@firebase/remote-config",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Te(e=navigator){return e.languages&&e.languages[0]||e.language}class Ce{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Te()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(i,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(m){let e="fetch-client-network";throw"AbortError"===m.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let f,p;if(200===u.status){let e;try{e=yield u.json()}catch(g){throw be.create("fetch-client-parse",{originalErrorMessage:g.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:("NO_TEMPLATE"===p||"EMPTY_CONFIG"===p)&&(f={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Se{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Ee{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ie(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const xe="app_namespace_store";class ke{constructor(e,t,n,r=function(){return new Promise((e,n)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=e=>{n(Ie(e,"storage-open"))},t.onsuccess=t=>{e(t.target.result)},t.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(xe,{keyPath:"compositeKey"})}}}catch(t){n(be.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([xe],"readonly").objectStore(xe),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ie(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([xe],"readwrite").objectStore(xe),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ie(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(l){s(be.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([xe],"readwrite").objectStore(xe),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ie(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ne(){return Re.apply(this,arguments)}function Re(){return(Re=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:l}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!l)throw be.create("registration-app-id");const u=new ke(l,n.name,t=t||"firebase"),h=new Ae(u),d=new c.Yd(ve);d.logLevel=c.in.ERROR;const f=new Ce(r,o.SDK_VERSION,t,i,s,l),p=new Se(f,u),m=new we(p,u,h,d),g=new Ee(n,m,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ve,"0.3.3"),(0,o.registerVersion)(ve,"0.3.3","esm2017");const Pe="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="google.c.a.c_id",Fe="google.c.a.c_l",Me="google.c.a.ts",qe="google.c.a.e";var Ue=(()=>{return(e=Ue||(Ue={})).PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",Ue;var e})();function je(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ve(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Ze="fcm_token_details_db",Be="fcm_token_object_Store";function ze(e){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ze))return null;let t=null;return(yield(0,u.openDb)(Ze,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(Be))return;const i=n.transaction.objectStore(Be),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:je(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:je(e.auth),p256dh:je(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:je(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:je(e.auth),p256dh:je(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:je(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,u.deleteDb)(Ze),yield(0,u.deleteDb)("fcm_vapid_details_db"),yield(0,u.deleteDb)("undefined"),$e(t)?t:null})).apply(this,arguments)}function $e(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ge="firebase-messaging-store";let We=null;function Ke(){return We||(We=(0,u.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Ge)}})),We}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(e){const t=nt(e),n=yield(yield Ke()).transaction(Ge).objectStore(Ge).get(t);if(n)return n;{const t=yield ze(e.appConfig.senderId);if(t)return yield Je(e,t),t}})).apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(e,t){const n=nt(e),r=(yield Ke()).transaction(Ge,"readwrite");return yield r.objectStore(Ge).put(t,n),yield r.complete,t})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e){const t=nt(e),n=(yield Ke()).transaction(Ge,"readwrite");yield n.objectStore(Ge).delete(t),yield n.complete})).apply(this,arguments)}function nt({appConfig:e}){return e.appId}const rt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ut(e.appConfig),i)).json()}catch(o){throw rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ut(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function lt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ht(e)};try{const r=yield(yield fetch(`${ut(e.appConfig)}/${t}`,n)).json();if(r.error)throw rt.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw rt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function ut({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ft({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==De&&(i.web.applicationPubKey=r),i}const pt=6048e5;function mt(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e){const t=yield Ct(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:je(t.getKey("auth")),p256dh:je(t.getKey("p256dh"))},r=yield Ye(e.firebaseDependencies);if(r){if(Et(r.subscriptionOptions,n))return Date.now()>=r.createTime+pt?vt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield lt(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return wt(e.firebaseDependencies,n)}return wt(e.firebaseDependencies,n)})).apply(this,arguments)}function yt(e){return _t.apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(e){const t=yield Ye(e.firebaseDependencies);t&&(yield lt(e.firebaseDependencies,t.token),yield et(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function vt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){try{const n=yield ot(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Je(e.firebaseDependencies,r),n}catch(n){throw yield yt(e),n}})).apply(this,arguments)}function wt(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(e,t){const n={token:yield it(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Je(e,n),n.token})).apply(this,arguments)}function Ct(e,t){return St.apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ve(t)})})).apply(this,arguments)}function Et(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function It(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function xt(e){return"object"==typeof e&&!!e&&Le in e}function kt(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function At(e){return rt.create("missing-app-config-values",{valueName:e})}kt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw At("App Configuration Object");if(!e.name)throw At("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw At(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Rt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Pe,{scope:Oe}),e.swRegistration.update().catch(()=>{})}catch(t){throw rt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function Ot(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){if(!t&&!e.swRegistration&&(yield Rt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Lt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=De)})).apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(e,t){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield Lt(e,null==t?void 0:t.vapidKey),yield Ot(e,null==t?void 0:t.serviceWorkerRegistration),mt(e)})).apply(this,arguments)}function qt(e,t,n){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(e,t,n){const r=jt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Le],message_name:n[Fe],message_time:n[Me],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jt(e){switch(e){case Ue.NOTIFICATION_CLICKED:return"notification_open";case Ue.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vt(){return(Vt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Ue.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(It(n)):e.onMessageHandler.next(It(n)));const r=n.data;xt(r)&&"1"===r[qe]&&(yield qt(e,n.messageType,r))})).apply(this,arguments)}const Zt="@firebase/messaging";function Bt(){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",e=>{const t=new Nt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Vt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Mt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Zt,"0.9.4"),(0,o.registerVersion)(Zt,"0.9.4","esm2017");const Ht="analytics",$t="firebase_id",Gt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wt="https://www.googletagmanager.com/gtag/js",Kt=new c.Yd("@firebase/analytics");function Yt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Qt(e,t){const n=document.createElement("script");n.src=`${Wt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Jt(e,t,n,r,i,s){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Yt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Kt.error(a)}e("config",i,s)})).apply(this,arguments)}function en(e,t,n,r,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Yt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Kt.error(s)}})).apply(this,arguments)}function nn(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Wt))return t;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function on(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function an(e){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:on(r)},s=Gt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function cn(e){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(e,t=sn,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new mn;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,l,t)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=e;try{yield fn(r,t)}catch(l){if(o)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}try{const t=yield an(e);return i.deleteThrottleMetadata(s),t}catch(l){if(!pn(l)){if(i.deleteThrottleMetadata(s),o)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}const t=503===Number(l.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,c),Kt.debug(`Calling attemptFetch again in ${t} millis`),hn(e,c,r,i)}})).apply(this,arguments)}function fn(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class mn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function gn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return Kt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Kt.warn(rn.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const l=cn(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Kt.error(e)),t.push(l);const c=gn().then(e=>{if(e)return r.getId()}),[u,h]=yield Promise.all([l,c]);nn()||Qt(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[$t]=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class vn{constructor(e){this.app=e}_delete(){return delete bn[this.app.options.appId],Promise.resolve()}}let bn={},wn=[];const Tn={};let Cn,Sn,En="dataLayer",In=!1;function xn(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:t});Kt.warn(n.message)}}();const r=e.options.appId;if(!r)throw rn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rn.create("no-api-key");Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bn[r])throw rn.create("already-exists",{id:r});if(!In){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(En);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield en(e,t,n,s,o):"config"===i?yield Jt(e,t,n,r,s,o):e("set",s)}catch(a){Kt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(bn,wn,Tn,En,"gtag");Sn=e,Cn=t,In=!0}return bn[r]=function(e,t,n,r,i,s,o){return _n.apply(this,arguments)}(e,wn,Tn,t,Cn,En,n),new vn(e)}function kn(){return(kn=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function An(){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Rn="@firebase/analytics";(0,o._registerComponent)(new l.wA(Ht,(e,{options:t})=>xn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(e){try{const t=e.getProvider(Ht).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return kn.apply(this,arguments)}(Sn,bn[e.app.options.appId],t,n,r).catch(e=>Kt.error(e))}(t,e,n,r)}}catch(t){throw rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Rn,"0.7.4"),(0,o.registerVersion)(Rn,"0.7.4","esm2017");var Pn=n(504);class On extends Pn.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var Dn=n(9713);class Ln extends Dn.v{}const Fn=new Ln(On);var Mn=n(4346),qn=n(6361),Un=n(3201),jn=n(1894),Vn=n(576),Zn=n(8127),Bn=n(8341);const zn=new r.GfV("7.2.0"),Hn="__angularfire_symbol__analyticsIsSupported",$n="__angularfire_symbol__remoteConfigIsSupported",Gn="__angularfire_symbol__messagingIsSupported";function Wn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Hn]||(globalThis[Hn]=An().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Gn]||(globalThis[Gn]=Bt().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[$n]||(globalThis[$n]=Ne().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const Kn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Yn(){}class Qn{constructor(e,t=Fn){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Jn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yn,{},Yn,Yn)),t.pipe(function(e,t,n){const r=(0,qn.m)(e)?{next:e,error:t,complete:n}:e;return r?(0,Un.e)((e,t)=>{var n;null===(n=r.subscribe)||void 0===n||n.call(r);let i=!0;e.subscribe(new jn.Q(t,e=>{var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)},()=>{var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()},e=>{var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)},()=>{var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)}))}):Vn.y}({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Qn(Zone.current)),this.insideAngular=e.run(()=>new Qn(Zone.current,Mn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function er(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function tr(e){return er(),function(e){return function(t){return(t=t.lift(new Jn(e.ngZone))).pipe((0,Zn.R)(e.outsideAngular),(0,Bn.Q)(e.insideAngular))}}(er())(e)}},2515:function(e,t,n){"use strict";n.d(t,{Hp:function(){return f},Lv:function(){return d}});var r=n(6361),i=n(2669),s=n(5960),o=n(9249),a=n(9361);const l=(()=>c("C",void 0,void 0))();function c(e,t,n){return{kind:e,value:t,error:n}}var u=n(2487),h=n(776);class d extends i.w0{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,(0,i.Nn)(e)&&e.add(this)):this.destination=y}static create(e,t,n){return new f(e,t,n)}next(e){this.isStopped?g(c("N",e,void 0),this):this._next(e)}error(e){this.isStopped?g(c("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?g(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class f extends d{constructor(e,t,n){let i;if(super(),(0,r.m)(e))i=e;else if(e){let r;({next:i,error:t,complete:n}=e),this&&s.v.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe()):r=e,i=null==i?void 0:i.bind(r),t=null==t?void 0:t.bind(r),n=null==n?void 0:n.bind(r)}this.destination={next:i?p(i):a.Z,error:p(null!=t?t:m),complete:n?p(n):a.Z}}}function p(e,t){return(...t)=>{try{e(...t)}catch(n){s.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(n):(0,o.h)(n)}}}function m(e){throw e}function g(e,t){const{onStoppedNotification:n}=s.v;n&&u.z.setTimeout(()=>n(e,t))}const y={closed:!0,next:a.Z,error:m,complete:a.Z}},2669:function(e,t,n){"use strict";n.d(t,{Lc:function(){return a},w0:function(){return o},Nn:function(){return l}});var r=n(6361);const i=(0,n(9753).d)(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});var s=n(8208);class o{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const e of s)e.remove(this);else s.remove(this);const{initialTeardown:o}=this;if((0,r.m)(o))try{o()}catch(t){e=t instanceof i?t.errors:[t]}const{_teardowns:a}=this;if(a){this._teardowns=null;for(const t of a)try{c(t)}catch(n){e=null!=e?e:[],n instanceof i?e=[...e,...n.errors]:e.push(n)}}if(e)throw new i(e)}}add(e){var t;if(e&&e!==this)if(this.closed)c(e);else{if(e instanceof o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)}remove(e){const{_teardowns:t}=this;t&&(0,s.P)(t,e),e instanceof o&&e._removeParent(this)}}o.EMPTY=(()=>{const e=new o;return e.closed=!0,e})();const a=o.EMPTY;function l(e){return e instanceof o||e&&"closed"in e&&(0,r.m)(e.remove)&&(0,r.m)(e.add)&&(0,r.m)(e.unsubscribe)}function c(e){(0,r.m)(e)?e():e.unsubscribe()}},5960:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1894:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(2515);class i extends r.Lv{constructor(e,t,n,r,i){super(e),this.onFinalize=i,this._next=t?function(n){try{t(n)}catch(r){e.error(r)}}:super._next,this._error=r?function(t){try{r(t)}catch(n){e.error(n)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},8341:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(768),i=n(3201),s=n(1894);function o(e,t=0){return(0,i.e)((n,i)=>{n.subscribe(new s.Q(i,n=>(0,r.f)(i,e,()=>i.next(n),t),()=>(0,r.f)(i,e,()=>i.complete(),t),n=>(0,r.f)(i,e,()=>i.error(n),t)))})}},8127:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(3201);function i(e,t=0){return(0,r.e)((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}},504:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(2669);class i extends r.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const s={setInterval(...e){const{delegate:t}=s;return((null==t?void 0:t.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:t}=s;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};var o=n(8208);class a extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return s.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;s.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}},9713:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(1373);class i{constructor(e,t=i.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}i.now=r.l.now;class s extends i{constructor(e,t=i.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},4346:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(504);const i=new(n(9713).v)(r.o)},1373:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},2487:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r={setTimeout(...e){const{delegate:t}=r;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=r;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},8208:function(e,t,n){"use strict";function r(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},9753:function(e,t,n){"use strict";function r(e){const t=e(e=>{Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},776:function(e,t,n){"use strict";n.d(t,{x:function(){return s},O:function(){return o}});var r=n(5960);let i=null;function s(e){if(r.v.useDeprecatedSynchronousErrorHandling){const t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){const{errorThrown:e,error:t}=i;if(i=null,e)throw t}}else e()}function o(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},768:function(e,t,n){"use strict";function r(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}n.d(t,{f:function(){return r}})},576:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},6361:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},3201:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(6361);function i(e){return t=>{if(function(e){return(0,r.m)(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},9361:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},9249:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(5960),i=n(2487);function s(e){i.z.setTimeout(()=>{const{onUnhandledError:t}=r.v;if(!t)throw e;t(e)})}},3854:function(e,t,n){"use strict";n.d(t,{BH:function(){return f},LL:function(){return N},ZR:function(){return A},gQ:function(){return $},zI:function(){return k},hu:function(){return r},g5:function(){return i},US:function(){return o},tV:function(){return c},h$:function(){return a},$s:function(){return ne},r3:function(){return M},Sg:function(){return p},ne:function(){return G},p$:function(){return u},vZ:function(){return V},ZB:function(){return h},gK:function(){return Q},pd:function(){return H},m9:function(){return re},z$:function(){return m},GJ:function(){return F},jU:function(){return _},ru:function(){return v},d:function(){return w},xb:function(){return U},w1:function(){return T},hl:function(){return I},uI:function(){return g},UG:function(){return y},Yr:function(){return S},b$:function(){return b},G6:function(){return E},Mn:function(){return C},w9:function(){return L},cI:function(){return P},UI:function(){return j},xO:function(){return B},zd:function(){return z},DV:function(){return q},ug:function(){return te},dS:function(){return ee},Pz:function(){return O},Dv:function(){return Y},Wj:function(){return J},lb:function(){return X},eu:function(){return x}});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=s(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!d(n)||(e[n]=h(e[n],t[n]));return e}function d(e){return"__proto__"!==e}class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function _(){return"object"==typeof self&&self.self===self}function v(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return m().indexOf("Electron/")>=0}function T(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return m().indexOf("MSAppHost/")>=0}function S(){return!1}function E(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"object"==typeof indexedDB}function x(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function k(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class A extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new A(r,`${this.serviceName}: ${s} (${r}).`,n)}}const R=/\{\$([^}]+)}/g;function P(e){return JSON.parse(e)}function O(e){return JSON.stringify(e)}const D=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=P(c(s[0])||""),n=P(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},L=function(e){const t=D(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},F=function(e){const t=D(e).claims;return"object"==typeof t&&!0===t.admin};function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function U(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function V(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Z(n)&&Z(s)){if(!V(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(e){return null!==e&&"object"==typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function H(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function G(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K(){}const Y=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Q(e,t){return`${e} failed: ${t} argument `}function J(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Q(e,t)+"must be a valid function.")}function X(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Q(e,t)+"must be a valid context object.")}const ee=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},te=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ne(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function re(e){return e&&e._delegate?e._delegate:e}},8686:function(e,t,n){e.exports=n(5454)},4054:function(e,t,n){"use strict";var r=n(9471),i=n(5650),s=n(300),o=n(7790),a=n(4634),l=n(1929),c=n(2984),u=n(5886),h=n(2567),d=n(8728);e.exports=function(e){return new Promise(function(t,n){var f,p=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(p)&&delete m["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+b)}var w=a(e.baseURL,e.url);function T(){if(_){var r="getAllResponseHeaders"in _?l(_.getAllResponseHeaders()):null;i(function(e){t(e),y()},function(e){n(e),y()},{data:g&&"text"!==g&&"json"!==g?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:r,config:e,request:_}),_=null}}if(_.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||4!==_.readyState||0===_.status&&(!_.responseURL||0!==_.responseURL.indexOf("file:"))||setTimeout(T)},_.onabort=function(){!_||(n(u("Request aborted",e,"ECONNABORTED",_)),_=null)},_.onerror=function(){n(u("Network Error",e,null,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,(e.transitional||h.transitional).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},r.isStandardBrowserEnv()){var C=(e.withCredentials||c(w))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;C&&(m[e.xsrfHeaderName]=C)}"setRequestHeader"in _&&r.forEach(m,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete m[t]:_.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),g&&"json"!==g&&(_.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){!_||(n(!e||e&&e.type?new d("canceled"):e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),p||(p=null),_.send(p)})}},5454:function(e,t,n){"use strict";var r=n(9471),i=n(1533),s=n(3227),o=n(4018),a=function e(t){var n=new s(t),a=i(s.prototype.request,n);return r.extend(a,s.prototype,n),r.extend(a,n),a.create=function(n){return e(o(t,n))},a}(n(2567));a.Axios=s,a.Cancel=n(8728),a.CancelToken=n(701),a.isCancel=n(2130),a.VERSION=n(5370).version,a.all=function(e){return Promise.all(e)},a.spread=n(8908),a.isAxiosError=n(9541),e.exports=a,e.exports.default=a},8728:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},701:function(e,t,n){"use strict";var r=n(8728);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},2130:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3227:function(e,t,n){"use strict";var r=n(9471),i=n(7790),s=n(3976),o=n(6764),a=n(4018),l=n(3558),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var i,s=[];if(this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)}),!r){var u=[o,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var h=e;n.length;){var d=n.shift(),f=n.shift();try{h=d(h)}catch(p){f(p);break}}try{i=o(h)}catch(p){return Promise.reject(p)}for(;s.length;)i=i.then(s.shift(),s.shift());return i},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}}),e.exports=u},3976:function(e,t,n){"use strict";var r=n(9471);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},4634:function(e,t,n){"use strict";var r=n(5164),i=n(1540);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5886:function(e,t,n){"use strict";var r=n(9570);e.exports=function(e,t,n,i,s){var o=new Error(e);return r(o,t,n,i,s)}},6764:function(e,t,n){"use strict";var r=n(9471),i=n(4284),s=n(2130),o=n(2567),a=n(8728);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},9570:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},4018:function(e,t,n){"use strict";var r=n(9471);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||s,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)}),n}},5650:function(e,t,n){"use strict";var r=n(5886);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4284:function(e,t,n){"use strict";var r=n(9471),i=n(2567);e.exports=function(e,t,n){var s=this||i;return r.forEach(n,function(n){e=n.call(s,e,t)}),e}},2567:function(e,t,n){"use strict";var r=n(9471),i=n(2196),s=n(9570),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(4054)),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=!(t&&t.silentJSONParsing)&&"json"===this.responseType;if(n||t&&t.forcedJSONParsing&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(n)throw"SyntaxError"===i.name?s(i,this,"E_JSON_PARSE"):i}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(o)}),e.exports=c},5370:function(e){e.exports={version:"0.24.0"}},1533:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},7790:function(e,t,n){"use strict";var r=n(9471);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var o=[];r.forEach(t,function(e,t){null==e||(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))}))}),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},1540:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},300:function(e,t,n){"use strict";var r=n(9471);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5164:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9541:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},2984:function(e,t,n){"use strict";var r=n(9471);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},2196:function(e,t,n){"use strict";var r=n(9471);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},1929:function(e,t,n){"use strict";var r=n(9471),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,o={};return e&&r.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o}},8908:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3558:function(e,t,n){"use strict";var r=n(5370).version,i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var s={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!s[r]&&(s[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],o=t[s];if(o){var a=e[s],l=void 0===a||o(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:i}},9471:function(e,t,n){"use strict";var r=n(1533),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){t[r]=l(t[r])&&l(n)?e(t[r],n):l(n)?e({},n):s(n)?n.slice():n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(8026);(0,r.registerVersion)("firebase","9.5.0","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(3394);r.Z.registerVersion("firebase","9.5.0","app-compat")},941:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(3394),s=n(3854),o=n(8026);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var l=n(5422),c=n(3910);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new l.Yd("@firebase/auth");function p(e,...t){f.logLevel<=l.in.ERROR&&f.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function m(e,...t){throw v(e,...t)}function g(e,...t){return v(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function _(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&m(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function b(e,t,...n){if(!e)throw v(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function T(e,t){e||w(t)}const C=new Map;function S(e){T(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===x()||"https:"===x()}function x(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class N{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new k(3e4,6e4);function O(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,r,i={}){return F(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=new(N.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&l.set("X-Firebase-Locale",e.languageCode),N.fetch()(j(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function F(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},R),t);try{const t=new V(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw Z(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Z(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Z(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);m(e,a)}}catch(i){if(i instanceof s.ZR)throw i;m(e,"network-request-failed")}})).apply(this,arguments)}function q(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield D(e,t,n,r,i);return"mfaPendingCredential"in s&&m(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function j(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class V{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Z(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Q(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:W(Y(i.auth_time)),issuedAtTime:W(Y(i.iat)),expirationTime:W(Y(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function J(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield J(e,$(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function le(){return(le=(0,r.Z)(function*(e,t){const n=yield F(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=j(e,r,"/v1/token",`key=${i}`);return N.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return le.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ce;return n&&(b("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return w("not implemented")}}function ue(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield J(t,t.stsTokenManager.getToken(t.auth,e));return b(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield J(e,function(e,t){return B.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:v,isAnonymous:w,providerData:T,stsTokenManager:C}=t;b(_&&C,e,"internal-error");const S=ce.fromJSON(this.name,C);b("string"==typeof _,e,"internal-error"),ue(u,e.name),ue(h,e.name),b("boolean"==typeof v,e,"internal-error"),b("boolean"==typeof w,e,"internal-error"),ue(d,e.name),ue(f,e.name),ue(p,e.name),ue(m,e.name),ue(g,e.name),ue(y,e.name);const E=new he({uid:_,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return T&&Array.isArray(T)&&(E.providerData=T.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ce;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function fe(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fe(this.userKey,r.apiKey,i),this.fullPersistenceKey=fe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(S(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||S(de);const o=fe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(t){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function me(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(we(t))return"Blackberry";if(Te(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||_e(t))&&!t.includes("edge/"))return"Chrome";if(be(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,s.z$)()){return/firefox\//i.test(e)}function ye(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _e(e=(0,s.z$)()){return/crios\//i.test(e)}function ve(e=(0,s.z$)()){return/iemobile/i.test(e)}function be(e=(0,s.z$)()){return/android/i.test(e)}function we(e=(0,s.z$)()){return/blackberry/i.test(e)}function Te(e=(0,s.z$)()){return/webos/i.test(e)}function Ce(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Se(e=(0,s.z$)()){return Ce(e)||be(e)||Te(e)||we(e)||/windows phone/i.test(e)||ve(e)}function Ee(e,t=[]){let n;switch(e){case"Browser":n=me((0,s.z$)());break;case"Worker":n=`${me((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ie{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;n._deleted||(n.persistenceManager=yield pe.create(n,e),!n._deleted&&((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted&&(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(b(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield re(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&b(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&b(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&S(e)||t._popupRedirectResolver;b(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[S(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function xe(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ne(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}function Pe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",O(e,t))})).apply(this,arguments)}function De(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Fe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",O(e,t))})).apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithPassword",O(e,t))})).apply(this,arguments)}function Ue(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",O(e,t))})).apply(this,arguments)}function Ve(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Be(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ge(e,t){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}class Qe extends Re{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return qe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:m(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ye.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:m(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithIdp",O(e,t))})).apply(this,arguments)}class et extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new et(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",O(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield q(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t));if(n.temporaryProof)throw Z(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class lt{constructor(e){var t,n,r,i,o,a;const l=(0,s.zd)((0,s.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);b(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new lt(t)}catch(n){return null}}}let ct=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=lt.parseLink(t);return b(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i||!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let ft=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),mt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Re{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gt(n,i):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yt extends ut{constructor(e){b(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return yt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gt.fromJSON(e);return b(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return gt._create(n,t)}catch(r){return null}}}let _t=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signUp",O(e,t))})).apply(this,arguments)}class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=Tt(n);return new wt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Tt(n);return new wt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Tt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ct(){return(Ct=(0,r.Z)(function*(e){var t;const n=xe(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class St extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,St.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new St(e,t,n,r)}}function Et(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?St._fromErrorAndOperation(e,n,t,r):n})}function It(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function xt(){return(xt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Nt(!0,n,t);const{providerUserInfo:r}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=It(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function kt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n=!1){const r=yield J(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return wt._forOperation(e,"link",r)})).apply(this,arguments)}function Nt(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";b(It(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield J(e,Et(r,i,t,e),n);b(s.idToken,r,"internal-error");const o=Q(s.idToken);b(o,r,"internal-error");const{sub:a}=o;return b(e.uid===a,r,"user-mismatch"),wt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&m(r,"user-mismatch"),s}})).apply(this,arguments)}function Dt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Et(e,r,t),s=yield wt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(xe(e),t)})).apply(this,arguments)}function qt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Nt(!1,n,t.providerId),kt(n,t)})).apply(this,arguments)}function jt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return Pt((0,s.m9)(e),t)})).apply(this,arguments)}function Zt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return q(e,"POST","/v1/accounts:signInWithCustomToken",O(e,t))})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){const n=xe(e),r=yield Zt(n,{token:t,returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ht{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$t._fromServerResponse(e,t):m(e,"internal-error")}}class $t extends Ht{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $t(t)}}function Gt(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Pe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){yield Fe((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Pe(n,{oobCode:t}),i=r.requestType;switch(b(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ht._fromServerResponse(xe(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t){const{data:n}=yield Qt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=xe(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield wt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield He(r,i)})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ct.credentialWithLink(t,n||E());return b(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ft(r,i)})).apply(this,arguments)}function rn(e,t){return sn.apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",O(e,t))})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:I()?E():"http://localhost"},{signinMethods:r}=yield rn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield Ve(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield J(r,cn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function dn(e,t,n){return fn.apply(this,arguments)}function fn(){return(fn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield J(e,De(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class pn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class mn extends pn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class gn extends pn{constructor(e,t){super(e,"facebook.com",t)}}class yn extends mn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class _n extends pn{constructor(e,t){super(e,"google.com",t)}}class vn extends mn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function bn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new pn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new yn(s,i);case"google.com":return new _n(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new pn(s,null);default:return new pn(s,r,i)}}(n)}class wn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new wn("enroll",e)}static _fromMfaPendingCredential(e){return new wn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return wn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return wn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Tn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=xe(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>Ht._fromServerResponse(n,e));b(i.mfaPendingCredential,n,"internal-error");const o=wn._fromMfaPendingCredential(i.mfaPendingCredential);return new Tn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield wt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),wt._forOperation(t.user,t.operationType,s);default:m(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Cn(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",O(e,t))}class Sn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Ht._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Sn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return wn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield J(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield J(t.user,function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:withdraw",O(e,t))}(t.user.auth,{idToken:r,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const En=new WeakMap,In="__sak";class xn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kn=(()=>{class e extends xn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ye(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),An=(()=>{class e extends xn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Nn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Rn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Pn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Rn("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function On(){return window}function Dn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Ln(){return(Ln=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(di){return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",Mn="firebaseLocalStorage",qn="fbase_key";class Un{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jn(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function Vn(){const e=indexedDB.open(Fn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:qn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Fn);return new Un(e).toPromise()}(),t(yield Vn()))}))})}function Zn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t,n){const r=jn(e,!0).put({[qn]:t,value:n});return new Un(r).toPromise()})).apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t){const n=jn(e,!1).get(t),r=yield new Un(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Hn(e,t){const n=jn(e,!0).delete(t);return new Un(n).toPromise()}const $n=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Vn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Dn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=Nn._getInstance(Dn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Ln.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Pn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);!r||(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){if(t.sender&&t.activeServiceWorker&&function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Vn();return yield Zn(e,In,"1"),yield Hn(e,In),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Zn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Hn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=jn(e,!1).getAll();return new Un(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",O(e,t))}function Wn(){return(Wn=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Yn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Jn{constructor(e){this.auth=e,this.counter=Qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Xn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Qn))||void 0===n||n.execute(),""})()}}class Xn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;b(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const er=Yn("rcb"),tr=new k(3e4,6e4);class nr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return b((n=t).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise((n,r)=>{const i=On().setTimeout(()=>{r(g(e,"network-request-failed"))},tr.get());On()[er]=()=>{On().clearTimeout(i),delete On()[er];const s=On().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Kn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:er,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rr{load(e){return(0,r.Z)(function*(){return new Jn(e)})()}clearedOneInstance(){}}const ir="recaptcha",sr={theme:"light",type:"image"};class or{constructor(e,t=Object.assign({},sr),n){this.parameters=t,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xe(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new nr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{!t||(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){b(I()&&!Dn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Wn.apply(this,arguments)}(e.auth);b(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ar{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=xe(e),i=yield hr(r,t,(0,s.m9)(n));return new ar(i,e=>Ft(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Nt(!1,r,"phone");const i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>qt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>jt(r,e))})).apply(this,arguments)}function hr(e,t,n){return dr.apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,e,"argument-error"),b(n.type===ir,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return b("enroll"===t.type,e,"internal-error"),(yield Cn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function fr(){return(fr=(0,r.Z)(function*(e,t){yield kt((0,s.m9)(e),t)})).apply(this,arguments)}let pr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=xe(t)}verifyPhoneNumber(e,t){return hr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function mr(e,t){return t?S(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class gr extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yr(e){return Dt(e.auth,new gr(e),e.bypassAuthState)}function _r(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Pt(n,new gr(e),e.bypassAuthState)}function vr(e){return br.apply(this,arguments)}function br(){return(br=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),kt(n,new gr(e),e.bypassAuthState)})).apply(this,arguments)}class wr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return _r;default:m(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tr=new k(2e3,1e4);function Cr(){return(Cr=(0,r.Z)(function*(e,t,n){const r=xe(e);_(e,t,ut);const i=mr(r,n);return new Ir(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);_(r.auth,t,ut);const i=mr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);_(r.auth,t,ut);const i=mr(r.auth,n);return new Ir(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class e extends wr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return b(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){T(1===e.filter.length,"Popup operations only handle one event");const t=Rn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Tr.get())};e()}}return e.currentPopupAction=null,e})();const xr=new Map;class kr extends wr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=xr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Ar.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}xr.set(t.auth._key(),n)}return t.bypassAuthState||xr.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,r.Z)(function*(e,t){const n=Or(t),r=Pr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Nr(e,t){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t){return Pr(e)._set(Or(t),"true")})).apply(this,arguments)}function Pr(e){return S(e._redirectPersistence)}function Or(e){return fe("pendingRedirect",e.config.apiKey,e.name)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=xe(e);_(e,t,ut);const i=mr(r,n);return yield Nr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);_(r.auth,t,ut);const i=mr(r.auth,n);yield Nr(i,r.auth);const o=yield jr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);_(r.auth,t,ut);const i=mr(r.auth,n);yield Nt(!1,r,t.providerId),yield Nr(i,r.auth);const o=yield jr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield xe(e)._initializationPromise,qr(e,t,!1)})).apply(this,arguments)}function qr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,r.Z)(function*(e,t,n=!1){const r=xe(e),i=mr(r,t),s=yield new kr(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function jr(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e){const t=Rn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Zr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(e))}saveEventToCache(e){this.cachedEventUids.add(Br(e)),this.lastProcessedEventTime=Date.now()}}function Br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function zr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Hr(e){return $r.apply(this,arguments)}function $r(){return($r=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wr=/^https?/;function Kr(){return(Kr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Hr(e);for(const r of t)try{if(Yr(r))return}catch(n){}m(e,"unauthorized-domain")})).apply(this,arguments)}function Yr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Wr.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qr=new k(3e4,6e4);function Jr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Xr=null;function ei(e){return Xr=Xr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Jr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jr(),n(g(e,"network-request-failed"))},timeout:Qr.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=On().gapi)||void 0===s?void 0:s.load)){const t=Yn("iframefcb");return On()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Xr=null,e})}(e),Xr}const ti=new k(5e3,15e3),ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ri.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function si(){return(si=(0,r.Z)(function*(e){const t=yield ei(e),n=On().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=On().setTimeout(()=>{r(i)},ti.get());function o(){On().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function li(e,t,n,r,i,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ut){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ci="webStorageSupport";class ui extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ui(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",O(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",O(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hi=(()=>{class e{constructor(){}static assertion(e){return ui._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var di,fi="@firebase/auth";class pi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mi(){return window}function gi(){return(gi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=mi();T(t.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(t.sessionId),o={};return Ce()?o.ibi=i.packageName:be()?o.apn=i.packageName:m(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,li(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const{BuildInfo:t}=mi(),n={};Ce()?n.iosBundleId=t.packageName:be()?n.androidPackageName=t.packageName:m(e,"operation-not-supported-in-this-environment"),yield Hr(e,n)})).apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(e,t,n){const{cordova:r}=mi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null==document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),be()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(e){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e){const t=wi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wi(e){if(T(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}di="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{b(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:di,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee(di)},s=new Ie(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{const t=xe(e.getProvider("auth").getImmediate());return new pi(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(fi,"0.19.3",void 0),(0,o.registerVersion)(fi,"0.19.3","esm2017");class Ti extends Zr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ci(e){return Si.apply(this,arguments)}function Si(){return(Si=(0,r.Z)(function*(e){const t=yield Ii()._get(xi(e));return t&&(yield Ii()._remove(xi(e))),t})).apply(this,arguments)}function Ei(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ii(){return S(kn)}function xi(e){return fe("authEvent",e.config.apiKey,e.name)}function ki(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ai(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ni(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ri(e=(0,s.z$)()){return!("file:"!==Ni()&&"ionic:"!==Ni()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pi(){try{const e=self.localStorage,t=Rn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(di){return Oi()&&(0,s.hl)()}return!1}function Oi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Di(){return("http:"===Ni()||"https:"===Ni()||(0,s.ru)()||Ri())&&!((0,s.b$)()||(0,s.UG)())&&Pi()&&!Oi()}function Li(){return Ri()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},qi=b,Ui="persistence";function ji(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Zi(),n=fe(Ui,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Zi(){return"undefined"!=typeof window?window:null}const Bi=b;class zi{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=qr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;T(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=li(e,t,n,E(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},oi),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=_e(u)?"_blank":n),ge(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new ai(null);const d=window.open(t||"",l,h);b(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ai(d)}(e,a,Rn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(e),r=li(e,t,n,E(),i),On().location.href=r,new Promise(()=>{});var r})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return si.apply(this,arguments)}(e),r=new Zr(e);return n.register("authEvent",t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ci,{type:ci},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ci];void 0!==i&&t(!!i),m(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Kr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Se()||ye()||Ce()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Ti(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){m(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=mi();b("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),b(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),b("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),xr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ei(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ii()._set(xi(e),t)}(e,a);const l=yield function(e,t,n){return gi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=mi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(e,t,n){return _i.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=mi(),o=setTimeout((0,r.Z)(function*(){yield Ci(e),t.onEvent(Ai())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ci(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=ki(e),n=t.link?decodeURIComponent(t.link):void 0,r=ki(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ki(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const s=ki(i),o=s.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=a?g(a):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ai())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;mi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=qr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Fi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Hi(e){return e.unwrap()}function $i(e){return Gi(e)}function Gi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return pr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=ft;break;case"github.com":r=mt;break;case"twitter.com":r=_t;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Wi(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Qi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return b(t.customData.operationType,r,"argument-error"),b(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Tn._fromError(r,i)}(e,t));else if(r){const e=Gi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:$i(e),additionalUserInfo:bn(e),user:Ji.getOrCreate(t)}})}function Ki(e,t){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Wi(e,n.confirm(t))}})).apply(this,arguments)}class Qi{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wi(Hi(this.auth),this.resolver.resolveSignIn(e))}}class Ji{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return En.has(t)||En.set(t,Sn._fromUser(t)),En.get(t)}(e)}static getOrCreate(e){return Ji.USER_MAP.has(e)||Ji.USER_MAP.set(e,new Ji(e)),Ji.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Wi(t.auth,qt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return cr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Wi(t.auth,function(e,t,n){return Er.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield ji(xe(t.auth)),function(e,t,n){return function(e,t,n){return Fr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Wi(t.auth,jt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return ur.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wi(this.auth,function(e,t,n){return Sr.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield ji(xe(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return xt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return dn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return dn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return fr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return ln.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const Xi=b;let es=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Xi(n,"invalid-api-key",{appName:e.name});let r=[de];if("undefined"!=typeof window){r=function(e,t){const n=Zi();if(!(null==n?void 0:n.sessionStorage))return[];const r=fe(Ui,e,t);switch(n.sessionStorage.getItem(r)){case Mi.NONE:return[de];case Mi.LOCAL:return[$n,An];case Mi.SESSION:return[An];default:return[]}}(n,e.name);for(const e of[$n,kn,An])r.includes(e)||r.push(e)}Xi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=xe(e);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ne(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ne(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Wi(n._delegate,function(e,t,n){return en.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=lt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Xi(Di(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,zi);return t?Wi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){xe(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){qi(Object.values(Mi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?qi(t!==Mi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?qi(t===Mi.NONE,e,"unsupported-persistence-type"):Oi()?qi(t===Mi.NONE||t===Mi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):qi(t===Mi.NONE||Pi(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Mi.SESSION:n=An;break;case Mi.LOCAL:n=(yield S($n)._isAvailable())?$n:kn;break;case Mi.NONE:n=de;break;default:return m("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wi(this._delegate,function(e){return Ct.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Wi(this._delegate,Ft(this._delegate,e))}signInWithCustomToken(e){return Wi(this._delegate,function(e,t){return zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wi(this._delegate,function(e,t,n){return Ft((0,s.m9)(e),ct.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wi(this._delegate,function(e,t,n){return nn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return lr.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Xi(Di(),t._delegate,"operation-not-supported-in-this-environment"),Wi(t._delegate,function(e,t,n){return Cr.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Xi(Di(),t._delegate,"operation-not-supported-in-this-environment"),yield ji(t._delegate),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Xt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Mi,e})();function ts(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ji.getOrCreate(e)),error:t,complete:n}}class ns{constructor(){this.providerId="phone",this._delegate=new pr(Hi(i.Z.auth()))}static credential(e,t){return pr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=pr.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=pr.PROVIDER_ID;const rs=b;class is{constructor(e,t,n=i.Z.app()){var r;rs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new or(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new es(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ct,FacebookAuthProvider:ft,GithubAuthProvider:mt,GoogleAuthProvider:pt,OAuthProvider:dt,SAMLAuthProvider:yt,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:hi,RecaptchaVerifier:is,TwitterAuthProvider:_t,Auth:es,AuthCredential:Re,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.3")}(i.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new u(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function l(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},1704:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,i){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,l=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},c=s.push,u=s.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},_=function(e){return null!=e&&e===e.window},v=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,s=(n=n||v).createElement("script");if(s.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&s.setAttribute(r,i);n.head.appendChild(s).parentNode.removeChild(s)}function T(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!_(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},C.extend=C.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"!=typeof o&&!y(o)&&(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(c&&r&&(C.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[t],s=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,o[t]=C.extend(c,s,r)):void 0!==r&&(o[t]=r));return o},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=o(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||p.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?C.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,o=!n;i<s;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,o=[];if(S(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&o.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&o.push(i);return l(o)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=s[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var E=function(e){var t,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y,_,v,b="sizzle"+1*new Date,w=e.document,T=0,C=0,S=le(),E=le(),I=le(),x=le(),k=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,N=[],R=N.pop,P=N.push,O=N.push,D=N.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",q="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+M+"*("+q+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+M+"*\\]",j=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(M+"+","g"),Z=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),B=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),H=new RegExp(M+"|>"),$=new RegExp(j),G=new RegExp("^"+q+"$"),W={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){d()},oe=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(N=D.call(w.childNodes),w.childNodes)}catch(Ee){O={apply:N.length?function(e,t){P.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var s,a,c,u,h,p,y,_=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&(d(t),t=t||f,m)){if(11!==w&&(h=X.exec(e)))if(s=h[1]){if(9===w){if(!(c=t.getElementById(s)))return r;if(c.id===s)return r.push(c),r}else if(_&&(c=_.getElementById(s))&&v(t,c)&&c.id===s)return r.push(c),r}else{if(h[2])return O.apply(r,t.getElementsByTagName(e)),r;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!x[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(y=e,_=t,1===w&&(H.test(e)||z.test(e))){for(((_=ee.test(e)&&ye(t.parentNode)||t)!==t||!n.scope)&&((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=b)),a=(p=o(e)).length;a--;)p[a]=(u?"#"+u:":scope")+" "+ve(p[a]);y=p.join(",")}try{return O.apply(r,_.querySelectorAll(y)),r}catch(T){x(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(Z,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[b]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},s=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!K.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},d=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:w;return o==f||9!==o.nodeType||!o.documentElement||(p=(f=o).documentElement,m=!s(f),w!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",se,!1):i.attachEvent&&i.attachEvent("onunload",se)),n.scope=ue(function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ue(function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=J.test(f.querySelectorAll))&&(ue(function(e){var t;p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(_=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=_.call(e,"*"),_.call(e,"[s!='']:x"),y.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=J.test(p.compareDocumentPosition),v=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==w&&v(w,e)?-1:t==f||t.ownerDocument==w&&v(w,t)?1:u?L(u,e)-L(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!i||!s)return e==f?-1:t==f?1:i?-1:s?1:u?L(u,e)-L(u,t):0;if(i===s)return de(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;o[r]===a[r];)r++;return r?de(o[r],a[r]):o[r]==w?-1:a[r]==w?1:0}),f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!x[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var r=_.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){x(t,!0)}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&d(e),v(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&d(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,s=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(k),h){for(;t=e[s++];)t===e[s]&&(i=r.push(s));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ae.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:ce,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),_=!l&&!a,v=!1;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&_){for(v=(f=(c=(u=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===T&&c[1])&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(v=f=0)||p.pop();)if(1===d.nodeType&&++v&&d===t){u[e]=[T,f,v];break}}else if(_&&(v=f=(c=(u=(h=(d=t)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===T&&c[1]),!1===v)for(;(d=++f&&d&&d[m]||(v=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++v||(_&&((u=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[T,v]),d!==t)););return(v-=i)===r||v%r==0&&v/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var r,s=i(e,t),o=s.length;o--;)e[r=L(e,s[o])]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ce(function(e){var t=[],n=[],r=a(e.replace(Z,"$1"));return r[b]?ce(function(e,t,n,i){for(var s,o=r(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return ae(e,t).length>0}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:ce(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ge(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function _e(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,i=t.next,s=i||r,o=n&&"parentNode"===s,a=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,l){var c,u,h,d=[T,a];if(l){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(u=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[s])&&c[0]===T&&c[1]===a)return d[2]=c[2];if(u[s]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Te(e,t,n,r,i){for(var s,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(!n||n(s,r,i))&&(o.push(s),c&&t.push(a));return o}function Ce(e,t,n,r,i,s){return r&&!r[b]&&(r=Ce(r)),i&&!i[b]&&(i=Ce(i,s)),ce(function(s,o,a,l){var c,u,h,d=[],f=[],p=o.length,m=s||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:Te(m,d,e,a,l),y=n?i||(s?e:p||r)?[]:o:g;if(n&&n(g,y,a,l),r)for(c=Te(y,f),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[f[u]]=!(g[f[u]]=h));if(s){if(i||e){if(i){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(g[u]=h);i(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=i?L(s,h):d[u])>-1&&(s[c]=!(o[c]=h))}}else y=Te(y===o?y.splice(p,y.length):y),i?i(null,o,y,l):O.apply(o,y)})}function Se(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],l=o?1:0,u=be(function(e){return e===t},a,!0),h=be(function(e){return L(t,e)>-1},a,!0),d=[function(e,n,r){var i=!o&&(r||n!==c)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];l<s;l++)if(n=r.relative[e[l].type])d=[be(we(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<s&&!r.relative[e[i].type];i++);return Ce(l>1&&we(d),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(Z,"$1"),n,l<i&&Se(e.slice(l,i)),i<s&&Se(e=e.slice(i)),i<s&&ve(e))}d.push(n)}return we(d)}return _e.prototype=r.filters=r.pseudos,r.setFilters=new _e,o=ae.tokenize=function(e,t){var n,i,s,o,a,l,c,u=E[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(o in(!n||(i=B.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),n=!1,(i=z.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(Z," ")}),a=a.slice(n.length)),r.filter)(i=W[o].exec(a))&&(!c[o]||(i=c[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):E(e,l).slice(0)},a=ae.compile=function(e,t){var n,i=[],s=[],a=I[e+" "];if(!a){for(t||(t=o(e)),n=t.length;n--;)(a=Se(t[n]))[b]?i.push(a):s.push(a);(a=I(e,function(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,l,u){var h,p,g,y=0,_="0",v=s&&[],b=[],w=c,C=s||i&&r.find.TAG("*",u),S=T+=null==w?1:Math.random()||.1,E=C.length;for(u&&(c=o==f||o||u);_!==E&&null!=(h=C[_]);_++){if(i&&h){for(p=0,!o&&h.ownerDocument!=f&&(d(h),a=!m);g=e[p++];)if(g(h,o||f,a)){l.push(h);break}u&&(T=S)}n&&((h=!g&&h)&&y--,s&&v.push(h))}if(y+=_,n&&_!==y){for(p=0;g=t[p++];)g(v,b,o,a);if(s){if(y>0)for(;_--;)v[_]||b[_]||(b[_]=R.call(l));b=Te(b)}O.apply(l,b),u&&!s&&b.length>0&&y+t.length>1&&ae.uniqueSort(l)}return u&&(T=S,c=w),v};return n?ce(s):s}(s,i))).selector=e}return a},l=ae.select=function(e,t,n,i){var s,l,c,u,h,d="function"==typeof e&&e,f=!i&&o(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=W.needsContext.test(e)?0:l.length;s--&&!r.relative[u=(c=l[s]).type];)if((h=r.find[u])&&(i=h(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(s,1),!(e=i.length&&ve(l)))return O.apply(n,i),n;break}}return(d||a(e,f))(i,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=b.split("").sort(k).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),(!n.attributes||!ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))&&he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||he(F,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(r);C.find=E,C.expr=E.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=E.uniqueSort,C.text=E.getText,C.isXMLDoc=E.isXML,C.contains=E.contains,C.escapeSelector=E.escape;var I=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(n))break;r.push(e)}return r},x=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=C.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(e,t,n){return y(t)?C.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?C.grep(e,function(e){return e===t!==n}):"string"!=typeof t?C.grep(e,function(e){return u.call(t,e)>-1!==n}):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,i[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(R(this,e||[],!1))},not:function(e){return this.pushStack(R(this,e||[],!0))},is:function(e){return!!R(this,"string"==typeof e&&k.test(e)?C(e):e||[],!1).length}});var P,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(C.merge(this,C.parseHTML(r[1],(t=t instanceof C?t[0]:t)&&t.nodeType?t.ownerDocument||t:v,!0)),N.test(r[1])&&C.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=v.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,P=C(v);var D=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o="string"!=typeof e&&C(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?u.call(C(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I(e,"parentNode")},parentsUntil:function(e,t,n){return I(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return I(e,"nextSibling")},prevAll:function(e){return I(e,"previousSibling")},nextUntil:function(e,t,n){return I(e,"nextSibling",n)},prevUntil:function(e,t,n){return I(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(e,t){C.fn[e]=function(n,r){var i=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=C.filter(r,i)),this.length>1&&(L[e]||C.uniqueSort(i),D.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function q(e){return e}function U(e){throw e}function j(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(s){n.apply(void 0,[s])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):C.extend({},e);var t,n,r,i,s=[],o=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(a=s.length-1,o.push(n)),function t(n){C.each(n,function(n,r){y(r)?(!e.unique||!c.has(r))&&s.push(r):r&&r.length&&"string"!==T(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;(n=C.inArray(t,s,n))>-1;)s.splice(n,1),n<=a&&a--}),this},has:function(e){return e?C.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],!n&&!t&&(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return C.Deferred(function(n){C.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];s[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var s=0;function o(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<s)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");y(c=r&&("object"==typeof r||"function"==typeof r)&&r.then)?i?c.call(r,o(s,t,q,i),o(s,t,U,i)):(s++,c.call(r,o(s,t,q,i),o(s,t,U,i),o(s,t,q,t.notifyWith))):(n!==q&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,u.stackTrace),e+1>=s&&(n!==U&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),r.setTimeout(u))}}return C.Deferred(function(r){t[0][3].add(o(0,r,y(i)?i:q,r.notifyWith)),t[1][3].add(o(0,r,y(e)?e:q)),t[2][3].add(o(0,r,y(n)?n:U))}).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},s={};return C.each(t,function(e,r){var o=r[2],a=r[5];i[r[1]]=o.add,a&&o.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),s=C.Deferred(),o=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||s.resolveWith(r,i)}};if(t<=1&&(j(e,s.done(o(n)).resolve,s.reject,!t),"pending"===s.state()||y(i[n]&&i[n].then)))return s.then();for(;n--;)j(i[n],o(n),s.reject);return s.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&V.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){r.setTimeout(function(){throw e})};var Z=C.Deferred();function B(){v.removeEventListener("DOMContentLoaded",B),r.removeEventListener("load",B),C.ready()}C.fn.ready=function(e){return Z.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!(!0!==e&&--C.readyWait>0)&&Z.resolveWith(v,[C]))}}),C.ready.then=Z.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?r.setTimeout(C.ready):(v.addEventListener("DOMContentLoaded",B),r.addEventListener("load",B));var z=function(e,t,n,r,i,s,o){var a=0,l=e.length,c=null==n;if("object"===T(n))for(a in i=!0,n)z(e,t,a,n[a],!0,s,o);else if(void 0!==r&&(i=!0,y(r)||(o=!0),c&&(o?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;a<l;a++)t(e[a],n,o?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):s},H=/^-ms-/,$=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function W(e){return e.replace(H,"ms-").replace($,G)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[W(t)]=n;else for(r in t)i[W(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t)for((n=(t=Array.isArray(t)?t.map(W):(t=W(t))in r?[t]:t.match(M)||[]).length);n--;)delete r[t[n]];(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Q=new Y,J=new Y,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(i){}J.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=J.get(s),1===s.nodeType&&!Q.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=W(r.slice(5)),te(s,r,i[r]));Q.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):z(this,function(t){var n;if(s&&void 0===t)return void 0!==(n=J.get(s,e))||void 0!==(n=te(s,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),C.extend({queue:function(e,t,n){var r;if(e)return r=Q.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Q.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=C.queue(e,t=t||"fx"),r=n.length,i=n.shift(),s=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,function(){C.dequeue(e,t)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:C.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each(function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=C.Deferred(),s=this,o=this.length,a=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=Q.get(s[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=v.documentElement,oe=function(e){return C.contains(e.ownerDocument,e)},ae={composed:!0};se.getRootNode&&(oe=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===C.css(e,"display")};function ce(e,t,n,r){var i,s,o=20,a=r?function(){return r.cur()}:function(){return C.css(e,t,"")},l=a(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&re.exec(C.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;o--;)C.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),u/=s;C.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var ue={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,i=ue[r];return i||(t=n.body.appendChild(n.createElement(r)),i=C.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[r]=i,i)}function de(e,t){for(var n,r,i=[],s=0,o=e.length;s<o;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(i[s]=Q.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&le(r)&&(i[s]=he(r))):"none"!==n&&(i[s]="none",Q.set(r,"display",n)));for(s=0;s<o;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}C.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){le(this)?C(this).show():C(this).hide()})}});var fe,pe,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;fe=v.createDocumentFragment().appendChild(v.createElement("div")),(pe=v.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),fe.appendChild(pe),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var _e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?C.merge([e],n):n}function be(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,g.option||(_e.optgroup=_e.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function Te(e,t,n,r,i){for(var s,o,a,l,c,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===T(s))C.merge(d,s.nodeType?[s]:s);else if(we.test(s)){for(o=o||h.appendChild(t.createElement("div")),a=(ge.exec(s)||["",""])[1].toLowerCase(),o.innerHTML=(l=_e[a]||_e._default)[1]+C.htmlPrefilter(s)+l[2],u=l[0];u--;)o=o.lastChild;C.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(t.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(r&&C.inArray(s,r)>-1)i&&i.push(s);else if(c=oe(s),o=ve(h.appendChild(s),"script"),c&&be(o),n)for(u=0;s=o[u++];)ye.test(s.type||"")&&n.push(s);return h}var Ce=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ee(){return!1}function Ie(e,t){return e===function(){try{return v.activeElement}catch(e){}}()==("focus"===t)}function xe(e,t,n,r,i,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)xe(e,a,n,r,t[a],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===s&&(o=i,(i=function(e){return C().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=C.guid++)),e.each(function(){C.event.add(this,t,i,r,n)})}function ke(e,t,n){n?(Q.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,i,s=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=a.call(arguments),Q.set(this,t,s),r=n(this,t),this[t](),s!==(i=Q.get(this,t))||r?Q.set(this,t,!1):i={},s!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else s.length&&(Q.set(this,t,{value:C.event.trigger(C.extend(s[0],C.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&C.event.add(e,t,Se)}C.event={global:{},add:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,m,g=Q.get(e);if(K(e))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&C.find.matchesSelector(se,i),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(M)||[""]).length;c--;)f=m=(a=Ce.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=C.event.special[f]||{},h=C.event.special[f=(i?h.delegateType:h.bindType)||f]||{},u=C.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:p.join(".")},s),(d=l[f])||((d=l[f]=[]).delegateCount=0,(!h.setup||!1===h.setup.call(e,r,p,o))&&e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),C.event.global[f]=!0)},remove:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,m,g=Q.hasData(e)&&Q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(f=m=(a=Ce.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=C.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],(i||m===u.origType)&&(!n||n.guid===u.guid)&&(!a||a.test(u.namespace))&&(!r||r===u.selector||"**"===r&&u.selector)&&(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));o&&!d.length&&((!h.teardown||!1===h.teardown.call(e,p,g.handle))&&C.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)C.event.remove(e,f+t[c],n,r,!0);C.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,o,a=new Array(arguments.length),l=C.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],u=C.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=C.event.handlers.call(this,l,c),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!l.isImmediatePropagationStopped();)(!l.rnamespace||!1===s.namespace||l.rnamespace.test(s.namespace))&&(l.handleObj=s,l.data=s.data,void 0!==(r=((C.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,s,o,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],o={},n=0;n<l;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?C(i,this).index(c)>-1:C.find(i,this,null,[c]).length),o[i]&&s.push(r);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&A(t,"input")&&ke(t,"click",Se),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&A(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){C.event.special[e]={setup:function(){return ke(this,e,Ie),!1},trigger:function(){return ke(this,e),!0},_default:function(){return!0},delegateType:t}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!C.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),C.fn.extend({on:function(e,t,n,r){return xe(this,e,t,n,r)},one:function(e,t,n,r){return xe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){C.event.remove(this,e,n,t)})}});var Ae=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,s,o,a;if(1===t.nodeType){if(Q.hasData(e)&&(a=Q.get(e).events))for(i in Q.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)C.event.add(t,i,a[i][n]);J.hasData(e)&&(s=J.access(e),o=C.extend({},s),J.set(t,o))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function Me(e,t,n,r){t=l(t);var i,s,o,a,c,u,h=0,d=e.length,f=d-1,p=t[0],m=y(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Ne.test(p))return e.each(function(i){var s=e.eq(i);m&&(t[0]=p.call(this,i,s.html())),Me(s,t,n,r)});if(d&&(s=(i=Te(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(a=(o=C.map(ve(i,"script"),Oe)).length;h<d;h++)c=i,h!==f&&(c=C.clone(c,!0,!0),a&&C.merge(o,ve(c,"script"))),n.call(e[h],c,h);if(a)for(u=o[o.length-1].ownerDocument,C.map(o,De),h=0;h<a;h++)ye.test((c=o[h]).type||"")&&!Q.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Re,""),c,u))}return e}function qe(e,t,n){for(var r,i=t?C.filter(t,e):e,s=0;null!=(r=i[s]);s++)!n&&1===r.nodeType&&C.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&be(ve(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,s,o,a=e.cloneNode(!0),l=oe(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(o=ve(a),r=0,i=(s=ve(e)).length;r<i;r++)Fe(s[r],o[r]);if(t)if(n)for(s=s||ve(e),o=o||ve(a),r=0,i=s.length;r<i;r++)Le(s[r],o[r]);else Le(e,a);return(o=ve(a,"script")).length>0&&be(o,!l&&ve(e,"script")),a},cleanData:function(e){for(var t,n,r,i=C.event.special,s=0;void 0!==(n=e[s]);s++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return z(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!_e[(ge.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){C.fn[e]=function(e){for(var n,r=[],i=C(e),s=i.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),C(i[o])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Ue=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=r),t.getComputedStyle(e)},Ve=function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=s[i];return r},Ze=new RegExp(ie.join("|"),"i");function Be(e,t,n){var r,i,s,o,a=e.style;return(n=n||je(e))&&(""===(o=n.getPropertyValue(t)||n[t])&&!oe(e)&&(o=C.style(e,t)),!g.pixelBoxStyles()&&Ue.test(o)&&Ze.test(t)&&(r=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=r,a.minWidth=i,a.maxWidth=s)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),i=36===t(e.width),u.style.position="absolute",s=12===t(u.offsetWidth/3),se.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,s,o,a,l,c=v.createElement("div"),u=v.createElement("div");!u.style||(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=v.createElement("table"),t=v.createElement("tr"),n=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var He=["Webkit","Moz","ms"],$e=v.createElement("div").style,Ge={};function We(e){return C.cssProps[e]||Ge[e]||(e in $e?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=He.length;n--;)if((e=He[n]+t)in $e)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function Xe(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,s){var o="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=C.css(e,n+ie[o],!0,i)),r?("content"===n&&(l-=C.css(e,"padding"+ie[o],!0,i)),"margin"!==n&&(l-=C.css(e,"border"+ie[o]+"Width",!0,i))):(l+=C.css(e,"padding"+ie[o],!0,i),"padding"!==n?l+=C.css(e,"border"+ie[o]+"Width",!0,i):a+=C.css(e,"border"+ie[o]+"Width",!0,i));return!r&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l}function tt(e,t,n){var r=je(e),i=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),s=i,o=Be(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(o)){if(!n)return o;o="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&A(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,r),(s=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+et(e,t,n||(i?"border":"content"),s,r,o)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,a=W(t),l=Ye.test(t),c=e.style;if(l||(t=We(a)),o=C.cssHooks[t]||C.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:c[t];if("string"==(s=typeof n)&&(i=re.exec(n))&&i[1]&&(n=ce(e,t,i),s="number"),null==n||n!=n)return;"number"===s&&!l&&(n+=i&&i[3]||(C.cssNumber[a]?"":"px")),!g.clearCloneStyle&&""===n&&0===t.indexOf("background")&&(c[t]="inherit"),(!o||!("set"in o)||void 0!==(n=o.set(e,n,r)))&&(l?c.setProperty(t,n):c[t]=n)}},css:function(e,t,n,r){var i,s,o,a=W(t);return Ye.test(t)||(t=We(a)),(o=C.cssHooks[t]||C.cssHooks[a])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Je&&(i=Je[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),C.each(["height","width"],function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!Ke.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,r):Ve(e,Qe,function(){return tt(e,t,r)})},set:function(e,n,r){var i,s=je(e),o=!g.scrollboxSize()&&"absolute"===s.position,a=(o||r)&&"border-box"===C.css(e,"boxSizing",!1,s),l=r?et(e,t,r,a,s):0;return a&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-et(e,t,"border",!1,s)-.5)),l&&(i=re.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),Xe(0,n,l)}}}),C.cssHooks.marginLeft=ze(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ie[r]+t]=s[r]||s[r-2]||s[0];return i}},"margin"!==e&&(C.cssHooks[e+t].set=Xe)}),C.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,s={},o=0;if(Array.isArray(t)){for(r=je(e),i=t.length;o<i;o++)s[t[o]]=C.css(e,t[o],!1,r);return s}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,arguments.length>1)}}),C.Tween=nt,(nt.prototype={constructor:nt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(C.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.pos=t=this.options.duration?C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[We(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=nt.prototype.init,C.fx.step={};var rt,it,st=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){it&&(!1===v.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(at):r.setTimeout(at,C.fx.interval),C.fx.tick())}function lt(){return r.setTimeout(function(){rt=void 0}),rt=Date.now()}function ct(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ie[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),s=0,o=i.length;s<o;s++)if(r=i[s].call(n,t,e))return r}function ht(e,t,n){var r,i,s=0,o=ht.prefilters.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=rt||lt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),r<1&&o?n:(o||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,i,s,o;for(n in e)if(i=t[r=W(n)],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),(o=C.cssHooks[r])&&"expand"in o)for(n in s=o.expand(s),delete e[r],s)n in e||(e[n]=s[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);s<o;s++)if(r=ht.prefilters[s].call(c,e,u,c.opts))return y(r.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return C.map(u,ut,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)(ht.tweeners[n=e[r]]=ht.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,i,s,o,a,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&le(e),g=Q.get(e,"fxshow");for(r in n.queue||(null==(o=C._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,C.queue(e,"fx").length||o.empty.fire()})})),t)if(st.test(i=t[r])){if(delete t[r],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||C.style(e,r)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=C.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(c="none"===(u=p.display)?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&de([e],!0),d.done(function(){for(r in m||de([e]),Q.remove(e,"fxshow"),f)C.style(e,r,f[r])})),l=ut(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in C.fx.speeds?C.fx.speeds[r.duration]:C.fx.speeds._default),(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=C.isEmptyObject(e),s=C.speed(t,n,r),o=function(){var t=ht(this,C.extend({},e),s);(i||Q.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=C.timers,o=Q.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ot.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(null==e||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&C.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=C.timers,o=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,i)}}),C.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(rt=Date.now();t<n.length;t++)!(e=n[t])()&&n[t]===e&&n.splice(t--,1);n.length||C.fx.stop(),rt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){it||(it=!0,at())},C.fx.stop=function(){it=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var dt,ft=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return z(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?C.prop(e,t,n):((1!==s||!C.isXMLDoc(e))&&(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||C.find.attr;ft[t]=function(e,t,r){var i,s,o=t.toLowerCase();return r||(s=ft[o],ft[o]=i,i=null!=n(e,t,r)?o:null,ft[o]=s),i}});var pt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function gt(e){return(e.match(M)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}C.fn.extend({prop:function(e,t){return z(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return(1!==s||!C.isXMLDoc(e))&&(i=C.propHooks[t=C.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){return null},set:function(e){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,n,r,i,s,o,a,l=0;if(y(e))return this.each(function(t){C(this).addClass(e.call(this,t,yt(this)))});if((t=_t(e)).length)for(;n=this[l++];)if(i=yt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(o=0;s=t[o++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");i!==(a=gt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,s,o,a,l=0;if(y(e))return this.each(function(t){C(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=_t(e)).length)for(;n=this[l++];)if(i=yt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(o=0;s=t[o++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");i!==(a=gt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){C(this).toggleClass(e.call(this,n,yt(this),t),t)}):this.each(function(){var t,i,s,o;if(r)for(i=0,s=C(this),o=_t(e);t=o[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(void 0===e||"boolean"===n)&&((t=yt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+gt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;C.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,C(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,function(e){return null==e?"":e+""})),(!(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])||!("set"in t)||void 0===t.set(this,i,"value"))&&(this.value=i))})):i?(t=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(vt,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:gt(C.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:i.length;for(r=s<0?l:o?s:0;r<l;r++)if(((n=i[r]).selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=C(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,s=C.makeArray(t),o=i.length;o--;)((r=i[o]).selected=C.inArray(C.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in r;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,i){var s,o,a,l,c,u,h,d,p=[n||v],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||v,3!==n.nodeType&&8!==n.nodeType&&!bt.test(m+C.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[C.expando]?e:new C.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),h=C.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!_(n)){for(bt.test((l=h.delegateType||m)+m)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||v)&&p.push(a.defaultView||a.parentWindow||r)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)d=o,e.type=s>1?l:h.bindType||m,(u=(Q.get(o,"events")||Object.create(null))[e.type]&&Q.get(o,"handle"))&&u.apply(o,t),(u=c&&o[c])&&u.apply&&K(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,!i&&!e.isDefaultPrevented()&&(!h._default||!1===h._default.apply(p.pop(),t))&&K(n)&&c&&y(n[m])&&!_(n)&&((a=n[c])&&(n[c]=null),C.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,wt),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,wt),C.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,t);i||r.addEventListener(e,n,!0),Q.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,t)-1;i?Q.access(r,t,i):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}});var Tt=r.location,Ct={guid:Date.now()},St=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Et=/\[\]$/,It=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var i;if(Array.isArray(t))C.each(t,function(t,i){n||Et.test(e)?r(e,i):At(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==T(t))r(e,t);else for(i in t)At(e+"["+i+"]",t[i],n,r)}C.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&kt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!me.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:n.replace(It,"\r\n")}}).get()}});var Nt=/%20/g,Rt=/#.*$/,Pt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ft={},Mt={},qt="*/".concat("*"),Ut=v.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(M)||[];if(y(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Vt(e,t,n,r){var i={},s=e===Mt;function o(a){var l;return i[a]=!0,C.each(e[a]||[],function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||i[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Zt(e,t){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}Ut.href=Tt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,C.ajaxSettings),t):Zt(C.ajaxSettings,e)},ajaxPrefilter:jt(Ft),ajaxTransport:jt(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var n,i,s,o,a,l,c,u,h,d,f=C.ajaxSetup({},t=t||{}),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?C(p):C.event,g=C.Deferred(),y=C.Callbacks("once memory"),_=f.statusCode||{},b={},w={},T="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Ot.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||T;return n&&n.abort(t),E(0,t),this}};if(g.promise(S),f.url=((e||f.url||Tt.href)+"").replace(Lt,Tt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){l=v.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ut.protocol+"//"+Ut.host!=l.protocol+"//"+l.host}catch(I){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Vt(Ft,f,t,S),c)return S;for(h in(u=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Dt.test(f.type),i=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Nt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(St.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Pt,"$1"),d=(St.test(i)?"&":"?")+"_="+Ct.guid+++d),f.url=i+d),f.ifModified&&(C.lastModified[i]&&S.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&S.setRequestHeader("If-None-Match",C.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+qt+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||c))return S.abort();if(T="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),n=Vt(Mt,f,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),c)return S;f.async&&f.timeout>0&&(a=r.setTimeout(function(){S.abort("timeout")},f.timeout));try{c=!1,n.send(b,E)}catch(I){if(c)throw I;E(-1,I)}}else E(-1,"No Transport");function E(e,t,o,l){var h,v,b,w,T,E=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,s=l||"",S.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(w=function(e,t,n){for(var r,i,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)s=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}(f,S,o)),!h&&C.inArray("script",f.dataTypes)>-1&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=function(e,t,n,r){var i,s,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(i in c)if((a=i.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[i]:!0!==c[i]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,w,S,h),h?(f.ifModified&&((T=S.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=T),(T=S.getResponseHeader("etag"))&&(C.etag[i]=T)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=w.state,v=w.data,h=!(b=w.error))):(b=E,(e||!E)&&(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",h?g.resolveWith(p,[v,E,S]):g.rejectWith(p,[S,E,b]),S.statusCode(_),_=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[S,f,h?v:b]),y.fireWith(p,[S,E]),u&&(m.trigger("ajaxComplete",[S,f]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,t){C[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:i,data:n,success:r},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){C(this).wrapInner(e.call(this,t))}):this.each(function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){C(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(Ht){}};var Bt={0:200,1223:204},zt=C.ajaxSettings.xhr();g.cors=!!zt&&"withCredentials"in zt,g.ajax=zt=!!zt,C.ajaxTransport(function(e){var t,n;if(g.cors||zt&&!e.crossDomain)return{send:function(i,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),!e.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ht,$t=[],Gt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||C.expando+"_"+Ct.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,s,o,a=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Gt,"$1"+i):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=r[i],r[i]=function(){o=arguments},n.always(function(){void 0===s?C(r).removeProp(i):r[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,$t.push(i)),o&&y(s)&&s(o[0]),o=s=void 0}),"script"}),g.createHTMLDocument=((Ht=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(r)):t=v),s=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=Te([e],t,s),s&&s.length&&C(s).remove(),C.merge([],i.childNodes)));var r,i,s},C.fn.load=function(e,t,n){var r,i,s,o=this,a=e.indexOf(" ");return a>-1&&(r=gt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(e,t,n){var r,i,s,o,a,l,c=C.css(e,"position"),u=C(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(r=u.position()).top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,n,C.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(r,"marginTop",!0),left:t.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return z(this,function(e,r,i){var s;if(_(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i},e,r,arguments.length)}}),C.each(["top","left"],function(e,t){C.cssHooks[t]=ze(g.pixelPosition,function(e,n){if(n)return n=Be(e,t),Ue.test(n)?C(e).position()[t]+"px":n})}),C.each({Height:"height",Width:"width"},function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){C.fn[r]=function(i,s){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===s?"margin":"border");return z(this,function(t,n,i){var s;return _(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?C.css(t,n,a):C.style(t,n,i,a)},t,o?i:void 0,o)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Wt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=A,C.isFunction=y,C.isWindow=_,C.camelCase=W,C.type=T,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Wt,"")},void 0!==(n=(function(){return C}).apply(t,[]))&&(e.exports=n);var Kt=r.jQuery,Yt=r.$;return C.noConflict=function(e){return r.$===C&&(r.$=Yt),e&&r.jQuery===C&&(r.jQuery=Kt),C},void 0===i&&(r.jQuery=r.$=C),C})},268:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(7393);class i extends r.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},7574:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487);var l=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:function(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5197:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(7393);class i extends r.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return c},xQ:function(){return u}});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){super(),this._parentSubscriber=e;let o,a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:n,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(n))try{n.call(this)}catch(u){e=u instanceof o?c(u.errors):[u]}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return l}});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),c=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return l}});var r=n(5604),i=n(5197),s=n(268),o=n(8002),a=n(4402);function l(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(l((n,r)=>(0,a.D)(e(n,r)).pipe((0,o.U)((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new c(e,n)))}class c{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends i.L{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new s.d(this,t,n),o=this.destination;o.add(i);const a=(0,r.D)(this,e,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},8819:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(2441);var i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return e=>(0,i.x)()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i}}(o)(e))}},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),c=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return(e=>t=>{const n=e[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t))(e);if(e&&"function"==typeof e[s.hZ])return(e=>t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=`You provided ${(0,c.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},5604:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(268),i=n(7444),s=n(7574);function o(e,t,n,o,a=new r.d(e,n,o)){if(!a.closed)return t instanceof s.y?t.subscribe(a):(0,i.s)(t)(a)}},1534:function(e,t,n){"use strict";var r=n(7716);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(u)}const c=new r.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}let g=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new v((0,r.LFG)(a),t&&t.origin||"")}const _=new r.OlP("appBaseHref");let v=(()=>{class e extends g{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends g{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(C(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+m(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,C(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(g),r.LFG(a))},e.normalizeQueryParams=m,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function C(e){return e.replace(/\/index.html$/,"")}var S=(()=>((S=S||{})[S.Zero=0]="Zero",S[S.One=1]="One",S[S.Two=2]="Two",S[S.Few=3]="Few",S[S.Many=4]="Many",S[S.Other=5]="Other",S))();const E=r.kL8;class I{}let x=(()=>{class e extends I{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(E(t||this.locale)(e)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function k(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let A=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){R("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){R("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function R(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class P{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let O=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),D=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new P(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(O,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})();class L{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class F{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const M=new F,q=new L;let U=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return M;if((0,r.F4k)(t))return q;throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:I,useClass:x}]}),e})();function V(e){return"server"===e}let Z=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new B((0,r.LFG)(o),window)}),e})();class B{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function z(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class H{}class $ extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new $,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(W=W||document.querySelector("base"),W?W.getAttribute("href"):null);return null==t?null:function(e){G=G||document.createElement("a"),G.setAttribute("href",e);const t=G.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return k(document.cookie,e)}}let G,W=null;const K=new r.OlP("TRANSITION_ID"),Y=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<r.length;e++)n.remove(r[e])})}},deps:[K,o,r.zs3],multi:!0}];class Q{static init(){(0,r.VLi)(new Q)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let J=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const X=new r.OlP("EventManagerPlugins");let ee=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(X),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class te{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let ne=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),re=(()=>{class e extends ne{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(ie),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ie))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ie(e){s().remove(e)}const se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oe=/%COMP%/g;function ae(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?ae(e,i,n):(i=i.replace(oe,e),n.push(i))}return n}function le(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let ce=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ue(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new he(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new de(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=ae(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ee),r.LFG(re),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ue{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(se[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=se[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=se[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,le(n)):this.eventManager.addEventListener(e,t,le(n))}}class he extends ue{constructor(e,t,n,r){super(e),this.component=n;const i=ae(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(oe,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(oe,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class de extends ue{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ae(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fe=(()=>{class e extends te{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const pe=["alt","control","meta","shift"],me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ye={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let _e=(()=>{class e extends te{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(pe.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ge.hasOwnProperty(t)&&(t=ge[t]))}return me[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pe.forEach(r=>{r!=n&&ye[r](e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(be)},token:e,providedIn:"root"}),e})(),be=(()=>{class e extends ve{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.q3G.NONE:return t;case r.q3G.HTML:return(0,r.qzn)(t,"HTML")?(0,r.z3N)(t):(0,r.EiD)(this._doc,String(t)).toString();case r.q3G.STYLE:return(0,r.qzn)(t,"Style")?(0,r.z3N)(t):t;case r.q3G.SCRIPT:if((0,r.qzn)(t,"Script"))return(0,r.z3N)(t);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(t),(0,r.qzn)(t,"URL")?(0,r.z3N)(t):(0,r.mCW)(String(t));case r.q3G.RESOURCE_URL:if((0,r.qzn)(t,"ResourceURL"))return(0,r.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return function(e){return new be(e.get(o))}((0,r.LFG)(r.gxx))},token:e,providedIn:"root"}),e})();const we=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){$.makeCurrent(),Q.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Te=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:X,useClass:fe,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:X,useClass:_e,multi:!0,deps:[o]},[],{provide:ce,useClass:ce,deps:[ee,re,r.AFp]},{provide:r.FYo,useExisting:ce},{provide:ne,useExisting:re},{provide:re,useClass:re,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:ee,useClass:ee,deps:[X,r.R0b]},{provide:H,useClass:J,deps:[]},[]];let Ce=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:K,useExisting:r.AFp},Y]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Te,imports:[j,r.hGG]}),e})();"undefined"!=typeof window&&window;const Se={apiKey:"AIzaSyA6wysJumCIVKXjoDlPlxC7OBHeugPbTZ8",authDomain:"moodstream-a3a53.firebaseapp.com",projectId:"moodstream-a3a53",storageBucket:"moodstream-a3a53.appspot.com",messagingSenderId:"866038229156",appId:"1:866038229156:web:6e562487f846a1846a1e31",measurementId:"G-5H38BLNMKE"};var Ee=n(8939),Ie=n(4346),xe=n(2515),ke=n(2669);const Ae=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();var Ne=n(576);var Re=n(5960),Pe=n(6361),Oe=n(776);let De=(()=>{class e{constructor(e){e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const r=function(e){return e&&e instanceof xe.Lv||function(e){return e&&(0,Pe.m)(e.next)&&(0,Pe.m)(e.error)&&(0,Pe.m)(e.complete)}(e)&&(0,ke.Nn)(e)}(e)?e:new xe.Hp(e,t,n);return(0,Oe.x)(()=>{const{operator:e,source:t}=this;r.add(e?e.call(r,t):t?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=Le(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),null==r||r.unsubscribe()}},n,t)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[Ae](){return this}pipe(...e){return function(e){return 0===e.length?Ne.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=Le(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function Le(e){var t;return null!==(t=null!=e?e:Re.v.Promise)&&void 0!==t?t:Promise}function Fe(e){return e[e.length-1]}function Me(e){return function(e){return e&&(0,Pe.m)(e.schedule)}(Fe(e))?e.pop():void 0}function qe(e){return this instanceof qe?(this.v=e,this):new qe(e)}function Ue(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof qe?Promise.resolve(e.value.v).then(l,c):u(s[0][2],e)}(i[e](t))}catch(n){u(s[0][3],n)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function je(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}const Ve=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ze(e){return(0,Pe.m)(null==e?void 0:e.then)}function Be(e){return(0,Pe.m)(e[Ae])}function ze(e){return Symbol.asyncIterator&&(0,Pe.m)(null==e?void 0:e[Symbol.asyncIterator])}function He(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const Ge=$e();function We(e){return(0,Pe.m)(null==e?void 0:e[Ge])}function Ke(e){return Ue(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield qe(t.read());if(n)return yield qe(void 0);yield yield qe(e)}}finally{t.releaseLock()}})}function Ye(e){return(0,Pe.m)(null==e?void 0:e.getReader)}var Qe=n(9249);function Je(e){if(e instanceof De)return e;if(null!=e){if(Be(e))return function(e){return new De(t=>{const n=e[Ae]();if((0,Pe.m)(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ve(e))return function(e){return new De(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ze(e))return function(e){return new De(t=>{e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Qe.h)})}(e);if(ze(e))return Xe(e);if(We(e))return function(e){return new De(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ye(e))return function(e){return Xe(Ke(e))}(e)}throw He(e)}function Xe(e){return new De(t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=je(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(e=>t.error(e))})}var et=n(8341),tt=n(8127),nt=n(768);function rt(e,t){if(!e)throw new Error("Iterable cannot be null");return new De(n=>{(0,nt.f)(n,t,()=>{const r=e[Symbol.asyncIterator]();(0,nt.f)(n,t,()=>{r.next().then(e=>{e.done?n.complete():n.next(e.value)})},0,!0)})})}function it(e,t){return t?function(e,t){if(null!=e){if(Be(e))return function(e,t){return Je(e).pipe((0,tt.R)(t),(0,et.Q)(t))}(e,t);if(Ve(e))return function(e,t){return new De(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ze(e))return function(e,t){return Je(e).pipe((0,tt.R)(t),(0,et.Q)(t))}(e,t);if(ze(e))return rt(e,t);if(We(e))return function(e,t){return new De(n=>{let r;return(0,nt.f)(n,t,()=>{r=e[Ge](),(0,nt.f)(n,t,()=>{let e,t;try{({value:e,done:t}=r.next())}catch(i){return void n.error(i)}t?n.complete():n.next(e)},0,!0)}),()=>(0,Pe.m)(null==r?void 0:r.return)&&r.return()})}(e,t);if(Ye(e))return function(e,t){return rt(Ke(e),t)}(e,t)}throw He(e)}(e,t):Je(e)}function st(...e){return it(e,Me(e))}var ot=n(3201),at=n(1894);function lt(e,t){return(0,ot.e)((n,r)=>{let i=0;n.subscribe(new at.Q(r,n=>{r.next(e.call(t,n,i++))}))})}function ct(e,t,n=1/0){return(0,Pe.m)(t)?ct((n,r)=>lt((e,i)=>t(n,e,r,i))(Je(e(n,r))),n):("number"==typeof t&&(n=t),(0,ot.e)((t,r)=>function(e,t,n,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&t.complete()},f=e=>c<r?p(e):l.push(e),p=e=>{c++;let i=!1;Je(n(e,u++)).subscribe(new at.Q(t,e=>{t.next(e)},()=>{i=!0},void 0,()=>{if(i)try{for(c--;l.length&&c<r;){const e=l.shift();p(e)}d()}catch(e){t.error(e)}}))};return e.subscribe(new at.Q(t,f,()=>{h=!0,d()})),()=>{}}(t,r,e,n)))}function ut(e=1/0){return ct(Ne.y,e)}const ht=new De(e=>e.complete());function dt(...e){const t=Me(e),n=function(e,t){return"number"==typeof Fe(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Je(r[0]):ut(n)(it(r,t)):ht}function ft(e){return e<=0?()=>ht:(0,ot.e)((t,n)=>{let r=0;t.subscribe(new at.Q(n,t=>{++r<=e&&(n.next(t),e<=r&&n.complete())}))})}var pt=n(9753);const mt=(0,pt.d)(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=n(8208);let yt=(()=>{class e extends De{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new _t(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new mt}next(e){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const t=this.observers.slice();for(const n of t)n.next(e)}})}error(e){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?ke.Lc:(r.push(e),new ke.w0(()=>(0,gt.P)(r,e)))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new De;return e.source=this,e}}return e.create=(e,t)=>new _t(e,t),e})();class _t extends yt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:ke.Lc}}function vt(e={}){const{connector:t=(()=>new yt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return e=>{let s=null,o=null,a=null,l=0,c=!1,u=!1;const h=()=>{null==o||o.unsubscribe(),o=null},d=()=>{h(),s=a=null,c=u=!1},f=()=>{const e=s;d(),null==e||e.unsubscribe()};return(0,ot.e)((e,p)=>{l++,!u&&!c&&h();const m=a=null!=a?a:t();p.add(()=>{l--,0===l&&!u&&!c&&(o=bt(f,i))}),m.subscribe(p),s||(s=new xe.Hp({next:e=>m.next(e),error:e=>{u=!0,h(),o=bt(d,n,e),m.error(e)},complete:()=>{c=!0,h(),o=bt(d,r),m.complete()}}),it(e).subscribe(s))})(e)}}function bt(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(ft(1)).subscribe(()=>e())}function wt(e,t){return(0,ot.e)((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new at.Q(r,n=>{null==i||i.unsubscribe();let o=0;const l=s++;Je(e(n,l)).subscribe(i=new at.Q(r,e=>r.next(t?t(n,e,l,o++):e),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Tt(e,t,n,r,i){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(new at.Q(o,t=>{const n=c++;l=a?e(l,t,n):(a=!0,t),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Ct(e,t){return(0,ot.e)(Tt(e,t,arguments.length>=2,!0))}function St(e,t=Ne.y){return e=null!=e?e:Et,(0,ot.e)((n,r)=>{let i,s=!0;n.subscribe(new at.Q(r,n=>{const o=t(n);(s||!e(i,o))&&(s=!1,i=o,r.next(n))}))})}function Et(e,t){return e===t}var It=n(9361);var xt=n(3964),kt=(n(941),n(3394)),At=n(3910),Nt=n(8239),Rt=n(8026),Pt=n(3854),Ot=n(5422);const Dt="@firebase/database";let Lt="";function Ft(e){Lt=e}class Mt{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Pt.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Pt.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Pt.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ut=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Mt(t)}}catch(t){}return new qt},jt=Ut("localStorage"),Vt=Ut("sessionStorage"),Zt=new Ot.Yd("@firebase/database"),Bt=function(){let e=1;return function(){return e++}}(),zt=function(e){const t=(0,Pt.dS)(e),n=new Pt.gQ;n.update(t);const r=n.digest();return Pt.US.encodeByteArray(r)},Ht=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ht.apply(null,r):t+="object"==typeof r?(0,Pt.Pz)(r):r,t+=" "}return t};let $t=null,Gt=!0;const Wt=function(e,t){(0,Pt.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zt.logLevel=Ot.in.VERBOSE,$t=Zt.log.bind(Zt),t&&Vt.set("logging_enabled",!0)):"function"==typeof e?$t=e:($t=null,Vt.remove("logging_enabled"))},Kt=function(...e){if(!0===Gt&&(Gt=!1,null===$t&&!0===Vt.get("logging_enabled")&&Wt(!0)),$t){const t=Ht.apply(null,e);$t(t)}},Yt=function(e){return function(...t){Kt(e,...t)}},Qt=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ht(...e);Zt.error(t)},Jt=function(...e){const t=`FIREBASE FATAL ERROR: ${Ht(...e)}`;throw Zt.error(t),new Error(t)},Xt=function(...e){const t="FIREBASE WARNING: "+Ht(...e);Zt.warn(t)},en=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},tn="[MIN_NAME]",nn="[MAX_NAME]",rn=function(e,t){if(e===t)return 0;if(e===tn||t===nn)return-1;if(t===tn||e===nn)return 1;{const n=pn(e),r=pn(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},sn=function(e,t){return e===t?0:e<t?-1:1},on=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,Pt.Pz)(t))},an=function(e){if("object"!=typeof e||null===e)return(0,Pt.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,Pt.Pz)(t[r]),n+=":",n+=an(e[t[r]]);return n+="}",n},ln=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function cn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const un=function(e){(0,Pt.hu)(!en(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,1-t)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},hn=new RegExp("^-?(0*)\\d{1,10}$"),dn=-2147483648,fn=2147483647,pn=function(e){if(hn.test(e)){const t=Number(e);if(t>=dn&&t<=fn)return t}return null},mn=function(e){try{e()}catch(t){setTimeout(()=>{throw Xt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},gn=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class yn{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _n{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xt(e)}}let vn=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const bn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wn="websocket",Tn="long_polling";class Cn{constructor(e,t,n,r,i=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Sn(e,t,n){let r;if((0,Pt.hu)("string"==typeof t,"typeof type must == string"),(0,Pt.hu)("object"==typeof n,"typeof params must == object"),t===wn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Tn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return cn(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class En{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Pt.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Pt.p$)(this.counters_)}}const In={},xn={};function kn(e){const t=e.toString();return In[t]||(In[t]=new En),In[t]}class An{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&mn(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Nn{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yt(e),this.stats_=kn(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),Sn(t,Tn,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new An(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,Pt.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rn((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&bn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nn.forceAllow_=!0}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){return!((0,Pt.Yr)()||!Nn.forceAllow_&&(Nn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Pt.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,Pt.h$)(t),r=ln(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Pt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Pt.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Rn{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Pt.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Bt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Rn.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Kt("frame writing exception"),i.stack&&Kt(i.stack),Kt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Kt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,Pt.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;(!e||"loaded"===e||"complete"===e)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Pn=null;"undefined"!=typeof MozWebSocket?Pn=MozWebSocket:"undefined"!=typeof WebSocket&&(Pn=WebSocket);let On=(()=>{class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yt(this.connId),this.stats_=kn(n),this.connURL=e.connectionURL_(n,o,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return!(0,Pt.Yr)()&&"undefined"!=typeof location&&location.hostname&&bn.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Sn(e,wn,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jt.set("previous_websocket_failure",!0);try{if((0,Pt.Yr)()){const e={headers:{"User-Agent":`Firebase/5/${Lt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n}),this.mySock=new Pn(this.connURL,[],e)}else this.mySock=new Pn(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==Pn&&!e.forceDisallow_}static previouslyFailed(){return jt.isInMemoryStorage||!0===jt.get("previous_websocket_failure")}markConnectionHealthy(){jt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,Pt.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Pt.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,Pt.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ln(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})();class Dn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Nn,On]}initTransports_(e){const t=On&&On.isAvailable();let n=t&&!On.previouslyFailed();if(e.webSocketOnly&&(t||Xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[On];else{const e=this.transports_=[];for(const t of Dn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Ln{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yt("c:"+this.id+":"),this.transportManager_=new Dn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=gn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=on("t",e),n=on("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=on("t",e),n=on("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=on("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Qt("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qt("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),gn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Fn{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Mn{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Pt.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,Pt.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class qn extends Mn{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Pt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qn}getInitialEvent(e){return(0,Pt.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Un{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function jn(){return new Un("")}function Vn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zn(e){return e.pieces_.length-e.pieceNum_}function Bn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Un(e.pieces_,t)}function zn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Hn(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function $n(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Un(t,0)}function Gn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Un)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Un(n,0)}function Wn(e){return e.pieceNum_>=e.pieces_.length}function Kn(e,t){const n=Vn(e),r=Vn(t);if(null===n)return t;if(n===r)return Kn(Bn(e),Bn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Yn(e,t){const n=Hn(e,0),r=Hn(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=rn(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Qn(e,t){if(Zn(e)!==Zn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Jn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Zn(e)>Zn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Xn{constructor(e,t){this.errorPrefix_=t,this.parts_=Hn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Pt.ug)(this.parts_[n]);er(this)}}function er(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+tr(e))}function tr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class nr extends Mn{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new nr}getInitialEvent(e){return(0,Pt.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const rr=1e3;let ir,sr=(()=>{class e extends Fn{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Yt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,Pt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nr.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&qn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,Pt.Pz)(i)),(0,Pt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Pt.BH,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[i];void 0===e||r!==e||(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,Pt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Pt.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r};t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;e.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,Pt.r3)(e,"w")){const n=(0,Pt.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Pt.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,Pt.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,Pt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Pt.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Qt("Unrecognized action received from server: "+(0,Pt.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Pt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Nt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+e.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(e){(0,Pt.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,n]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=n&&n.token,c=new Ln(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,e=>{Xt(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(n){t.log_("Failed to get token: "+n),l||(t.repoInfo_.nodeAdmin&&Xt(n),u())}}})()}interrupt(e){Kt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Pt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>an(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Un(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Kt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Kt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,Pt.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Lt.replace(/\./g,"-")]=1,(0,Pt.uI)()?e["framework.cordova"]=1:(0,Pt.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qn.getInstance().currentlyOnline();return(0,Pt.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class or{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new or(e,t)}}class ar{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new or(tn,e),r=new or(tn,t);return 0!==this.compare(n,r)}minPost(){return or.MIN}}class lr extends ar{static get __EMPTY_NODE(){return ir}static set __EMPTY_NODE(e){ir=e}compare(e,t){return rn(e.name,t.name)}isDefinedOn(e){throw(0,Pt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return or.MIN}maxPost(){return new or(nn,ir)}makePost(e,t){return(0,Pt.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new or(e,ir)}toString(){return".key"}}const cr=new lr;class ur{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let hr,dr=(()=>{class e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:fr.EMPTY_NODE,this.right=null!=s?s:fr.EMPTY_NODE}copy(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return fr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class fr{constructor(e,t=fr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new fr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,dr.BLACK,null,null))}remove(e){return new fr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ur(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ur(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ur(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ur(this.root_,null,this.comparator_,!0,e)}}function pr(e,t){return rn(e.name,t.name)}function mr(e,t){return rn(e,t)}fr.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new dr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gr=function(e){return"number"==typeof e?"number:"+un(e):"string:"+e},yr=function(e){if(e.isLeafNode()){const t=e.val();(0,Pt.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Pt.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Pt.hu)(e===hr||e.isEmpty(),"priority of unexpected type.");(0,Pt.hu)(e===hr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let _r,vr,br,wr=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,Pt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),yr(this.priorityNode_)}static set __childrenNodeConstructor(e){_r=e}static get __childrenNodeConstructor(){return _r}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Wn(t)?this:".priority"===Vn(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Vn(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,Pt.hu)(".priority"!==r||1===Zn(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?un(this.value_):this.value_,this.lazyHash_=zt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,Pt.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return(0,Pt.hu)(i>=0,"Unknown leaf type: "+n),(0,Pt.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Tr=new class extends ar{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?rn(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return or.MIN}maxPost(){return new or(nn,new wr("[PRIORITY-POST]",br))}makePost(e,t){const n=vr(e);return new or(t,new wr("[PRIORITY-POST]",n))}toString(){return".priority"}},Cr=Math.log(2);class Sr{constructor(e){this.count=parseInt(Math.log(e+1)/Cr,10),this.current_=this.count-1;const t=(e=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Er=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new dr(a,o.node,dr.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new dr(a,o.node,dr.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new dr(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,dr.BLACK):(a(r,dr.BLACK),a(r,dr.RED))}return s}(new Sr(e.length));return new fr(r||t,s)};let Ir;const xr={};class kr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Pt.hu)(xr&&Tr,"ChildrenNode.ts has not been loaded"),Ir=Ir||new kr({".priority":xr},{".priority":Tr}),Ir}get(e){const t=(0,Pt.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fr?t:null}hasIndex(e){return(0,Pt.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Pt.hu)(e!==cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(or.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Er(n,e.getCompare()):xr;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new kr(c,l)}addToIndexes(e,t){const n=(0,Pt.UI)(this.indexes_,(n,r)=>{const i=(0,Pt.DV)(this.indexSet_,r);if((0,Pt.hu)(i,"Missing index implementation for "+r),n===xr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(or.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Er(n,i.getCompare())}return xr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new or(e.name,r))),i.insert(e,e.node)}});return new kr(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,Pt.UI)(this.indexes_,n=>{if(n===xr)return n;{const r=t.get(e.name);return r?n.remove(new or(e.name,r)):n}});return new kr(n,this.indexSet_)}}let Ar,Nr=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&yr(this.priorityNode_),this.children_.isEmpty()&&(0,Pt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ar||(Ar=new e(new fr(mr),null,kr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ar}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ar:t}}getChild(e){const t=Vn(e);return null===t?this:this.getImmediateChild(t).getChild(Bn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,Pt.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const r=new or(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ar:this.priorityNode_;return new e(i,o,s)}}updateChild(e,t){const n=Vn(e);if(null===n)return t;{(0,Pt.hu)(".priority"!==Vn(e)||1===Zn(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Bn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Tr,(o,a)=>{n[o]=a.val(t),r++,s&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+gr(this.getPriority().val())+":"),this.forEachChild(Tr,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":zt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new or(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new or(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new or(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,or.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,or.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rr?-1:0}withIndex(t){if(t===cr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Tr),n=t.getIterator(Tr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===cr?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Rr=new class extends Nr{constructor(){super(new fr(mr),Nr.EMPTY_NODE,kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nr.EMPTY_NODE}isEmpty(){return!1}};function Pr(e,t=null){if(null===e)return Nr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,Pt.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new wr(e,Pr(t));if(e instanceof Array){let n=Nr.EMPTY_NODE;return cn(e,(t,r)=>{if((0,Pt.r3)(e,t)&&"."!==t.substring(0,1)){const e=Pr(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Pr(t))}{const n=[];let r=!1;if(cn(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Pr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new or(e,i)))}}),0===n.length)return Nr.EMPTY_NODE;const i=Er(n,pr,e=>e.name,mr);if(r){const e=Er(n,Tr.getCompare());return new Nr(i,Pr(t),new kr({".priority":e},{".priority":Tr}))}return new Nr(i,Pr(t),kr.Default)}}Object.defineProperties(or,{MIN:{value:new or(tn,Nr.EMPTY_NODE)},MAX:{value:new or(nn,Rr)}}),lr.__EMPTY_NODE=Nr.EMPTY_NODE,wr.__childrenNodeConstructor=Nr,hr=Rr,br=Rr,function(e){vr=e}(Pr);class Or extends ar{constructor(e){super(),this.indexPath_=e,(0,Pt.hu)(!Wn(e)&&".priority"!==Vn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?rn(e.name,t.name):i}makePost(e,t){const n=Pr(e),r=Nr.EMPTY_NODE.updateChild(this.indexPath_,n);return new or(t,r)}maxPost(){const e=Nr.EMPTY_NODE.updateChild(this.indexPath_,Rr);return new or(nn,e)}toString(){return Hn(this.indexPath_,0).join("/")}}const Dr=new class extends ar{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?rn(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return or.MIN}maxPost(){return or.MAX}makePost(e,t){const n=Pr(e);return new or(t,n)}toString(){return".value"}},Lr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fr=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Lr.charAt(n%64),n=Math.floor(n/64);(0,Pt.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Lr.charAt(t[i]);return(0,Pt.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),Mr=function(e){if(e===""+fn)return"-";const t=pn(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e.charAt(s);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return nn;const i=Lr.charAt(Lr.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},qr=function(e){if(e===""+dn)return tn;const t=pn(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+fn:(delete n[n.length-1],n.join("")):(n[n.length-1]=Lr.charAt(Lr.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Ur(e){return{type:"value",snapshotNode:e}}function jr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Vr(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Br{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,Pt.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()||(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Vr(t,o)):(0,Pt.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(jr(t,n)):s.trackChildChange(Zr(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Tr,(e,r)=>{t.hasChild(e)||n.trackChildChange(Vr(e,r))}),t.isLeafNode()||t.forEachChild(Tr,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Zr(t,r,i))}else n.trackChildChange(jr(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Nr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zr{constructor(e){this.indexedFilter_=new Br(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zr.getStartPost_(e),this.endPost_=zr.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new or(t,n))||(n=Nr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Nr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Nr.EMPTY_NODE);const i=this;return t.forEachChild(Tr,(e,t)=>{i.matches(new or(e,t))||(r=r.updateImmediateChild(e,Nr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Hr{constructor(e){this.rangedFilter_=new zr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new or(t,n))||(n=Nr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Nr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Nr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(Nr.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0),a&&o<this.limit_&&i(t,n)<=0?o++:r=r.updateImmediateChild(t.name,Nr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,Pt.hu)(o.numChildren()===this.limit_,"");const a=new or(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Zr(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Vr(t,e));const n=o.updateImmediateChild(t,Nr.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(jr(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Vr(l.name,l.node)),i.trackChildChange(jr(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Nr.EMPTY_NODE)):e}}class $r{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Pt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Pt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Pt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Pt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Pt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const e=new $r;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Gr(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Wr(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kr(e,t){const n=e.copy();return n.index_=t,n}function Yr(e){const t={};if(e.isDefault())return t;let n;return e.index_===Tr?n="$priority":e.index_===Dr?n="$value":e.index_===cr?n="$key":((0,Pt.hu)(e.index_ instanceof Or,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,Pt.Pz)(n),e.startSet_&&(t.startAt=(0,Pt.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,Pt.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,Pt.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,Pt.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Qr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Tr&&(t.i=e.index_.toString()),t}class Jr extends Fn{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Yt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Pt.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Jr.getListenId_(e,n),o={};this.listens_[s]=o;const a=Yr(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,Pt.DV)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Jr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Yr(e._queryParams),n=e._path.toString(),r=new Pt.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Pt.xO)(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,Pt.cI)(o.responseText)}catch(e){Xt("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&Xt("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class Xr{constructor(){this.rootNode_=Nr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ei(){return{value:null,children:new Map}}function ti(e,t,n){if(Wn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Vn(t);e.children.has(r)||e.children.set(r,ei()),ti(e.children.get(r),t=Bn(t),n)}}function ni(e,t){if(Wn(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Tr,(t,n)=>{ti(e,new Un(t),n)}),ni(e,t)}}if(e.children.size>0){const n=Vn(t);return t=Bn(t),e.children.has(n)&&ni(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function ri(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{ri(r,new Un(t.toString()+"/"+e),n)})}class ii{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&cn(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class si{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ii(e);const n=1e4+2e4*Math.random();gn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;cn(e,(e,r)=>{r>0&&(0,Pt.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),gn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var oi=(()=>(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(oi||(oi={})),oi))();function ai(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class li{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Wn(this.path)){if(null!=this.affectedTree.value)return(0,Pt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Un(e));return new li(jn(),t,this.revert)}}return(0,Pt.hu)(Vn(this.path)===e,"operationForChild called for unrelated child."),new li(Bn(this.path),this.affectedTree,this.revert)}}class ci{constructor(e,t){this.source=e,this.path=t,this.type=oi.LISTEN_COMPLETE}operationForChild(e){return Wn(this.path)?new ci(this.source,jn()):new ci(this.source,Bn(this.path))}}class ui{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=oi.OVERWRITE}operationForChild(e){return Wn(this.path)?new ui(this.source,jn(),this.snap.getImmediateChild(e)):new ui(this.source,Bn(this.path),this.snap)}}class hi{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=oi.MERGE}operationForChild(e){if(Wn(this.path)){const t=this.children.subtree(new Un(e));return t.isEmpty()?null:t.value?new ui(this.source,jn(),t.value):new hi(this.source,jn(),t)}return(0,Pt.hu)(Vn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hi(this.source,Bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class di{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class fi{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pi(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,Pt.g5)("Should only compare child_ events.");const r=new or(t.childName,t.snapshotNode),i=new or(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function mi(e,t){return{eventCache:e,serverCache:t}}function gi(e,t,n,r){return mi(new di(t,n,r),e.serverCache)}function yi(e,t,n,r){return mi(e.eventCache,new di(t,n,r))}function _i(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let bi;class wi{constructor(e,t=(()=>(bi||(bi=new fr(sn)),bi))()){this.value=e,this.children=t}static fromObject(e){let t=new wi(null);return cn(e,(e,n)=>{t=t.set(new Un(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:jn(),value:this.value};if(Wn(e))return null;{const n=Vn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Bn(e),t);return null!=i?{path:Gn(new Un(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Wn(e))return this;{const t=Vn(e),n=this.children.get(t);return null!==n?n.subtree(Bn(e)):new wi(null)}}set(e,t){if(Wn(e))return new wi(t,this.children);{const n=Vn(e),r=(this.children.get(n)||new wi(null)).set(Bn(e),t),i=this.children.insert(n,r);return new wi(this.value,i)}}remove(e){if(Wn(e))return this.children.isEmpty()?new wi(null):new wi(null,this.children);{const t=Vn(e),n=this.children.get(t);if(n){const r=n.remove(Bn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new wi(null):new wi(this.value,i)}return this}}get(e){if(Wn(e))return this.value;{const t=Vn(e),n=this.children.get(t);return n?n.get(Bn(e)):null}}setTree(e,t){if(Wn(e))return t;{const n=Vn(e),r=(this.children.get(n)||new wi(null)).setTree(Bn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new wi(this.value,i)}}fold(e){return this.fold_(jn(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Gn(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,jn(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Wn(e))return null;{const r=Vn(e),i=this.children.get(r);return i?i.findOnPath_(Bn(e),Gn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,jn(),t)}foreachOnPath_(e,t,n){if(Wn(e))return this;{this.value&&n(t,this.value);const r=Vn(e),i=this.children.get(r);return i?i.foreachOnPath_(Bn(e),Gn(t,r),n):new wi(null)}}foreach(e){this.foreach_(jn(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Gn(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new wi(null))}}function Ci(e,t,n){if(Wn(t))return new Ti(new wi(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Kn(i,t);return s=s.updateChild(o,n),new Ti(e.writeTree_.set(i,s))}{const r=new wi(n),i=e.writeTree_.setTree(t,r);return new Ti(i)}}}function Si(e,t,n){let r=e;return cn(n,(e,n)=>{r=Ci(r,Gn(t,e),n)}),r}function Ei(e,t){if(Wn(t))return Ti.empty();{const n=e.writeTree_.setTree(t,new wi(null));return new Ti(n)}}function Ii(e,t){return null!=xi(e,t)}function xi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kn(n.path,t)):null}function ki(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Tr,(e,n)=>{t.push(new or(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new or(e,n.value))}),t}function Ai(e,t){if(Wn(t))return e;{const n=xi(e,t);return new Ti(null!=n?new wi(n):e.writeTree_.subtree(t))}}function Ni(e){return e.writeTree_.isEmpty()}function Ri(e,t){return Pi(jn(),e.writeTree_,t)}function Pi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,Pt.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Pi(Gn(e,t),i,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Gn(e,".priority"),r)),n}}function Oi(e,t){return zi(t,e)}function Di(e,t){if(e.snap)return Jn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Jn(Gn(e.path,n),t))return!0;return!1}function Li(e){return e.visible}function Fi(e,t,n){let r=Ti.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Jn(n,e)?(t=Kn(n,e),r=Ci(r,t,s.snap)):Jn(e,n)&&(t=Kn(e,n),r=Ci(r,jn(),s.snap.getChild(t)));else{if(!s.children)throw(0,Pt.g5)("WriteRecord should have .snap or .children");if(Jn(n,e))t=Kn(n,e),r=Si(r,t,s.children);else if(Jn(e,n))if(t=Kn(e,n),Wn(t))r=Si(r,jn(),s.children);else{const e=(0,Pt.DV)(s.children,Vn(t));if(e){const n=e.getChild(Bn(t));r=Ci(r,jn(),n)}}}}}return r}function Mi(e,t,n,r,i){if(r||i){const s=Ai(e.visibleWrites,t);return!i&&Ni(s)?n:i||null!=n||Ii(s,jn())?Ri(Fi(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Jn(e.path,t)||Jn(t,e.path))},t),n||Nr.EMPTY_NODE):null}{const r=xi(e.visibleWrites,t);if(null!=r)return r;{const r=Ai(e.visibleWrites,t);return Ni(r)?n:null!=n||Ii(r,jn())?Ri(r,n||Nr.EMPTY_NODE):null}}}function qi(e,t,n,r){return Mi(e.writeTree,e.treePath,t,n,r)}function Ui(e,t){return function(e,t,n){let r=Nr.EMPTY_NODE;const i=xi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Tr,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Ai(e.visibleWrites,t);return n.forEachChild(Tr,(e,t)=>{const n=Ri(Ai(i,new Un(e)),t);r=r.updateImmediateChild(e,n)}),ki(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return ki(Ai(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function ji(e,t,n,r){return function(e,t,n,r,i){(0,Pt.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Gn(t,n);if(Ii(e.visibleWrites,s))return null;{const t=Ai(e.visibleWrites,s);return Ni(t)?i.getChild(n):Ri(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Vi(e,t){return function(e,t){return xi(e.visibleWrites,t)}(e.writeTree,Gn(e.treePath,t))}function Zi(e,t,n){return function(e,t,n,r){const i=Gn(t,n),s=xi(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Ri(Ai(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Bi(e,t){return zi(Gn(e.treePath,t),e.writeTree)}function zi(e,t){return{treePath:e,writeTree:t}}class Hi{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,Pt.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Pt.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Zr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Vr(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jr(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,Pt.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Zr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const $i=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Gi{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vi(this.viewCache_),i=function(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Ai(e.visibleWrites,t),c=xi(l,jn());if(null!=c)a=c;else{if(null==n)return[];a=Ri(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Wi(e,t,n,r,i,s){const o=t.eventCache;if(null!=Vi(r,n))return t;{let a,l;if(Wn(n))if((0,Pt.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=vi(t),i=Ui(r,n instanceof Nr?n:Nr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=qi(r,vi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Vn(n);if(".priority"===c){(0,Pt.hu)(1===Zn(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=ji(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Bn(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=ji(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Zi(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return gi(t,a,o.isFullyInitialized()||Wn(n),e.filter.filtersNodes())}}function Ki(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Wn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Vn(n);if(!l.isCompleteForPath(n)&&Zn(n)>1)return t;const i=Bn(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,$i,null)}const h=yi(t,c,l.isFullyInitialized()||Wn(n),u.filtersNodes());return Wi(e,h,n,i,new Gi(i,h,s),a)}function Yi(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Gi(i,t,s);if(Wn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=gi(t,c,!0,e.filter.filtersNodes());else{const i=Vn(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=gi(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Bn(n),c=a.getNode().getImmediateChild(i);let h;if(Wn(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===zn(s)&&e.getChild($n(s)).isEmpty()?e:e.updateChild(s,r):Nr.EMPTY_NODE}l=c.equals(h)?t:gi(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Qi(e,t){return e.eventCache.isCompleteForChild(t)}function Ji(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Xi(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Wn(n)?r:new wi(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Ji(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ki(e,c,new Un(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=Ji(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ki(e,c,new Un(n),l,i,s,o,a)}}),c}class es{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Br(n.getIndex()),i=function(e){return e.loadsAllData()?new Br(e.getIndex()):e.hasLimit()?new Hr(e):new zr(e)}(n);this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,o=t.eventCache,a=r.updateFullNode(Nr.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(Nr.EMPTY_NODE,o.getNode(),null),c=new di(a,s.isFullyInitialized(),r.filtersNodes()),u=new di(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=mi(u,c),this.eventGenerator_=new fi(this.query_)}get query(){return this.query_}}function ts(e,t){const n=vi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Wn(t)&&!n.getImmediateChild(Vn(t)).isEmpty())?n.getChild(t):null}function ns(e){return 0===e.eventRegistrations_.length}function rs(e,t,n){const r=[];if(n){(0,Pt.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function is(e,t,n,r){t.type===oi.MERGE&&null!==t.source.queryId&&((0,Pt.hu)(vi(e.viewCache_),"We should always have a full cache before handling merges"),(0,Pt.hu)(_i(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new Hi;let o,a;if(n.type===oi.OVERWRITE){const l=n;l.source.fromUser?o=Yi(e,t,l.path,l.snap,r,i,s):((0,Pt.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Wn(l.path),o=Ki(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===oi.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=Gn(n,r);Qi(t,Vn(c))&&(a=Yi(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=Gn(n,r);Qi(t,Vn(c))||(a=Yi(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):((0,Pt.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Xi(e,t,l.path,l.children,r,i,a,s))}else if(n.type===oi.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Vi(r,n))return t;{const a=new Gi(r,t,i),l=t.eventCache.getNode();let c;if(Wn(n)||".priority"===Vn(n)){let n;if(t.serverCache.isFullyInitialized())n=qi(r,vi(t));else{const e=t.serverCache.getNode();(0,Pt.hu)(e instanceof Nr,"serverChildren would be complete if leaf node"),n=Ui(r,e)}n=n,c=e.filter.updateFullNode(l,n,s)}else{const i=Vn(n);let u=Zi(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Bn(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Nr.EMPTY_NODE,Bn(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=qi(r,vi(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Vi(r,jn()),gi(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Vi(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Wn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ki(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Wn(n)){let r=new wi(null);return l.getNode().forEachChild(cr,(e,t)=>{r=r.set(new Un(e),t)}),Xi(e,t,n,r,i,s,a,o)}return t}{let c=new wi(null);return r.foreach((e,t)=>{const r=Gn(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Xi(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==oi.LISTEN_COMPLETE)throw(0,Pt.g5)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache;return Wi(e,yi(t,s.getNode(),s.isFullyInitialized()||Wn(n),s.isFiltered()),n,r,$i,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=_i(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ur(_i(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);return function(e,t){(0,Pt.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,Pt.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,s.viewCache),(0,Pt.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ss(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ss(e,t,n,r){return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(function(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(t.childName,t.snapshotNode))}),pi(e,i,"child_removed",t,r,n),pi(e,i,"child_added",t,r,n),pi(e,i,"child_moved",s,r,n),pi(e,i,"child_changed",t,r,n),pi(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let os,as;class ls{constructor(){this.views=new Map}}function cs(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,Pt.hu)(null!=s,"SyncTree gave us an op for an invalid query."),is(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(is(s,t,n,r));return i}}function us(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let e=qi(n,i?r:null),s=!1;e?s=!0:r instanceof Nr?(e=Ui(n,r),s=!1):(e=Nr.EMPTY_NODE,s=!1);const o=mi(new di(e,s,!1),new di(r,i,!1));return new es(t,o)}return s}function hs(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ds(e,t){let n=null;for(const r of e.views.values())n=n||ts(r,t);return n}function fs(e,t){return t._queryParams.loadsAllData()?gs(e):e.views.get(t._queryIdentifier)}function ps(e,t){return null!=fs(e,t)}function ms(e){return null!=gs(e)}function gs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ys=1;class _s{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wi(null),this.pendingWriteTree_={visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vs(e,t,n,r,i){return function(e,t,n,r,i){(0,Pt.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ci(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Es(e,new ui({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function bs(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,Pt.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Di(t,r.path)?i=!1:Jn(r.path,t.path)&&(s=!0)),o--}return!!i&&(s?(function(e){e.visibleWrites=Fi(e.allWrites,Li,jn()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Ei(e.visibleWrites,r.path):cn(r.children,t=>{e.visibleWrites=Ei(e.visibleWrites,Gn(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new wi(null);return null!=r.snap?t=t.set(jn(),!0):cn(r.children,e=>{t=t.set(new Un(e),!0)}),Es(e,new li(r.path,t,n))}return[]}function ws(e,t,n){return Es(e,new ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ts(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||ps(s,t))){const a=function(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=ms(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(rs(c,n,r)),ns(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(rs(t,n,r)),ns(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!ms(e)&&s.push(new((0,Pt.hu)(os,"Reference.ts has not been loaded"),os)(t._repo,t._path)),{removed:s,events:o}}(s,t,n,r);(function(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>ms(t));if(c&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&ms(t))return[gs(t)];{let e=[];return t&&(e=hs(t)),cn(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=ks(e,r);e.listenProvider_.startListening(Ds(i),As(e,i),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const n=null;e.listenProvider_.stopListening(Ds(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(Ns(t));e.listenProvider_.stopListening(Ds(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ns(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function Cs(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=Kn(e,r);i=i||ds(t,n),s=s||ms(t)});let o,a=e.syncPointTree_.get(r);a?(s=s||ms(a),i=i||ds(a,jn())):(a=new ls,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?o=!0:(o=!1,i=Nr.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=ds(t,jn());n&&(i=i.updateImmediateChild(e,n))}));const l=ps(a,t);if(!l&&!t._queryParams.loadsAllData()){const n=Ns(t);(0,Pt.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ys++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=function(e,t,n,r,i,s){const o=us(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Tr,(e,t)=>{r.push(jr(e,t))}),n.isFullyInitialized()&&r.push(Ur(n.getNode())),ss(e,r,n.getNode(),t)}(o,n)}(a,t,n,Oi(e.pendingWriteTree_,r),i,o);if(!l&&!s){const n=fs(a,t);c=c.concat(function(e,t,n){const r=t._path,i=As(e,t),s=ks(e,n),o=e.listenProvider_.startListening(Ds(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,Pt.hu)(!ms(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Wn(e)&&t&&ms(t))return[gs(t).query];{let e=[];return t&&(e=e.concat(hs(t).map(e=>e.query))),cn(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ds(r),As(e,r))}}return o}(e,t,n))}return c}function Ss(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ds(n,Kn(e,t));if(r)return r});return Mi(r,t,i,n,!0)}function Es(e,t){return Is(t,e.syncPointTree_,null,Oi(e.pendingWriteTree_,jn()))}function Is(e,t,n,r){if(Wn(e.path))return xs(e,t,n,r);{const i=t.get(jn());null==n&&null!=i&&(n=ds(i,jn()));let s=[];const o=Vn(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Bi(r,o);s=s.concat(Is(a,l,e,t))}return i&&(s=s.concat(cs(i,e,r,n))),s}}function xs(e,t,n,r){const i=t.get(jn());null==n&&null!=i&&(n=ds(i,jn()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Bi(r,t),l=e.operationForChild(t);l&&(s=s.concat(xs(l,i,o,a)))}),i&&(s=s.concat(cs(i,e,r,n))),s}function ks(e,t){const n=t.query,r=As(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||Nr.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Rs(e,n);if(r){const n=Ps(r),i=n.path,s=n.queryId,o=Kn(i,t);return Os(e,i,new ci(ai(s),o))}return[]}(e,n._path,r):function(e,t){return Es(e,new ci({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ts(e,n,null,r)}}}}function As(e,t){const n=Ns(t);return e.queryToTagMap.get(n)}function Ns(e){return e._path.toString()+"$"+e._queryIdentifier}function Rs(e,t){return e.tagToQueryMap.get(t)}function Ps(e){const t=e.indexOf("$");return(0,Pt.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Un(e.substr(0,t))}}function Os(e,t,n){const r=e.syncPointTree_.get(t);return(0,Pt.hu)(r,"Missing sync point for query tag that we're tracking"),cs(r,n,Oi(e.pendingWriteTree_,t),null)}function Ds(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,Pt.hu)(as,"Reference.ts has not been loaded"),as)(e._repo,e._path):e}class Ls{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ls(t)}node(){return this.node_}}class Fs{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Gn(this.path_,e);return new Fs(this.syncTree_,t)}node(){return Ss(this.syncTree_,this.path_)}}const Ms=function(e,t,n){return e&&"object"==typeof e?((0,Pt.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?qs(e[".sv"],t,n):"object"==typeof e[".sv"]?Us(e[".sv"],t):void(0,Pt.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},qs=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,Pt.hu)(!1,"Unexpected server value: "+e)}},Us=function(e,t,n){e.hasOwnProperty("increment")||(0,Pt.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,Pt.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,Pt.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},js=function(e,t,n,r){return Zs(t,new Fs(n,e),r)},Vs=function(e,t,n){return Zs(e,new Ls(t),n)};function Zs(e,t,n){const r=e.getPriority().val(),i=Ms(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Ms(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new wr(s,Pr(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new wr(i))),r.forEachChild(Tr,(e,r)=>{const i=Zs(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Bs{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function zs(e,t){let n=t instanceof Un?t:new Un(t),r=e,i=Vn(n);for(;null!==i;){const e=(0,Pt.DV)(r.node.children,i)||{children:{},childCount:0};r=new Bs(i,r,e),n=Bn(n),i=Vn(n)}return r}function Hs(e){return e.node.value}function $s(e,t){e.node.value=t,Qs(e)}function Gs(e){return e.node.childCount>0}function Ws(e,t){cn(e.node.children,(n,r)=>{t(new Bs(n,e,r))})}function Ks(e,t,n,r){n&&!r&&t(e),Ws(e,e=>{Ks(e,t,!0,r)}),n&&r&&t(e)}function Ys(e){return new Un(null===e.parent?e.name:Ys(e.parent)+"/"+e.name)}function Qs(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Hs(e)&&!Gs(e)}(n),i=(0,Pt.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Qs(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Qs(e))}(e.parent,e.name,e)}const Js=/[\[\].#$\/\u0000-\u001F\u007F]/,Xs=/[\[\].#$\u0000-\u001F\u007F]/,eo=10485760,to=function(e){return"string"==typeof e&&0!==e.length&&!Js.test(e)},no=function(e){return"string"==typeof e&&0!==e.length&&!Xs.test(e)},ro=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!en(e)||e&&"object"==typeof e&&(0,Pt.r3)(e,".sv")},io=function(e,t,n,r){r&&void 0===t||so((0,Pt.gK)(e,"value"),t,n)},so=function(e,t,n){const r=n instanceof Un?new Xn(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+tr(r));if("function"==typeof t)throw new Error(e+"contains a function "+tr(r)+" with contents = "+t.toString());if(en(t))throw new Error(e+"contains "+t.toString()+" "+tr(r));if("string"==typeof t&&t.length>eo/3&&(0,Pt.ug)(t)>eo)throw new Error(e+"contains a string greater than "+eo+" utf8 bytes "+tr(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(cn(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!to(t)))throw new Error(e+" contains an invalid key ("+t+") "+tr(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,Pt.ug)(t),er(e)})(r,t),so(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,Pt.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+tr(r)+" in addition to actual children.")}},oo=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,Pt.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];cn(t,(e,t)=>{const r=new Un(e);if(so(i,t,Gn(n,r)),".priority"===zn(r)&&!ro(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Hn(r);for(let t=0;t<i.length;t++)if((".priority"!==i[t]||t!==i.length-1)&&!to(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Yn);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Jn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},ao=function(e,t,n){if(!n||void 0!==t){if(en(t))throw new Error((0,Pt.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ro(t))throw new Error((0,Pt.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lo=function(e,t,n,r){if(!(r&&void 0===n||to(n)))throw new Error((0,Pt.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},co=function(e,t,n,r){if(!(r&&void 0===n||no(n)))throw new Error((0,Pt.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},uo=function(e,t){if(".info"===Vn(t))throw new Error(e+" failed = Can't modify data under /.info/")},ho=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!to(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),no(e)}(n))throw new Error((0,Pt.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function po(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null!==n&&!Qn(s,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function mo(e,t,n){po(e,n),yo(e,e=>Qn(e,t))}function go(e,t,n){po(e,n),yo(e,e=>Jn(e,t)||Jn(t,e))}function yo(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(_o(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function _o(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();$t&&Kt("event: "+n.toString()),mn(r)}}}const vo="repo_interrupt";class bo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ei(),this.transactionQueueTree_=new Bs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wo(e){const t=e.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function To(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:wo(e)})}function Co(e,t,n,r,i){e.dataUpdateCount++;const s=new Un(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=(0,Pt.UI)(n,e=>Pr(e));o=function(e,t,n,r){const i=Rs(e,r);if(i){const r=Ps(i),s=r.path,o=r.queryId,a=Kn(s,t),l=wi.fromObject(n);return Os(e,s,new hi(ai(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Pr(n);o=function(e,t,n,r){const i=Rs(e,r);if(null!=i){const r=Ps(i),s=r.path,o=r.queryId,a=Kn(s,t);return Os(e,s,new ui(ai(o),a,n))}return[]}(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,Pt.UI)(n,e=>Pr(e));o=function(e,t,n){const r=wi.fromObject(n);return Es(e,new hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Pr(n);o=ws(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Fo(e,s)),go(e.eventQueue_,a,o)}function So(e,t){Eo(e,"connected",t),!1===t&&function(e){Po(e,"onDisconnectEvents");const t=To(e),n=ei();ri(e.onDisconnect_,jn(),(r,i)=>{const s=js(r,i,e.serverSyncTree_,t);ti(n,r,s)});let r=[];ri(n,jn(),(t,n)=>{r=r.concat(ws(e.serverSyncTree_,t,n));const i=Vo(e,t);Fo(e,i)}),e.onDisconnect_=ei(),go(e.eventQueue_,jn(),r)}(e)}function Eo(e,t,n){const r=new Un("/.info/"+t),i=Pr(n);e.infoData_.updateSnapshot(r,i);const s=ws(e.infoSyncTree_,r,i);go(e.eventQueue_,r,s)}function Io(e){return e.nextWriteId_++}function xo(e,t,n,r,i){Po(e,"set",{path:t.toString(),value:n,priority:r});const s=To(e),o=Pr(n,r),a=Ss(e.serverSyncTree_,t),l=Vs(o,a,s),c=Io(e),u=vs(e.serverSyncTree_,t,l,c,!0);po(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||Xt("set at "+t+" failed: "+n);const o=bs(e.serverSyncTree_,c,!s);go(e.eventQueue_,t,o),Oo(0,i,n,r)});const h=Vo(e,t);Fo(e,h),go(e.eventQueue_,h,[])}function ko(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&ni(e.onDisconnect_,t),Oo(0,n,r,i)})}function Ao(e,t,n,r){const i=Pr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&ti(e.onDisconnect_,t,i),Oo(0,r,n,s)})}function No(e,t,n){let r;r=".info"===Vn(t._path)?Ts(e.infoSyncTree_,t,n):Ts(e.serverSyncTree_,t,n),mo(e.eventQueue_,t._path,r)}function Ro(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vo)}function Po(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Kt(n,...t)}function Oo(e,t,n,r){t&&mn(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function Do(e,t,n){return Ss(e.serverSyncTree_,t,n)||Nr.EMPTY_NODE}function Lo(e,t=e.transactionQueueTree_){if(t||jo(e,t),Hs(t)){const n=qo(e,t);(0,Pt.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Do(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,Pt.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Kn(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Po(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(bs(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();jo(e,zs(e.transactionQueueTree_,t)),Lo(e,e.transactionQueueTree_),go(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)mn(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{Xt("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Fo(e,t)}},o)}(e,Ys(t),n)}else Gs(t)&&Ws(t,t=>{Lo(e,t)})}function Fo(e,t){const n=Mo(e,t),r=Ys(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=Kn(n,a.path);let c,u=!1;if((0,Pt.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,i=i.concat(bs(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",i=i.concat(bs(e.serverSyncTree_,a.currentWriteId,!0));else{const n=Do(e,a.path,s);a.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){so("transaction failed: Data returned ",r,a.path);let t=Pr(r);"object"==typeof r&&null!=r&&(0,Pt.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=To(e),c=Vs(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=Io(e),s.splice(s.indexOf(o),1),i=i.concat(vs(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(bs(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(bs(e.serverSyncTree_,a.currentWriteId,!0))}go(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&r.push("nodata"===c?()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot):()=>t[o].onComplete(new Error(c),!1,null)))}jo(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)mn(r[o]);Lo(e,e.transactionQueueTree_)}(e,qo(e,n),r),r}function Mo(e,t){let n,r=e.transactionQueueTree_;for(n=Vn(t);null!==n&&void 0===Hs(r);)r=zs(r,n),n=Vn(t=Bn(t));return r}function qo(e,t){const n=[];return Uo(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Uo(e,t,n){const r=Hs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ws(t,t=>{Uo(e,t,n)})}function jo(e,t){const n=Hs(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,$s(t,n.length>0?n:void 0)}Ws(t,t=>{jo(e,t)})}function Vo(e,t){const n=Ys(Mo(e,t)),r=zs(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Zo(e,t)}),Zo(e,r),Ks(r,t=>{Zo(e,t)}),n}function Zo(e,t){const n=Hs(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,Pt.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,Pt.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(bs(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?$s(t,void 0):n.length=s+1,go(e.eventQueue_,Ys(t),i);for(let e=0;e<r.length;e++)mn(r[e])}}const Bo=function(e,t){const n=zo(e),r=n.namespace;return"firebase.com"===n.domain&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Cn(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Un(n.pathString)}},zo=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(s){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Ho{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Pt.Pz)(this.snapshot.exportVal())}}class $o{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Go{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,Pt.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Wo{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Pt.BH;return ko(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){uo("OnDisconnect.remove",this._path);const e=new Pt.BH;return Ao(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){uo("OnDisconnect.set",this._path),io("OnDisconnect.set",e,this._path,!1);const t=new Pt.BH;return Ao(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){uo("OnDisconnect.setWithPriority",this._path),io("OnDisconnect.setWithPriority",e,this._path,!1),ao("OnDisconnect.setWithPriority",t,!1);const n=new Pt.BH;return function(e,t,n,r,i){const s=Pr(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&ti(e.onDisconnect_,t,s),Oo(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){uo("OnDisconnect.update",this._path),oo("OnDisconnect.update",e,this._path,!1);const t=new Pt.BH;return function(e,t,n,r){if((0,Pt.xb)(n))return Kt("onDisconnect().update() called with empty data.  Don't do anything."),void Oo(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&cn(n,(n,r)=>{const i=Pr(r);ti(e.onDisconnect_,Gn(t,n),i)}),Oo(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ko{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Wn(this._path)?null:zn(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const e=Qr(this._queryParams),t=an(e);return"{}"===t?"default":t}get _queryObject(){return Qr(this._queryParams)}isEqual(e){if(!((e=(0,Pt.m9)(e))instanceof Ko))return!1;const t=this._repo===e._repo,n=Qn(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Yo(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qo(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===cr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==tn)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==nn)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Tr){if(null!=t&&!ro(t)||null!=n&&!ro(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Pt.hu)(e.getIndex()instanceof Or||e.getIndex()===Dr,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jo(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xo extends Ko{constructor(e,t){super(e,t,new $r,!1)}get parent(){const e=$n(this._path);return null===e?null:new Xo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ea{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Un(e),n=ra(this.ref,e);return new ea(this._node.getChild(t),n,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new ea(n,ra(this.ref,t),Tr)))}hasChild(e){const t=new Un(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ta(e,t){return(e=(0,Pt.m9)(e))._checkNotDeleted("ref"),void 0!==t?ra(e._root,t):e._root}function na(e,t){(e=(0,Pt.m9)(e))._checkNotDeleted("refFromURL");const n=Bo(t,e._repo.repoInfo_.nodeAdmin);ho("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Jt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ta(e,n.path.toString())}function ra(e,t){return null===Vn((e=(0,Pt.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),co("child","path",n,!1)):co("child","path",t,!1),new Xo(e._repo,Gn(e._path,t));var n}function ia(e,t){e=(0,Pt.m9)(e),uo("set",e._path),io("set",t,e._path,!1);const n=new Pt.BH;return xo(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function sa(e,t){oo("update",t,e._path,!1);const n=new Pt.BH;return function(e,t,n,r){Po(e,"update",{path:t.toString(),value:n});let i=!0;const s=To(e),o={};if(cn(n,(n,r)=>{i=!1,o[n]=js(Gn(t,n),Pr(r),e.serverSyncTree_,s)}),i)Kt("update() called with empty data.  Don't do anything."),Oo(0,r,"ok",void 0);else{const i=Io(e),s=function(e,t,n,r){!function(e,t,n,r){(0,Pt.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Si(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=wi.fromObject(n);return Es(e,new hi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,o,i);po(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||Xt("update at "+t+" failed: "+n);const a=bs(e.serverSyncTree_,i,!o),l=a.length>0?Fo(e,t):t;go(e.eventQueue_,l,a),Oo(0,r,n,s)}),cn(n,n=>{const r=Vo(e,Gn(t,n));Fo(e,r)}),go(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function oa(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Kn(e,n);r=r||ds(t,i)});let i=e.syncPointTree_.get(n);i?r=r||ds(i,jn()):(i=new ls,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new di(r,!0,!1):null;return function(e){return _i(e.viewCache_)}(us(i,t,Oi(e.pendingWriteTree_,t._path),s?o.getNode():Nr.EMPTY_NODE,s))}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const r=Pr(n).withIndex(t._queryParams.getIndex()),i=ws(e.serverSyncTree_,t._path,r);return mo(e.eventQueue_,t._path,i),Promise.resolve(r)},n=>(Po(e,"get for query "+(0,Pt.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))))}((e=(0,Pt.m9)(e))._repo,e).then(t=>new ea(t,new Xo(e._repo,e._path),e._queryParams.getIndex()))}class aa{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ho("value",this,new ea(e.snapshotNode,new Xo(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $o(this,e,t):null}matches(e){return e instanceof aa&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class la{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $o(this,e,t):null}createEvent(e,t){(0,Pt.hu)(null!=e.childName,"Child events should have a childName.");const n=ra(new Xo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ho(e.type,this,new ea(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof la&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ca(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{No(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Go(n,s||void 0),a="value"===t?new aa(o):new la(t,o);return function(e,t,n){let r;r=".info"===Vn(t._path)?Cs(e.infoSyncTree_,t,n):Cs(e.serverSyncTree_,t,n),mo(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>No(e._repo,e,a)}function ua(e,t,n,r){return ca(e,"value",t,n,r)}function ha(e,t,n,r){return ca(e,"child_added",t,n,r)}function da(e,t,n,r){return ca(e,"child_changed",t,n,r)}function fa(e,t,n,r){return ca(e,"child_moved",t,n,r)}function pa(e,t,n,r){return ca(e,"child_removed",t,n,r)}function ma(e,t,n){let r=null;const i=n?new Go(n):null;"value"===t?r=new aa(i):t&&(r=new la(t,i)),No(e._repo,e,r)}class ga{}class ya extends ga{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){io("endAt",this._value,e._path,!0);const t=Wr(e._queryParams,this._value,this._key);if(Jo(t),Qo(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(e._repo,e._path,t,e._orderByCalled)}}class _a extends ga{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){io("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r,i;return e.index_===cr?("string"==typeof t&&(t=qr(t)),i=Wr(e,t,n)):(r=null==n?tn:qr(n),i=Wr(e,t,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Jo(t),Qo(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(e._repo,e._path,t,e._orderByCalled)}}class va extends ga{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){io("startAt",this._value,e._path,!0);const t=Gr(e._queryParams,this._value,this._key);if(Jo(t),Qo(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ko(e._repo,e._path,t,e._orderByCalled)}}class ba extends ga{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){io("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;if(e.index_===cr)"string"==typeof t&&(t=Mr(t)),r=Gr(e,t,n);else{let i;i=null==n?nn:Mr(n),r=Gr(e,t,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Jo(t),Qo(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ko(e._repo,e._path,t,e._orderByCalled)}}class wa extends ga{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Ta extends ga{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class Ca extends ga{constructor(e){super(),this._path=e}_apply(e){Yo(e,"orderByChild");const t=new Un(this._path);if(Wn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Or(t),r=Kr(e._queryParams,n);return Qo(r),new Ko(e._repo,e._path,r,!0)}}class Sa extends ga{_apply(e){Yo(e,"orderByKey");const t=Kr(e._queryParams,cr);return Qo(t),new Ko(e._repo,e._path,t,!0)}}class Ea extends ga{_apply(e){Yo(e,"orderByPriority");const t=Kr(e._queryParams,Tr);return Qo(t),new Ko(e._repo,e._path,t,!0)}}class Ia extends ga{_apply(e){Yo(e,"orderByValue");const t=Kr(e._queryParams,Dr);return Qo(t),new Ko(e._repo,e._path,t,!0)}}class xa extends ga{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(io("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ya(this._value,this._key)._apply(new va(this._value,this._key)._apply(e))}}function ka(e,...t){let n=(0,Pt.m9)(e);for(const r of t)n=r._apply(n);return n}(function(e){(0,Pt.hu)(!os,"__referenceConstructor has already been defined"),os=e})(Xo),function(e){(0,Pt.hu)(!as,"__referenceConstructor has already been defined"),as=e}(Xo);const Aa={};function Na(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Bo(s,i),c=l.repoInfo;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=Bo(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new vn(vn.OWNER):new _n(e.name,e.options,t);ho("Invalid Firebase Database URL",l),Wn(l.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Aa[t.name];i||(i={},Aa[t.name]=i);let s=i[e.toURLString()];return s&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bo(e,false,n,r),i[e.toURLString()]=s,s}(c,e,u,new yn(e.name,n));return new Ra(h,e)}class Ra{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=kn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Jr(e.repoInfo_,(t,n,r,i)=>{Co(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>So(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Pt.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sr(e.repoInfo_,t,(t,n,r,i)=>{Co(e,t,n,r,i)},t=>{So(e,t)},t=>{!function(e,t){cn(t,(t,n)=>{Eo(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return xn[n]||(xn[n]=t()),xn[n]}(e.repoInfo_,()=>new si(e.stats_,e.server_)),e.infoData_=new Xr,e.infoSyncTree_=new _s({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=ws(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),Eo(e,"connected",!1),e.serverSyncTree_=new _s({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);go(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,jn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=Aa[t];(!n||n[e.key]!==e)&&Jt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Ro(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jt("Cannot call "+e+" on a deleted database.")}}function Pa(e,t){Wt(e,t)}class Oa{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}sr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Ft(Rt.SDK_VERSION),(0,Rt._registerComponent)(new At.wA("database",(e,{instanceIdentifier:t})=>Na(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(Dt,"0.12.4",void 0),(0,Rt.registerVersion)(Dt,"0.12.4","esm2017");const Da=new Ot.Yd("@firebase/database-compat"),La=function(e){Da.warn("FIREBASE WARNING: "+e)};class Fa{constructor(e){this._delegate=e}cancel(e){(0,Pt.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Pt.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){(0,Pt.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Pt.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){(0,Pt.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Pt.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,Pt.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Pt.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then(()=>n(null),e=>n(e)),r}update(e,t){if((0,Pt.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,La("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Pt.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}class Ma{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,Pt.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qa{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,Pt.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Pt.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Pt.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Pt.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,Pt.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),co("DataSnapshot.child","path",e,!1),new qa(this._database,this._delegate.child(e))}hasChild(e){return(0,Pt.Dv)("DataSnapshot.hasChild",1,1,arguments.length),co("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,Pt.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,Pt.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Pt.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new qa(this._database,t)))}hasChildren(){return(0,Pt.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Pt.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Pt.Dv)("DataSnapshot.ref",0,0,arguments.length),new ja(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ua{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,Pt.Dv)("Query.on",2,4,arguments.length),(0,Pt.Wj)("Query.on","callback",t,!1);const s=Ua.getCancelAndContextArgs_("Query.on",n,r),o=(e,n)=>{t.call(s.context,new qa(this.database,e),n)};o.userCallback=t,o.context=s.context;const a=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(e){case"value":return ua(this._delegate,o,a),t;case"child_added":return ha(this._delegate,o,a),t;case"child_removed":return pa(this._delegate,o,a),t;case"child_changed":return da(this._delegate,o,a),t;case"child_moved":return fa(this._delegate,o,a),t;default:throw new Error((0,Pt.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,Pt.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Pt.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,Pt.Wj)("Query.off","callback",t,!0),(0,Pt.lb)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,ma(this._delegate,e,r)}else ma(this._delegate,e)}get(){return oa(this._delegate).then(e=>new qa(this.database,e))}once(e,t,n,r){(0,Pt.Dv)("Query.once",1,4,arguments.length),(0,Pt.Wj)("Query.once","callback",t,!0);const i=Ua.getCancelAndContextArgs_("Query.once",n,r),s=new Pt.BH,o=(e,n)=>{const r=new qa(this.database,e);t&&t.call(i.context,r,n),s.resolve(r)};o.userCallback=t,o.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),s.reject(e)};switch(e){case"value":ua(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":ha(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":pa(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":da(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":fa(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,Pt.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,Pt.Dv)("Query.limitToFirst",1,1,arguments.length),new Ua(this.database,ka(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wa(e)}(e)))}limitToLast(e){return(0,Pt.Dv)("Query.limitToLast",1,1,arguments.length),new Ua(this.database,ka(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ta(e)}(e)))}orderByChild(e){return(0,Pt.Dv)("Query.orderByChild",1,1,arguments.length),new Ua(this.database,ka(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return co("orderByChild","path",e,!1),new Ca(e)}(e)))}orderByKey(){return(0,Pt.Dv)("Query.orderByKey",0,0,arguments.length),new Ua(this.database,ka(this._delegate,new Sa))}orderByPriority(){return(0,Pt.Dv)("Query.orderByPriority",0,0,arguments.length),new Ua(this.database,ka(this._delegate,new Ea))}orderByValue(){return(0,Pt.Dv)("Query.orderByValue",0,0,arguments.length),new Ua(this.database,ka(this._delegate,new Ia))}startAt(e=null,t){return(0,Pt.Dv)("Query.startAt",0,2,arguments.length),new Ua(this.database,ka(this._delegate,function(e=null,t){return lo("startAt","key",t,!0),new va(e,t)}(e,t)))}startAfter(e=null,t){return(0,Pt.Dv)("Query.startAfter",0,2,arguments.length),new Ua(this.database,ka(this._delegate,function(e,t){return lo("startAfter","key",t,!0),new ba(e,t)}(e,t)))}endAt(e=null,t){return(0,Pt.Dv)("Query.endAt",0,2,arguments.length),new Ua(this.database,ka(this._delegate,function(e,t){return lo("endAt","key",t,!0),new ya(e,t)}(e,t)))}endBefore(e=null,t){return(0,Pt.Dv)("Query.endBefore",0,2,arguments.length),new Ua(this.database,ka(this._delegate,function(e,t){return lo("endBefore","key",t,!0),new _a(e,t)}(e,t)))}equalTo(e,t){return(0,Pt.Dv)("Query.equalTo",1,2,arguments.length),new Ua(this.database,ka(this._delegate,function(e,t){return lo("equalTo","key",t,!0),new xa(e,t)}(e,t)))}toString(){return(0,Pt.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Pt.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,Pt.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ua))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,Pt.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,Pt.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,Pt.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new ja(this.database,new Xo(this._delegate._repo,this._delegate._path))}}class ja extends Ua{constructor(e,t){super(e,new Ko(t._repo,t._path,new $r,!1)),this.database=e,this._delegate=t}getKey(){return(0,Pt.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,Pt.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ja(this.database,ra(this._delegate,e))}getParent(){(0,Pt.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ja(this.database,e):null}getRoot(){return(0,Pt.Dv)("Reference.root",0,0,arguments.length),new ja(this.database,this._delegate.root)}set(e,t){(0,Pt.Dv)("Reference.set",1,2,arguments.length),(0,Pt.Wj)("Reference.set","onComplete",t,!0);const n=ia(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if((0,Pt.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,La("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}uo("Reference.update",this._delegate._path),(0,Pt.Wj)("Reference.update","onComplete",t,!0);const n=sa(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,Pt.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Pt.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(uo("setWithPriority",e._path),io("setWithPriority",t,e._path,!1),ao("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Pt.BH;return xo(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return n&&r.then(()=>n(null),e=>n(e)),r}remove(e){(0,Pt.Dv)("Reference.remove",0,1,arguments.length),(0,Pt.Wj)("Reference.remove","onComplete",e,!0);const t=function(e){return uo("remove",e._path),ia(e,null)}(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){(0,Pt.Dv)("Reference.transaction",1,3,arguments.length),(0,Pt.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,Pt.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,Pt.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function(e,t,n){var r;if(e=(0,Pt.m9)(e),uo("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new Pt.BH,o=ua(e,()=>{});return function(e,t,n,r,i,s){Po(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:Bt(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Do(e,t,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{so("transaction failed: Data returned ",l,o.path),o.status=0;const n=zs(e.transactionQueueTree_,t),r=Hs(n)||[];let i;r.push(o),$s(n,r),"object"==typeof l&&null!==l&&(0,Pt.r3)(l,".priority")?(i=(0,Pt.DV)(l,".priority"),(0,Pt.hu)(ro(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(Ss(e.serverSyncTree_,t)||Nr.EMPTY_NODE).getPriority().val();const s=To(e),c=Pr(l,i),u=Vs(c,a,s);o.currentOutputSnapshotRaw=c,o.currentOutputSnapshotResolved=u,o.currentWriteId=Io(e);const h=vs(e.serverSyncTree_,t,u,o.currentWriteId,o.applyLocally);go(e.eventQueue_,t,h),Lo(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(t,n,r)=>{let i=null;t?s.reject(t):(i=new ea(r,new Xo(e._repo,e._path),Tr),s.resolve(new Oa(n,i)))},o,i),s.promise}(this._delegate,e,{applyLocally:n}).then(e=>new Ma(e.committed,new qa(this.database,e.snapshot)));return t&&r.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),r}setPriority(e,t){(0,Pt.Dv)("Reference.setPriority",1,2,arguments.length),(0,Pt.Wj)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,Pt.m9)(e),uo("setPriority",e._path),ao("setPriority",t,!1);const n=new Pt.BH;return xo(e._repo,Gn(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){(0,Pt.Dv)("Reference.push",0,2,arguments.length),(0,Pt.Wj)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,Pt.m9)(e),uo("push",e._path),io("push",t,e._path,!0);const n=wo(e._repo),r=Fr(n),i=ra(e,r),s=ra(e,r);let o;return o=null!=t?ia(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),r=n.then(e=>new ja(this.database,e));t&&r.then(()=>t(null),e=>t(e));const i=new ja(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return uo("Reference.onDisconnect",this._delegate._path),new Fa(new Wo(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Va{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,n={}){!function(e,t,n,r={}){(e=(0,Pt.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new vn(vn.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:(0,Pt.Sg)(r.mockUserToken,e.app.options.projectId);s=new vn(t)}!function(e,t,n,r){e.repoInfo_=new Cn(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(this._delegate,e,t,n)}ref(e){if((0,Pt.Dv)("database.ref",0,1,arguments.length),e instanceof ja){const t=na(this._delegate,e.toString());return new ja(this,t)}{const t=ta(this._delegate,e);return new ja(this,t)}}refFromURL(e){(0,Pt.Dv)("database.refFromURL",1,1,arguments.length);const t=na(this._delegate,e);return new ja(this,t)}goOffline(){return(0,Pt.Dv)("database.goOffline",0,0,arguments.length),function(e){(e=(0,Pt.m9)(e))._checkNotDeleted("goOffline"),Ro(e._repo)}(this._delegate)}goOnline(){return(0,Pt.Dv)("database.goOnline",0,0,arguments.length),function(e){(e=(0,Pt.m9)(e))._checkNotDeleted("goOnline"),function(e){e.persistentConnection_&&e.persistentConnection_.resume(vo)}(e._repo)}(this._delegate)}}Va.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:e=>function(e){return{".sv":{increment:e}}}(e)};var Za=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){Ft(n);const o=new At.zt("auth-internal",new At.H0("database-standalone"));return o.setComponent(new At.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Va(Na(e,o,void 0,t,s),e),namespace:i}}});const Ba=Va.ServerValue;!function(e){e.INTERNAL.registerComponent(new At.wA("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Va(r,n)},"PUBLIC").setServiceProps({Reference:ja,Query:Ua,Database:Va,DataSnapshot:qa,enableLogging:Pa,INTERNAL:Za,ServerValue:Ba}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.4")}(kt.Z);var za=n(1373);class Ha extends yt{constructor(e=1/0,t=1/0,n=za.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let s=0;s<i.length&&!e.closed;s+=n?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}function $a(e,t,n){var r,i;let s,o=!1;return e&&"object"==typeof e?(s=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,o=!!e.refCount,n=e.scheduler):s=null!=e?e:1/0,vt({connector:()=>new Ha(s,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Ga=(0,pt.d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Wa(e,t){return(0,ot.e)((n,r)=>{let i=0;n.subscribe(new at.Q(r,n=>e.call(t,n,i++)&&r.next(n)))})}function Ka(e){return(0,ot.e)((t,n)=>{let r=!1;t.subscribe(new at.Q(n,e=>{r=!0,n.next(e)},()=>{r||n.next(e),n.complete()}))})}function Ya(e=Qa){return(0,ot.e)((t,n)=>{let r=!1;t.subscribe(new at.Q(n,e=>{r=!0,n.next(e)},()=>r?n.complete():n.error(e())))})}function Qa(){return new Ga}function Ja(e,t){return(0,Pe.m)(t)?wt(()=>e,t):wt(()=>e)}n(2329);const Xa=new Map,el={activated:!1,tokenObservers:[]},tl={initialized:!1,enabled:!1};function nl(e){return Xa.get(e)||el}function rl(e,t){Xa.set(e,t)}function il(){return tl}class sl{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Nt.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ol=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function al(e){if(!nl(e).activated)throw ol.create("use-before-activation",{appName:e.name})}function ll(e,t){return cl.apply(this,arguments)}function cl(){return(cl=(0,Nt.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw ol.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw ol.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw ol.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ol.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function ul(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const hl="firebase-app-check-store";let dl=null;function fl(){return dl||(dl=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(ol.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(hl,{keyPath:"compositeKey"})}}}catch(n){t(ol.create("storage-open",{originalErrorMessage:n.message}))}}),dl)}function pl(){return(pl=(0,Nt.Z)(function*(e,t){const n=(yield fl()).transaction(hl,"readwrite"),r=n.objectStore(hl).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(ol.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const ml=new Ot.Yd("@firebase/app-check");function gl(e,t){return(0,Pt.hl)()?function(e,t){return function(e,t){return pl.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{ml.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yl(){return il().enabled}function _l(){return vl.apply(this,arguments)}function vl(){return(vl=(0,Nt.Z)(function*(){const e=il();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bl={error:"UNKNOWN_ERROR"};function wl(e){return Pt.US.encodeString(JSON.stringify(e),!1)}function Tl(e){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,Nt.Z)(function*(e,t=!1){const n=e.app;al(n);const r=nl(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&xl(e)&&(s=e)}if(!t&&s&&xl(s))return{token:s.token};let o,a=!1;if(yl()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ll(ul(n,yield _l()),e.platformLoggerProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield gl(n,t),rl(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?ml.warn(l.message):ml.error(l),i=l}return s?(o={token:s.token},rl(n,Object.assign(Object.assign({},r),{token:s})),yield gl(n,s)):o=kl(i),a&&Il(n,o),o})).apply(this,arguments)}function Sl(e,t){const n=nl(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),rl(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function El(e){const{app:t}=e,n=nl(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new sl((0,Nt.Z)(function*(){let n;if(n=nl(t).token?yield Tl(e,!0):yield Tl(e),n.error)throw n.error}),()=>!0,()=>{const e=nl(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),rl(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Il(e,t){const n=nl(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function xl(e){return e.expireTimeMillis-Date.now()>0}function kl(e){return{token:wl(bl),error:e}}class Al{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=nl(this.app);for(const t of e)Sl(this.app,t.next);return Promise.resolve()}}const Nl="app-check-internal";(0,Rt._registerComponent)(new At.wA("app-check",e=>function(e,t){return new Al(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Nl).initialize()})),(0,Rt._registerComponent)(new At.wA(Nl,e=>function(e){return{getToken:t=>Tl(e,t),addTokenListener:t=>function(e,t,n,r){const{app:i}=e,s=nl(i),o={next:n,error:r,type:t};if(rl(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&xl(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),El(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>El(e))}(e,"INTERNAL",t),removeTokenListener:t=>Sl(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rt.registerVersion)("@firebase/app-check","0.5.2");class Rl{constructor(){return(0,xt.vb)("app-check")}}"undefined"!=typeof window&&window;var Pl=n(7841);const Ol=new r.OlP("angularfire2.auth.use-emulator"),Dl=new r.OlP("angularfire2.auth.settings"),Ll=new r.OlP("angularfire2.auth.tenant-id"),Fl=new r.OlP("angularfire2.auth.langugage-code"),Ml=new r.OlP("angularfire2.auth.use-device-language"),ql=new r.OlP("angularfire.auth.persistence"),Ul=(e,t,n,r,i,s,o,a)=>(0,Ee.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let jl=(()=>{class e{constructor(e,t,r,i,s,o,a,l,c,u,h,d){const f=new yt,p=st(void 0).pipe((0,et.Q)(s.outsideAngular),wt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,941)))),lt(()=>(0,Ee.on)(e,i,t)),lt(e=>Ul(e,i,o,l,c,u,a,h)),$a({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{p.pipe(function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Wa((t,n)=>e(t,n,r)):Ne.y,ft(1),n?Ka(t):Ya(()=>new Ga))}()).subscribe();const e=p.pipe(wt(e=>e.getRedirectResult().then(e=>e,()=>null)),xt.iC,$a({bufferSize:1,refCount:!1})),t=p.pipe(wt(e=>new De(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(wt(e=>new De(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Ja(t),(0,tt.R)(s.outsideAngular),(0,et.Q)(s.insideAngular)),this.user=e.pipe(Ja(n),(0,tt.R)(s.outsideAngular),(0,et.Q)(s.insideAngular)),this.idToken=this.user.pipe(wt(e=>e?it(e.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(wt(e=>e?it(e.getIdTokenResult()):st(null))),this.credential=dt(e,f,this.authState.pipe(Wa(e=>!e))).pipe(lt(e=>(null==e?void 0:e.user)?e:null),(0,tt.R)(s.outsideAngular),(0,et.Q)(s.insideAngular))}return(0,Ee.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ee.Dh),r.LFG(Ee.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xt.HU),r.LFG(Ol,8),r.LFG(Dl,8),r.LFG(Ll,8),r.LFG(Fl,8),r.LFG(Ml,8),r.LFG(ql,8),r.LFG(Rl,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function Vl(e){return null==e}function Zl(e){return"function"==typeof e.set}function Bl(e,t){return Zl(t)?t:e.ref(t)}function zl(e,t){if(function(e){return"string"==typeof e}(e))return t.stringCase();if(Zl(e))return t.firebaseCase();if(function(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Hl(e,t,n="on",r=Ie.z){return new De(i=>{let s=null;return s=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"===n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"===n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe(lt(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),vt())}function $l(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Gl(e,t){const{payload:n,prevKey:r,key:i}=t,s=$l(e,i),o=function(e,t){if(Vl(t))return 0;{const n=$l(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(s>-1){const i=e[s-1];(i&&i.key||null)!==r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(o,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(o,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(s>-1){const t=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,t),e}return e;default:return e}}function Wl(e){return(Vl(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Kl(e,t,n){return function(e,t,n){return Hl(e,"value","once",n).pipe(wt(r=>{const i=[st(r)];return t.forEach(t=>i.push(Hl(e,t,"on",n))),dt(...i).pipe(Ct(Gl,[]))}),St())}(e,t=Wl(t),n)}function Yl(e,t,n){return dt(...(t=Wl(t)).map(t=>Hl(e,t,"on",n)))}function Ql(e,t,n){return function(e,t,n){return function(e,t){return Hl(e,"value","on",t).pipe(lt(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){const t=function(e){return(0,Pe.m)(Fe(e))?e.pop():void 0}(e);return(0,ot.e)((n,r)=>{const i=e.length,s=new Array(i);let o=e.map(()=>!1),a=!1;for(let t=0;t<i;t++)Je(e[t]).subscribe(new at.Q(r,e=>{s[t]=e,!a&&!o[t]&&(o[t]=!0,(a=o.every(Ne.y))&&(o=null))},It.Z));n.subscribe(new at.Q(r,e=>{if(a){const n=[e,...s];r.next(t?t(...n):n)}}))})}(t),lt(([e,t])=>{const n=e.lastKeyToLoad,r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(0,ot.e)((e,t)=>{let n=!1;e.subscribe(new at.Q(t,e=>(n||(n=!(e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad))(e)))&&t.next(e)))}),lt(e=>e.actions))}(e,Yl(e,t).pipe(Ct((e,t)=>[...e,t],[])),n)}function Jl(e,t){return function(n,r){return zl(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function Xl(e){return function(t){return t?zl(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function ec(e,t){return function(){return Hl(e,"value","on",t)}}const tc=new r.OlP("angularfire2.realtimeDatabaseURL"),nc=new r.OlP("angularfire2.database.use-emulator");let rc=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,f,p){this.schedulers=s;const m=o,g=(0,Ee.on)(e,i,t);a&&Ul(g,i,l,u,h,d,c,f),this.database=(0,Ee.cc)(`${g.name}.database.${n}`,"AngularFireDatabase",g.name,()=>{const e=i.runOutsideAngular(()=>g.database(n||void 0));return m&&e.useEmulator(...m),e},[m])}list(e,t){const n=this.schedulers.ngZone.runOutsideAngular(()=>Bl(this.database,e));let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Jl(r,"update"),set:Jl(r,"set"),push:e=>r.push(e),remove:Xl(r),snapshotChanges:t=>Kl(e,t,n).pipe(xt.iC),stateChanges:t=>Yl(e,t,n).pipe(xt.iC),auditTrail:t=>Ql(e,t,n).pipe(xt.iC),valueChanges:(t,r)=>Kl(e,t,n).pipe(lt(e=>e.map(e=>r&&r.idField?Object.assign(Object.assign({},e.payload.val()),{[r.idField]:e.key}):e.payload.val())),xt.iC)}}(r,this)}object(e){return function(e,t){return{query:e,snapshotChanges:()=>ec(e,t.schedulers.outsideAngular)().pipe(xt.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>ec(e,t.schedulers.outsideAngular)().pipe(xt.iC,lt(e=>e.payload.exists()?e.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Bl(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ee.Dh),r.LFG(Ee.xv,8),r.LFG(tc,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xt.HU),r.LFG(nc,8),r.LFG(jl,8),r.LFG(Ol,8),r.LFG(Dl,8),r.LFG(Ll,8),r.LFG(Fl,8),r.LFG(Ml,8),r.LFG(ql,8),r.LFG(Rl,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),ic=(()=>{class e{constructor(){Pl.Z.registerVersion("angularfire",xt.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[rc]}),e})();var sc=n(4402),oc=n(4869),ac=n(6693),lc=n(4087);function cc(...e){let t=e[e.length-1];return(0,oc.K)(t)?(e.pop(),(0,lc.r)(e,t)):(0,ac.n)(e)}var uc=n(9765),hc=n(7971);class dc extends uc.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new hc.N;return this._value}next(e){super.next(this._value=e)}}var fc=n(9796),pc=n(5197),mc=n(5604);const gc={};class yc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new _c(e,this.resultSelector))}}class _c extends pc.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(gc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add((0,mc.D)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const s=this.values,o=this.toRespond?s[n]===gc?--this.toRespond:this.toRespond:0;s[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var vc=n(7574);const bc=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var wc=n(3282);function Tc(...e){return(0,wc.J)(1)(cc(...e))}const Cc=new vc.y(e=>e.complete());function Sc(e){return e?function(e){return new vc.y(t=>e.schedule(()=>t.complete()))}(e):Cc}function Ec(e){return new vc.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,sc.D)(n):Sc()).subscribe(t)})}var Ic=n(2441),xc=n(8002),kc=n(268);function Ac(e,t){return"function"==typeof t?n=>n.pipe(Ac((n,r)=>(0,sc.D)(e(n,r)).pipe((0,xc.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Nc(e))}class Nc{constructor(e){this.project=e}call(e,t){return t.subscribe(new Rc(e,this.project))}}class Rc extends pc.L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new kc.d(this,t,n),s=this.destination;s.add(i),this.innerSubscription=(0,mc.D)(this,e,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}var Pc=n(7393);const Oc=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Dc(e){return t=>0===e?Sc():t.lift(new Lc(e))}class Lc{constructor(e){if(this.total=e,this.total<0)throw new Oc}call(e,t){return t.subscribe(new Fc(e,this.total))}}class Fc extends Pc.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Mc(...e){const t=e[e.length-1];return(0,oc.K)(t)?(e.pop(),n=>Tc(e,n,t)):t=>Tc(e,t)}function qc(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Uc(e,t,n))}}class Uc{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new jc(e,this.accumulator,this.seed,this.hasSeed))}}class jc extends Pc.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Vc(e,t){return function(n){return n.lift(new Zc(e,t))}}class Zc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Bc(e,this.predicate,this.thisArg))}}class Bc extends Pc.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function zc(e){return function(t){const n=new Hc(e),r=t.lift(n);return n.caught=r}}class Hc{constructor(e){this.selector=e}call(e,t){return t.subscribe(new $c(e,this.selector,this.caught))}}class $c extends pc.L{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new kc.d(this,void 0,void 0);this.add(r);const i=(0,mc.D)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var Gc=n(9773);function Wc(e,t){return(0,Gc.zg)(e,t,1)}function Kc(e){return function(t){return 0===e?Sc():t.lift(new Yc(e))}}class Yc{constructor(e){if(this.total=e,this.total<0)throw new Oc}call(e,t){return t.subscribe(new Qc(e,this.total))}}class Qc extends Pc.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function Jc(e=tu){return t=>t.lift(new Xc(e))}class Xc{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new eu(e,this.errorFactory))}}class eu extends Pc.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function tu(){return new bc}function nu(e=null){return t=>t.lift(new ru(e))}class ru{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new iu(e,this.defaultValue))}}class iu extends Pc.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var su=n(4487);function ou(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vc((t,n)=>e(t,n,r)):su.y,Dc(1),n?nu(t):Jc(()=>new bc))}function au(){}var lu=n(9105);function cu(e,t,n){return function(r){return r.lift(new uu(e,t,n))}}class uu{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new hu(e,this.nextOrObserver,this.error,this.complete))}}class hu extends Pc.L{constructor(e,t,n,r){super(e),this._tapNext=au,this._tapError=au,this._tapComplete=au,this._tapError=n||au,this._tapComplete=r||au,(0,lu.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||au,this._tapError=t.error||au,this._tapComplete=t.complete||au)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var du=n(1307),fu=n(5319);function pu(e){return t=>t.lift(new mu(e))}class mu{constructor(e){this.callback=e}call(e,t){return t.subscribe(new gu(e,this.callback))}}class gu extends Pc.L{constructor(e,t){super(e),this.add(new fu.w(t))}}class yu{constructor(e,t){this.id=e,this.url=t}}class _u extends yu{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vu extends yu{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bu extends yu{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wu extends yu{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tu extends yu{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cu extends yu{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Su extends yu{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eu extends yu{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iu extends yu{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ku{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Au{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Du="primary";class Lu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fu(e){return new Lu(e)}const Mu="ngNavigationCancelingError";function qu(e){const t=Error("NavigationCancelingError: "+e);return t[Mu]=!0,t}function Uu(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ju(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Vu(e[i],t[i]))return!1;return!0}function Vu(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Zu(e){return Array.prototype.concat.apply([],e)}function Bu(e){return e.length>0?e[e.length-1]:null}function zu(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Hu(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,sc.D)(Promise.resolve(e)):cc(e)}const $u={exact:function e(t,n,r){if(!th(t.segments,n.segments)||!Qu(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:Ku},Gu={exact:function(e,t){return ju(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Vu(e[n],t[n]))},ignored:()=>!0};function Wu(e,t,n){return $u[n.paths](e.root,t.root,n.matrixParams)&&Gu[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Ku(e,t,n){return Yu(e,t,t.segments,n)}function Yu(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!th(i,n)||t.hasChildren()||!Qu(i,n,r))}if(e.segments.length===n.length){if(!th(e.segments,n)||!Qu(e.segments,n,r))return!1;for(const n in t.children)if(!e.children[n]||!Ku(e.children[n],t.children[n],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(th(e.segments,i)&&Qu(e.segments,i,r)&&e.children[Du])&&Yu(e.children[Du],t,s,r)}}function Qu(e,t,n){return t.every((t,r)=>Gu[n](e[r].parameters,t.parameters))}class Ju{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return ih.serialize(this)}}class Xu{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zu(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sh(this)}}class eh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fu(this.parameters)),this._parameterMap}toString(){return dh(this)}}function th(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class nh{}class rh{parse(e){const t=new yh(e);return new Ju(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${oh(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${lh(t)}=${lh(e)}`).join("&"):`${lh(t)}=${lh(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(e){return encodeURI(e)}(e.fragment)}`:""}`}}const ih=new rh;function sh(e){return e.segments.map(e=>dh(e)).join("/")}function oh(e,t){if(!e.hasChildren())return sh(e);if(t){const t=e.children[Du]?oh(e.children[Du],!1):"",n=[];return zu(e.children,(e,t)=>{t!==Du&&n.push(`${t}:${oh(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return zu(e.children,(e,r)=>{r===Du&&(n=n.concat(t(e,r)))}),zu(e.children,(e,r)=>{r!==Du&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Du?[oh(e.children[Du],!1)]:[`${n}:${oh(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Du]?`${sh(e)}/${t[0]}`:`${sh(e)}/(${t.join("//")})`}}function ah(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lh(e){return ah(e).replace(/%3B/gi,";")}function ch(e){return ah(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(e){return decodeURIComponent(e)}function hh(e){return uh(e.replace(/\+/g,"%20"))}function dh(e){return`${ch(e.path)}${function(e){return Object.keys(e).map(t=>`;${ch(t)}=${ch(e[t])}`).join("")}(e.parameters)}`}const fh=/^[^\/()?;=#]+/;function ph(e){const t=e.match(fh);return t?t[0]:""}const mh=/^[^=?&#]+/,gh=/^[^?&#]+/;class yh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xu([],{}):new Xu([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Du]=new Xu(e,t)),n}parseSegment(){const e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new eh(uh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ph(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=ph(this.remaining);e&&(n=e,this.capture(n))}e[uh(t)]=uh(n)}parseQueryParam(e){const t=function(e){const t=e.match(mh);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(gh);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=hh(t),i=hh(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ph(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Du);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Du]:new Xu([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class _h{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=vh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return bh(e,this._root).map(e=>e.value)}}function vh(e,t){if(e===t.value)return t;for(const n of t.children){const t=vh(e,n);if(t)return t}return null}function bh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=bh(e,n);if(r.length)return r.unshift(t),r}return[]}class wh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Th(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ch extends _h{constructor(e,t){super(e),this.snapshot=t,Ah(this,e)}toString(){return this.snapshot.toString()}}function Sh(e,t){const n=function(e,t){const n=new xh([],{},{},"",{},Du,t,null,e.root,-1,{});return new kh("",new wh(n,[]))}(e,t),r=new dc([new eh("",{})]),i=new dc({}),s=new dc({}),o=new dc({}),a=new dc(""),l=new Eh(r,i,o,a,s,Du,t,n.root);return l.snapshot=n.root,new Ch(new wh(l,[]),n)}class Eh{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xc.U)(e=>Fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xc.U)(e=>Fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ih(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xh{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kh extends _h{constructor(e,t){super(t),this.url=e,Ah(this,t)}toString(){return Nh(this._root)}}function Ah(e,t){t.value._routerState=e,t.children.forEach(t=>Ah(e,t))}function Nh(e){const t=e.children.length>0?` { ${e.children.map(Nh).join(", ")} } `:"";return`${e.value}${t}`}function Rh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ju(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ju(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ju(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ju(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ph(e,t){return ju(e.params,t.params)&&function(e,t){return th(e,t)&&e.every((e,n)=>ju(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Ph(e.parent,t.parent))}function Oh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Oh(e,t,r);return Oh(e,t)})}(e,t,n);return new wh(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Dh(t,e),e}}const n=function(e){return new Eh(new dc(e.url),new dc(e.params),new dc(e.queryParams),new dc(e.fragment),new dc(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(t=>Oh(e,t));return new wh(n,r)}}function Dh(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Dh(e.children[n],t.children[n])}function Lh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Fh(e){return"object"==typeof e&&null!=e&&e.outlets}function Mh(e,t,n,r,i){let s={};return r&&zu(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Ju(n.root===e?t:qh(n.root,e,t),s,i)}function qh(e,t,n){const r={};return zu(e.children,(e,i)=>{r[i]=e===t?n:qh(e,t,n)}),new Xu(e.segments,r)}class Uh{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Lh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Fh);if(r&&r!==Bu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Vh(e,t,n){if(e||(e=new Xu([],{})),0===e.segments.length&&e.hasChildren())return Zh(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Fh(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!$h(a,l,t))return s;r+=2}else{if(!$h(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Xu(e.segments.slice(0,r.pathIndex),{});return t.children[Du]=new Xu(e.segments.slice(r.pathIndex),e.children),Zh(t,0,i)}return r.match&&0===i.length?new Xu(e.segments,{}):r.match&&!e.hasChildren()?Bh(e,t,n):r.match?Zh(e,0,i):Bh(e,t,n)}function Zh(e,t,n){if(0===n.length)return new Xu(e.segments,{});{const r=function(e){return Fh(e[0])?e[0].outlets:{[Du]:e}}(n),i={};return zu(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Vh(e.children[r],t,n))}),zu(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Xu(e.segments,i)}}function Bh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Fh(s)){const e=zh(s.outlets);return new Xu(r,e)}if(0===i&&Lh(n[0])){r.push(new eh(e.segments[t].path,Hh(n[0]))),i++;continue}const o=Fh(s)?s.outlets[Du]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lh(a)?(r.push(new eh(o,Hh(a))),i+=2):(r.push(new eh(o,{})),i++)}return new Xu(r,{})}function zh(e){const t={};return zu(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Bh(new Xu([],{}),0,e))}),t}function Hh(e){const t={};return zu(e,(e,n)=>t[n]=`${e}`),t}function $h(e,t,n){return e==n.path&&ju(t,n.parameters)}class Gh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Rh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Th(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),zu(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Th(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Th(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Pu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Nu(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Rh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Wh(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Wh(e){Rh(e.value),e.children.forEach(Wh)}class Kh{constructor(e,t){this.routes=e,this.module=t}}function Yh(e){return"function"==typeof e}function Qh(e){return e instanceof Ju}const Jh=Symbol("INITIAL_VALUE");function Xh(){return Ac(e=>function(...e){let t=null,n=null;return(0,oc.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,fc.k)(e[0])&&(e=e[0]),(0,ac.n)(e,n).lift(new yc(t))}(e.map(e=>e.pipe(Dc(1),Mc(Jh)))).pipe(qc((e,t)=>{let n=!1;return t.reduce((e,r,i)=>e!==Jh?e:(r===Jh&&(n=!0),n||!1!==r&&i!==t.length-1&&!Qh(r)?e:r),e)},Jh),Vc(e=>e!==Jh),(0,xc.U)(e=>Qh(e)?e:!0===e),Dc(1)))}let ed=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Jd]},encapsulation:2}),e})();function td(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];nd(r,rd(t,r))}}function nd(e,t){e.children&&td(e.children,t)}function rd(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function id(e){const t=e.children&&e.children.map(id),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Du&&(n.component=ed),n}function sd(e){return e.outlet||Du}function od(e,t){const n=e.filter(e=>sd(e)===t);return n.push(...e.filter(e=>sd(e)!==t)),n}const ad={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ld(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},ad):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Uu)(n,e,t);if(!i)return Object.assign({},ad);const s={};zu(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function cd(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>ud(e,t,n)&&sd(n)!==Du)}(e,n,r)){const i=new Xu(t,function(e,t,n,r){const i={};i[Du]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&sd(s)!==Du){const n=new Xu([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[sd(s)]=n}return i}(e,t,r,new Xu(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ud(e,t,n))}(e,n,r)){const s=new Xu(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(ud(e,n,a)&&!i[sd(a)]){const n=new Xu([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[sd(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Xu(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ud(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function hd(e,t,n,r){return!!(sd(e)===r||r!==Du&&ud(t,n,e))&&("**"===e.path||ld(t,e,n).matched)}function dd(e,t,n){return 0===t.length&&!e.children[n]}class fd{constructor(e){this.segmentGroup=e||null}}class pd{constructor(e){this.urlTree=e}}function md(e){return new vc.y(t=>t.error(new fd(e)))}function gd(e){return new vc.y(t=>t.error(new pd(e)))}function yd(e){return new vc.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class _d{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=cd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xu(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Du).pipe((0,xc.U)(e=>this.createUrlTree(vd(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zc(e=>{if(e instanceof pd)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof fd?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Du).pipe((0,xc.U)(t=>this.createUrlTree(vd(t),e.queryParams,e.fragment))).pipe(zc(e=>{throw e instanceof fd?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Xu([],{[Du]:e}):e;return new Ju(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,xc.U)(e=>new Xu([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,sc.D)(r).pipe(Wc(r=>{const i=n.children[r],s=od(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,xc.U)(e=>({segment:e,outlet:r})))}),qc((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vc((t,n)=>e(t,n,r)):su.y,Kc(1),n?nu(t):Jc(()=>new bc))}())}expandSegment(e,t,n,r,i,s){return(0,sc.D)(n).pipe(Wc(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(zc(e=>{if(e instanceof fd)return cc(null);throw e}))),ou(e=>!!e),zc((e,n)=>{if(e instanceof bc||"EmptyError"===e.name){if(dd(t,r,i))return cc(new Xu([],{}));throw new fd(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return hd(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):md(t):md(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?gd(i):this.lineralizeSegments(n,i).pipe((0,Gc.zg)(n=>{const i=new Xu(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=ld(t,r,i);if(!o)return md(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?gd(u):this.lineralizeSegments(r,u).pipe((0,Gc.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?cc(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,xc.U)(e=>(n._loadedConfig=e,new Xu(r,{})))):cc(new Xu(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=ld(t,n,r);if(!s)return md(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,Gc.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=cd(t,o,l,s),u=new Xu(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,xc.U)(e=>new Xu(o,e)));if(0===s.length&&0===c.length)return cc(new Xu(o,{}));const h=sd(n)===i;return this.expandSegment(r,u,s,c,h?Du:i,!0).pipe((0,xc.U)(e=>new Xu(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?cc(new Kh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?cc(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,Gc.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,xc.U)(e=>(t._loadedConfig=e,e))):function(e){return new vc.y(t=>t.error(qu(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):cc(new Kh([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?cc(r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Yh(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Yh(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Hu(s)})).pipe(Xh(),cu(e=>{if(!Qh(e))return;const t=qu(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,xc.U)(e=>!0===e)):cc(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return cc(n);if(r.numberOfChildren>1||!r.children[Du])return yd(e.redirectTo);r=r.children[Du]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Ju(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return zu(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return zu(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Xu(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function vd(e){const t={};for(const n of Object.keys(e.children)){const r=vd(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[Du]){const t=e.children[Du];return new Xu(e.segments.concat(t.segments),t.children)}return e}(new Xu(e.segments,t))}class bd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wd{constructor(e,t){this.component=e,this.route=t}}function Td(e,t,n){const r=e._root;return Sd(r,t?t._root:null,n,[r.value])}function Cd(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Sd(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Th(t);return e.children.forEach(e=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!th(e.url,t.url);case"pathParamsOrQueryParamsChange":return!th(e.url,t.url)||!ju(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ph(e,t)||!ju(e.queryParams,t.queryParams);case"paramsChange":default:return!Ph(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Sd(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wd(a.outlet.component,o))}else o&&Ed(t,a,i),i.canActivateChecks.push(new bd(r)),Sd(e,null,s.component?a?a.children:null:n,r,i)})(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),zu(s,(e,t)=>Ed(e,n.getContext(t),i)),i}function Ed(e,t,n){const r=Th(e),i=e.value;zu(r,(e,r)=>{Ed(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new wd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Id{}function xd(e){return new vc.y(t=>t.error(e))}class kd{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=cd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Du);if(null===t)return null;const n=new xh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Du,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wh(n,t),i=new kh(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Ih(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=od(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Nd(n);return function(e){e.sort((e,t)=>e.value.outlet===Du?-1:t.value.outlet===Du?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return dd(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!hd(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Bu(n).parameters:{};i=new xh(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Od(e),sd(e),e.component,e,Rd(t),Pd(t)+n.length,Dd(e))}else{const r=ld(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new xh(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Od(e),sd(e),e.component,e,Rd(t),Pd(t)+s.length,Dd(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=cd(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new wh(i,e)]}if(0===a.length&&0===c.length)return[new wh(i,[])];const u=sd(e)===r,h=this.processSegment(a,l,c,u?Du:r);return null===h?null:[new wh(i,h)]}}function Ad(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Nd(e){const t=[],n=new Set;for(const r of e){if(!Ad(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Nd(r.children);t.push(new wh(r.value,e))}return t.filter(e=>!n.has(e))}function Rd(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Pd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Od(e){return e.data||{}}function Dd(e){return e.resolve||{}}function Ld(e){return Ac(t=>{const n=e(t);return n?(0,sc.D)(n).pipe((0,xc.U)(()=>t)):cc(t)})}class Fd extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Md=new r.OlP("ROUTES");class qd{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,xc.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Kh(Zu(i.injector.get(Md,void 0,r.XFs.Self|r.XFs.Optional)).map(id),i)}),zc(e=>{throw t._loader$=void 0,e}));return t._loader$=new Ic.c(n,()=>new uc.xQ).pipe((0,du.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,sc.D)(this.loader.load(e)):Hu(e()).pipe((0,Gc.zg)(e=>e instanceof r.YKP?cc(e):(0,sc.D)(this.compiler.compileModuleAsync(e))))}}class Ud{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jd,this.attachRef=null}}class jd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ud,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Vd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zd(e){throw e}function Bd(e,t,n){return t.parse("/")}function zd(e,t){return cc(null)}const Hd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$d={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gd=(()=>{class e{constructor(e,t,n,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new uc.xQ,this.errorHandler=Zd,this.malformedUriErrorHandler=Bd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zd,afterPreactivation:zd},this.urlHandlingStrategy=new Vd,this.routeReuseStrategy=new Fd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Ju(new Xu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qd(o,a,e=>this.triggerEvent(new xu(e)),e=>this.triggerEvent(new ku(e))),this.routerState=Sh(this.currentUrlTree,this.rootComponentType),this.transitions=new dc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Vc(e=>0!==e.id),(0,xc.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ac(e=>{let n=!1,r=!1;return cc(e).pipe(cu(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ac(e=>{const n=this.browserUrlTree.toString(),i=!this.navigated||e.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Wd(e.source)&&(this.browserUrlTree=e.extractedUrl),cc(e).pipe(Ac(e=>{const n=this.transitions.getValue();return t.next(new _u(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Cc:Promise.resolve(e)}),function(e,t,n,r){return Ac(i=>function(e,t,n,r,i){return new _d(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,xc.U)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),cu(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return(0,Gc.zg)(o=>function(e,t,n,i,s="emptyOnly",o="legacy"){try{const r=new kd(e,t,n,i,s,o).recognize();return null===r?xd(new Id):cc(r)}catch(r){return xd(r)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,xc.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),cu(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Tu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new _u(n,this.serializeUrl(r),i,s);t.next(a);const l=Sh(r,this.rootComponentType).snapshot;return cc(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Cc}),Ld(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),cu(e=>{const t=new Cu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,xc.U)(e=>Object.assign(Object.assign({},e),{guards:Td(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,Gc.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?cc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,sc.D)(e).pipe((0,Gc.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?cc(s.map(s=>{const o=Cd(s,t,i);let a;if(function(e){return e&&Yh(e.canDeactivate)}(o))a=Hu(o.canDeactivate(e,t,n,r));else{if(!Yh(o))throw new Error("Invalid CanDeactivate guard");a=Hu(o(e,t,n,r))}return a.pipe(ou())})).pipe(Xh()):cc(!0)}(e.component,e.route,n,t,r)),ou(e=>!0!==e,!0))}(o,r,i,e).pipe((0,Gc.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,sc.D)(t).pipe(Wc(t=>Tc(function(e,t){return null!==e&&t&&t(new Au(e)),cc(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Ru(e)),cc(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ec(()=>cc(t.guards.map(i=>{const s=Cd(i,t.node,n);let o;if(function(e){return e&&Yh(e.canActivateChild)}(s))o=Hu(s.canActivateChild(r,e));else{if(!Yh(s))throw new Error("Invalid CanActivateChild guard");o=Hu(s(r,e))}return o.pipe(ou())})).pipe(Xh())));return cc(i).pipe(Xh())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?cc(r.map(r=>Ec(()=>{const i=Cd(r,t,n);let s;if(function(e){return e&&Yh(e.canActivate)}(i))s=Hu(i.canActivate(t,e));else{if(!Yh(i))throw new Error("Invalid CanActivate guard");s=Hu(i(t,e))}return s.pipe(ou())}))).pipe(Xh()):cc(!0)}(e,t.route,n))),ou(e=>!0!==e,!0))}(r,s,e,t):cc(n)),(0,xc.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),cu(e=>{if(Qh(e.guardsResult)){const t=qu(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Su(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Vc(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Ld(e=>{if(e.guards.canActivateChecks.length)return cc(e).pipe(cu(e=>{const t=new Eu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Ac(e=>{let t=!1;return cc(e).pipe(function(e,t){return(0,Gc.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return cc(n);let s=0;return(0,sc.D)(i).pipe(Wc(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return cc({});const s={};return(0,sc.D)(i).pipe((0,Gc.zg)(i=>function(e,t,n,r){const i=Cd(e,t,r);return Hu(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(cu(e=>{s[i]=e}))),Kc(1),(0,Gc.zg)(()=>Object.keys(s).length===i.length?cc(s):Cc))}(e._resolve,e,t,r).pipe((0,xc.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ih(e,n).resolve),null)))}(n.route,r,e,t)),cu(()=>s++),Kc(1),(0,Gc.zg)(e=>s===i.length?cc(n):Cc))})}(this.paramsInheritanceStrategy,this.ngModule.injector),cu({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),cu(e=>{const t=new Iu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ld(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,xc.U)(e=>{const t=function(e,t,n){const r=Oh(e,t._root,n?n._root:void 0);return new Ch(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),cu(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,n)=>(0,xc.U)(r=>(new Gh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),cu({next(){n=!0},complete(){n=!0}}),pu(()=>{var t;if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),zc(n=>{if(r=!0,function(e){return e&&e[Mu]}(n)){const r=Qh(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new bu(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wd(e.source)};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new wu(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return Cc}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){td(e),this.config=e.map(id),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Mh(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Uh(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return zu(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Uh(n,t,r)}(n);if(s.toRoot())return Mh(t.root,new Xu([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new jh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new jh(e,e===t.root,0)}const r=Lh(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new jh(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Zh(o.segmentGroup,o.index,s.commands):Vh(o.segmentGroup,o.index,s.commands);return Mh(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Qh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Hd):!1===t?Object.assign({},$d):t,Qh(e))return Wu(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Wu(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new vu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l=Wd(t)&&a&&!Wd(a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new bu(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(nh),r.LFG(jd),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Wd(e){return"imperative"!==e}let Kd=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new uc.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Qd(this.skipLocationChange),replaceUrl:Qd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qd(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Gd),r.Y36(Eh),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),Yd=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new uc.xQ,this.subscription=e.events.subscribe(e=>{e instanceof vu&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Qd(this.skipLocationChange),replaceUrl:Qd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qd(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Gd),r.Y36(Eh),r.Y36(g))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Qd(e){return""===e||!!e}let Jd=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Du,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Xd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(jd),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Xd{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Eh?this.route:e===jd?this.childContexts:this.parent.get(e,t)}}class ef{}class tf{preload(e,t){return cc(null)}}let nf=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new qd(t,n,t=>e.triggerEvent(new xu(t)),t=>e.triggerEvent(new ku(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vc(e=>e instanceof vu),Wc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,sc.D)(n).pipe((0,wc.J)(),(0,xc.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?cc(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,Gc.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Gd),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(ef))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),rf=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _u?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ou&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ou(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Gd),r.LFG(Z),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const sf=new r.OlP("ROUTER_CONFIGURATION"),of=new r.OlP("ROUTER_FORROOT_GUARD"),af=[w,{provide:nh,useClass:rh},{provide:Gd,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new Gd(null,e,t,n,r,i,s,Zu(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[nh,jd,w,r.zs3,r.v3s,r.Sil,Md,sf,[class{},new r.FiY],[class{},new r.FiY]]},jd,{provide:Eh,useFactory:function(e){return e.routerState.root},deps:[Gd]},{provide:r.v3s,useClass:r.EAV},nf,tf,class{preload(e,t){return t().pipe(zc(()=>cc(null)))}},{provide:sf,useValue:{enableTracing:!1}}];function lf(){return new r.PXZ("Router",Gd)}let cf=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[af,ff(t),{provide:of,useFactory:df,deps:[[Gd,new r.FiY,new r.tp0]]},{provide:sf,useValue:n||{}},{provide:g,useFactory:hf,deps:[a,[new r.tBr(_),new r.FiY],sf]},{provide:rf,useFactory:uf,deps:[Gd,Z,sf]},{provide:ef,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tf},{provide:r.PXZ,multi:!0,useFactory:lf},[pf,{provide:r.ip1,multi:!0,useFactory:mf,deps:[pf]},{provide:yf,useFactory:gf,deps:[pf]},{provide:r.tb,multi:!0,useExisting:yf}]]}}static forChild(t){return{ngModule:e,providers:[ff(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(of,8),r.LFG(Gd,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function uf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new rf(e,t,n)}function hf(e,t,n={}){return n.useHash?new b(e,t):new v(e,t)}function df(e){return"guarded"}function ff(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Md,multi:!0,useValue:e}]}let pf=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new uc.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Gd),r=this.injector.get(sf);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?cc(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(sf),n=this.injector.get(nf),i=this.injector.get(rf),s=this.injector.get(Gd),o=this.injector.get(r.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function mf(e){return e.appInitializer.bind(e)}function gf(e){return e.bootstrapListener.bind(e)}const yf=new r.OlP("Router Initializer");function _f(...e){return ut(1)(it(e,Me(e)))}function vf(...e){const t=Me(e);return(0,ot.e)((n,r)=>{(t?_f(e,n,t):_f(e,n)).subscribe(r)})}function bf(){return(0,ot.e)((e,t)=>{let n,r=!1;e.subscribe(new at.Q(t,e=>{const i=n;n=e,r&&t.next([i,e]),r=!0}))})}var wf,Tf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Cf={},Sf=Sf||{},Ef=Tf||self;function If(){}function xf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Af="closure_uid_"+(1e9*Math.random()>>>0),Nf=0;function Rf(e,t,n){return e.call.apply(e.bind,arguments)}function Pf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Of(e,t,n){return(Of=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rf:Pf).apply(null,arguments)}function Df(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ff(){this.s=this.s,this.o=this.o}var Mf={};Ff.prototype.s=!1,Ff.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Af)&&e[Af]||(e[Af]=++Nf)}(this);delete Mf[e]}},Ff.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Uf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function jf(e){return Array.prototype.concat.apply([],arguments)}function Vf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zf(e){return/^[\s\xa0]*$/.test(e)}var Bf,zf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hf(e,t){return-1!=e.indexOf(t)}function $f(e,t){return e<t?-1:e>t?1:0}e:{var Gf=Ef.navigator;if(Gf){var Wf=Gf.userAgent;if(Wf){Bf=Wf;break e}}Bf=""}function Kf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Yf(e){const t={};for(const n in e)t[n]=e[n];return t}var Qf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jf(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Qf.length;t++)n=Qf[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xf(e){return Xf[" "](e),e}Xf[" "]=If;var ep,tp=Hf(Bf,"Opera"),np=Hf(Bf,"Trident")||Hf(Bf,"MSIE"),rp=Hf(Bf,"Edge"),ip=rp||np,sp=Hf(Bf,"Gecko")&&!(Hf(Bf.toLowerCase(),"webkit")&&!Hf(Bf,"Edge"))&&!(Hf(Bf,"Trident")||Hf(Bf,"MSIE"))&&!Hf(Bf,"Edge"),op=Hf(Bf.toLowerCase(),"webkit")&&!Hf(Bf,"Edge");function ap(){var e=Ef.document;return e?e.documentMode:void 0}e:{var lp="",cp=function(){var e=Bf;return sp?/rv:([^\);]+)(\)|;)/.exec(e):rp?/Edge\/([\d\.]+)/.exec(e):np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):op?/WebKit\/(\S+)/.exec(e):tp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cp&&(lp=cp?cp[1]:""),np){var up=ap();if(null!=up&&up>parseFloat(lp)){ep=String(up);break e}}ep=lp}var hp={};function dp(){return e=hp,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=zf(String(ep)).split("."),n=zf("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=$f(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||$f(0==i[2].length,0==s[2].length)||$f(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}var fp=Ef.document&&np&&(ap()||parseInt(ep,10))||void 0,pp=function(){if(!Ef.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ef.addEventListener("test",If,t),Ef.removeEventListener("test",If,t)}catch(n){}return e}();function mp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gp(e,t){if(mp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sp){e:{try{Xf(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:yp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gp.Z.h.call(this)}}mp.prototype.h=function(){this.defaultPrevented=!0},Lf(gp,mp);var yp={2:"touch",3:"pen",4:"mouse"};gp.prototype.h=function(){gp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _p="closure_listenable_"+(1e6*Math.random()|0),vp=0;function bp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vp,this.ca=this.fa=!1}function wp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Tp(e){this.src=e,this.g={},this.h=0}function Cp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=qf(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(wp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sp(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Tp.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Sp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new bp(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Ep="closure_lm_"+(1e6*Math.random()|0),Ip={};function xp(e,t,n,r,i){if(r&&r.once)return Ap(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)xp(e,t[s],n,r,i);return null}return n=Fp(n),e&&e[_p]?e.N(t,n,kf(r)?!!r.capture:!!r,i):kp(e,t,n,!1,r,i)}function kp(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=kf(i)?!!i.capture:!!i,a=Dp(e);if(a||(e[Ep]=a=new Tp(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Op;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ap(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ap(e,t[s],n,r,i);return null}return n=Fp(n),e&&e[_p]?e.O(t,n,kf(r)?!!r.capture:!!r,i):kp(e,t,n,!0,r,i)}function Np(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Np(e,t[s],n,r,i);else r=kf(r)?!!r.capture:!!r,n=Fp(n),e&&e[_p]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Sp(s=e.g[t],n,r,i))&&(wp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Dp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sp(t,n,r,i)),(n=-1<e?t[e]:null)&&Rp(n))}function Rp(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_p])Cp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dp(t))?(Cp(n,e),0==n.h&&(n.src=null,t[Ep]=null)):wp(e)}}}function Pp(e){return e in Ip?Ip[e]:Ip[e]="on"+e}function Op(e,t){if(e.ca)e=!0;else{t=new gp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rp(e),e=n.call(r,t)}return e}function Dp(e){return(e=e[Ep])instanceof Tp?e:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fp(e){return"function"==typeof e?e:(e[Lp]||(e[Lp]=function(t){return e.handleEvent(t)}),e[Lp])}function Mp(){Ff.call(this),this.i=new Tp(this),this.P=this,this.I=null}function qp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new mp(t,e);else if(t instanceof mp)t.target=t.target||e;else{var i=t;Jf(t=new mp(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Up(o,r,!0,t)&&i}if(i=Up(o=t.g=e,r,!0,t)&&i,i=Up(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Up(o=t.g=n[s],r,!1,t)&&i}function Up(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Cp(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lf(Mp,Ff),Mp.prototype[_p]=!0,Mp.prototype.removeEventListener=function(e,t,n,r){Np(this,e,t,n,r)},Mp.prototype.M=function(){if(Mp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wp(n[r]);delete t.g[e],t.h--}}this.I=null},Mp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jp=Ef.JSON.stringify;function Vp(){var e=Wp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zp,Bp=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new zp,e=>e.reset());class zp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hp(e){Ef.setTimeout(()=>{throw e},0)}function $p(e,t){Zp||function(){var e=Ef.Promise.resolve(void 0);Zp=function(){e.then(Kp)}}(),Gp||(Zp(),Gp=!0),Wp.add(e,t)}var Gp=!1,Wp=new class{constructor(){this.h=this.g=null}add(e,t){const n=Bp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Kp(){for(var e;e=Vp();){try{e.h.call(e.g)}catch(n){Hp(n)}var t=Bp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gp=!1}function Yp(e,t){Mp.call(this),this.h=e||1,this.g=t||Ef,this.j=Of(this.kb,this),this.l=Date.now()}function Qp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Jp(e,t,n){if("function"==typeof e)n&&(e=Of(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Of(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ef.setTimeout(e,t||0)}function Xp(e){e.g=Jp(()=>{e.g=null,e.i&&(e.i=!1,Xp(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lf(Yp,Mp),(wf=Yp.prototype).da=!1,wf.S=null,wf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qp(this,"tick"),this.da&&(Qp(this),this.start()))}},wf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wf.M=function(){Yp.Z.M.call(this),Qp(this),delete this.g};class em extends Ff{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xp(this)}M(){super.M(),this.g&&(Ef.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tm(e){Ff.call(this),this.h=e,this.g={}}Lf(tm,Ff);var nm=[];function rm(e,t,n,r){Array.isArray(n)||(n&&(nm[0]=n.toString()),n=nm);for(var i=0;i<n.length;i++){var s=xp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function im(e){Kf(e.g,function(e,t){this.g.hasOwnProperty(t)&&Rp(e)},e),e.g={}}function sm(){this.g=!0}function om(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return jp(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}tm.prototype.M=function(){tm.Z.M.call(this),im(this)},tm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sm.prototype.Aa=function(){this.g=!1},sm.prototype.info=function(){};var am={},lm=null;function cm(){return lm=lm||new Mp}function um(e){mp.call(this,am.Ma,e)}function hm(e){const t=cm();qp(t,new um(t,e))}function dm(e,t){mp.call(this,am.STAT_EVENT,e),this.stat=t}function fm(e){const t=cm();qp(t,new dm(t,e))}function pm(e,t){mp.call(this,am.Na,e),this.size=t}function mm(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ef.setTimeout(function(){e()},t)}am.Ma="serverreachability",Lf(um,mp),am.STAT_EVENT="statevent",Lf(dm,mp),am.Na="timingevent",Lf(pm,mp);var gm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ym={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _m(){}function vm(){}_m.prototype.h=null;var bm,wm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tm(){mp.call(this,"d")}function Cm(){mp.call(this,"c")}function Sm(){}function Em(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tm(this),this.P=xm,this.W=new Yp(e=ip?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Im}function Im(){this.i=null,this.g="",this.h=!1}Lf(Tm,mp),Lf(Cm,mp),Lf(Sm,_m),Sm.prototype.g=function(){return new XMLHttpRequest},Sm.prototype.i=function(){return{}},bm=new Sm;var xm=45e3,km={},Am={};function Nm(e,t,n){e.K=1,e.v=Xm(Gm(t)),e.s=n,e.U=!0,Rm(e,null)}function Rm(e,t){e.F=Date.now(),Lm(e),e.A=Gm(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dg(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Im,e.g=dy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new em(Of(e.Ia,e,e.g),e.O)),rm(e.V,e.g,"readystatechange",e.gb),t=e.H?Yf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hm(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Pm(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Om(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Dm(e,n),r==Am){4==t&&(e.o=4,fm(14),i=!1),om(e.j,e.m,null,"[Incomplete Response]");break}if(r==km){e.o=4,fm(15),om(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}om(e.j,e.m,r,null),jm(e,r)}Pm(e)&&r!=Am&&r!=km&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(t),t.L=!0,fm(11))):(om(e.j,e.m,n,"[Invalid Chunked Response]"),Um(e),qm(e))}function Dm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Am:(n=Number(t.substring(n,r)),isNaN(n)?km:(r+=1)+n>t.length?Am:(t=t.substr(r,n),e.C=r+n,t))}function Lm(e){e.Y=Date.now()+e.P,Fm(e,e.P)}function Fm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mm(Of(e.eb,e),t)}function Mm(e){e.B&&(Ef.clearTimeout(e.B),e.B=null)}function qm(e){0==e.l.G||e.I||ay(e.l,e)}function Um(e){Mm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qp(e.W),im(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_g(n.i,e)))if(n.I=e.N,!e.J&&_g(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mm(Of(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;oy(n),Kg(n)}ry(n),fm(18)}if(1>=yg(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else cy(n,11)}else if((e.J||n.g==e)&&oy(n),!Zf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Hf(e,"spdy")||Hf(e,"quic")||Hf(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(vg(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Jm(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=hy(r,r.H?r.la:null,r.W),o.J){bg(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Mm(a),Lm(a)),r.g=o}else ny(r);0<n.l.length&&Jg(n)}else"stop"!=c[0]&&"close"!=c[0]||cy(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cy(n,7):Wg(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}hm(4)}catch(c){}}function Vm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xf(e)||"string"==typeof e)Uf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(xf(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(xf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Zm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Zm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(wf=Em.prototype).setTimeout=function(e){this.P=e},wf.gb=function(e){e=e.target;const t=this.L;t&&3==Bg(e)?t.l():this.Ia(e)},wf.Ia=function(e){try{if(e==this.g)e:{const u=Bg(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||ip||this.g&&(this.h.h||this.g.ga()||zg(this.g)))){this.I||4!=u||7==t||hm(8==t||0>=h?3:2),Mm(this);var n=this.g.ba();this.N=n;t:if(Pm(this)){var r=zg(this.g);e="";var i=r.length,s=4==Bg(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Um(this),qm(this);var o="";break t}this.h.i=new Ef.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,fm(12),Um(this),qm(this);break e}om(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jm(this,n)}this.U?(Om(this,u,o),ip&&this.i&&3==u&&(rm(this.V,this.W,"tick",this.fb),this.W.start())):(om(this.j,this.m,o,null),jm(this,o)),4==u&&Um(this),this.i&&!this.I&&(4==u?ay(this.l,this):(this.i=!1,Lm(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fm(12)):(this.o=0,fm(13)),Um(this),qm(this)}}}catch(u){}},wf.fb=function(){if(this.g){var e=Bg(this.g),t=this.g.ga();this.C<t.length&&(Mm(this),Om(this,e,t),this.i&&4!=e&&Lm(this))}},wf.cancel=function(){this.I=!0,Um(this)},wf.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(hm(3),fm(17)),Um(this),this.o=2,qm(this)):Fm(this,this.Y-e)},(wf=Zm.prototype).R=function(){Bm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},wf.T=function(){return Bm(this),this.g.concat()},wf.get=function(e,t){return zm(this.h,e)?this.h[e]:t},wf.set=function(e,t){zm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},wf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Hm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $m(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $m){this.g=void 0!==t?t:e.g,Wm(this,e.j),this.s=e.s,Km(this,e.i),Ym(this,e.m),this.l=e.l,t=e.h;var n=new lg;n.i=t.i,t.g&&(n.g=new Zm(t.g),n.h=t.h),Qm(this,n),this.o=e.o}else e&&(n=String(e).match(Hm))?(this.g=!!t,Wm(this,n[1]||"",!0),this.s=eg(n[2]||""),Km(this,n[3]||"",!0),Ym(this,n[4]),this.l=eg(n[5]||"",!0),Qm(this,n[6]||"",!0),this.o=eg(n[7]||"")):(this.g=!!t,this.h=new lg(null,this.g))}function Gm(e){return new $m(e)}function Wm(e,t,n){e.j=n?eg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Km(e,t,n){e.i=n?eg(t,!0):t}function Ym(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qm(e,t,n){t instanceof lg?(e.h=t,function(e,t){t&&!e.j&&(cg(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ug(this,t),dg(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=tg(t,og)),e.h=new lg(t,e.g))}function Jm(e,t,n){e.h.set(t,n)}function Xm(e){return Jm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function eg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tg(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ng),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ng(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$m.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tg(t,rg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tg(t,rg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tg(n,"/"==n.charAt(0)?sg:ig,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tg(n,ag)),e.join("")};var rg=/[#\/\?@]/g,ig=/[#\?:]/g,sg=/[#\?]/g,og=/[#\?@]/g,ag=/#/g;function lg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function cg(e){e.g||(e.g=new Zm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ug(e,t){cg(e),t=fg(e,t),zm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bm(e)))}function hg(e,t){return cg(e),t=fg(e,t),zm(e.g.h,t)}function dg(e,t,n){ug(e,t),0<n.length&&(e.i=null,e.g.set(fg(e,t),Vf(n)),e.h+=n.length)}function fg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pg(e){this.l=e||mg,e=Ef.PerformanceNavigationTiming?0<(e=Ef.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ef.g&&Ef.g.Ea&&Ef.g.Ea()&&Ef.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wf=lg.prototype).add=function(e,t){cg(this),this.i=null,e=fg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wf.forEach=function(e,t){cg(this),this.g.forEach(function(n,r){Uf(n,function(n){e.call(t,n,r,this)},this)},this)},wf.T=function(){cg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},wf.R=function(e){cg(this);var t=[];if("string"==typeof e)hg(this,e)&&(t=jf(t,this.g.get(fg(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jf(t,e[n])}return t},wf.set=function(e,t){return cg(this),this.i=null,hg(this,e=fg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},wf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var mg=10;function gg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yg(e){return e.h?1:e.g?e.g.size:0}function _g(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vg(e,t){e.g?e.g.add(t):e.h=t}function bg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vf(e.i)}function Tg(){}function Cg(){this.g=new Tg}function Sg(e,t,n){const r=n||"";try{Vm(e,function(e,n){let i=e;kf(e)&&(i=jp(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ig(e){this.l=e.$b||null,this.j=e.ib||!1}function xg(e,t){Mp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=kg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pg.prototype.cancel=function(){if(this.i=wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Tg.prototype.stringify=function(e){return Ef.JSON.stringify(e,void 0)},Tg.prototype.parse=function(e){return Ef.JSON.parse(e,void 0)},Lf(Ig,_m),Ig.prototype.g=function(){return new xg(this.l,this.j)},Ig.prototype.i=function(e){return function(){return e}}({}),Lf(xg,Mp);var kg=0;function Ag(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ng(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Rg(e)}function Rg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wf=xg.prototype).open=function(e,t){if(this.readyState!=kg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Rg(this)},wf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ef).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ng(this)),this.readyState=kg},wf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rg(this)),this.g&&(this.readyState=3,Rg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ef.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ag(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},wf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ng(this):Rg(this),3==this.readyState&&Ag(this)}},wf.Ua=function(e){this.g&&(this.response=this.responseText=e,Ng(this))},wf.Ta=function(e){this.g&&(this.response=e,Ng(this))},wf.ha=function(){this.g&&Ng(this)},wf.setRequestHeader=function(e,t){this.v.append(e,t)},wf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wf.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pg=Ef.JSON.parse;function Og(e){Mp.call(this),this.headers=new Zm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dg,this.K=this.L=!1}Lf(Og,Mp);var Dg="",Lg=/^https?$/i,Fg=["POST","PUT"];function Mg(e){return"content-type"==e.toLowerCase()}function qg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ug(e),Vg(e)}function Ug(e){e.D||(e.D=!0,qp(e,"complete"),qp(e,"error"))}function jg(e){if(e.h&&void 0!==Sf&&(!e.C[1]||4!=Bg(e)||2!=e.ba()))if(e.v&&4==Bg(e))Jp(e.Fa,0,e);else if(qp(e,"readystatechange"),4==Bg(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Hm)[1]||null;if(!i&&Ef.self&&Ef.self.location){var s=Ef.self.location.protocol;i=s.substr(0,s.length-1)}r=!Lg.test(i?i.toLowerCase():"")}n=r}if(n)qp(e,"complete"),qp(e,"success");else{e.m=6;try{var o=2<Bg(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Ug(e)}}finally{Vg(e)}}}function Vg(e,t){if(e.g){Zg(e);const r=e.g,i=e.C[0]?If:null;e.g=null,e.C=null,t||qp(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Zg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ef.clearTimeout(e.A),e.A=null)}function Bg(e){return e.g?e.g.readyState:0}function zg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Dg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Hg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Kf(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Jm(e,t,n))}function $g(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gg(e){this.za=0,this.l=[],this.h=new sm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$g("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$g("baseRetryDelayMs",5e3,e),this.$a=$g("retryDelaySeedMs",1e4,e),this.Ya=$g("forwardChannelMaxRetries",2,e),this.ra=$g("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new pg(e&&e.concurrentRequestLimit),this.Ca=new Cg,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wg(e){if(Yg(e),3==e.G){var t=e.V++,n=Gm(e.F);Jm(n,"SID",e.J),Jm(n,"RID",t),Jm(n,"TYPE","terminate"),ey(e,n),(t=new Em(e,e.h,t,void 0)).K=2,t.v=Xm(Gm(n)),n=!1,Ef.navigator&&Ef.navigator.sendBeacon&&(n=Ef.navigator.sendBeacon(t.v.toString(),"")),!n&&Ef.Image&&((new Image).src=t.v,n=!0),n||(t.g=dy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lm(t)}uy(e)}function Kg(e){e.g&&(iy(e),e.g.cancel(),e.g=null)}function Yg(e){Kg(e),e.u&&(Ef.clearTimeout(e.u),e.u=null),oy(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ef.clearTimeout(e.m),e.m=null)}function Qg(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Jg(e)}function Jg(e){gg(e.i)||e.m||(e.m=!0,$p(e.Ha,e),e.C=0)}function Xg(e,t){var n;n=t?t.m:e.V++;const r=Gm(e.F);Jm(r,"SID",e.J),Jm(r,"RID",n),Jm(r,"AID",e.U),ey(e,r),e.o&&e.s&&Hg(r,e.o,e.s),n=new Em(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ty(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vg(e.i,n),Nm(n,r,t)}function ey(e,t){e.j&&Vm({},function(e,n){Jm(t,n,e)})}function ty(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Of(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const l=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{Sg(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function ny(e){e.g||e.u||(e.Y=1,$p(e.Ga,e),e.A=0)}function ry(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=mm(Of(e.Ga,e),ly(e,e.A)),e.A++,0))}function iy(e){null!=e.B&&(Ef.clearTimeout(e.B),e.B=null)}function sy(e){e.g=new Em(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Gm(e.oa);Jm(t,"RID","rpc"),Jm(t,"SID",e.J),Jm(t,"CI",e.N?"0":"1"),Jm(t,"AID",e.U),ey(e,t),Jm(t,"TYPE","xmlhttp"),e.o&&e.s&&Hg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xm(Gm(t)),n.s=null,n.U=!0,Rm(n,e)}function oy(e){null!=e.v&&(Ef.clearTimeout(e.v),e.v=null)}function ay(e,t){var n=null;if(e.g==t){oy(e),iy(e),e.g=null;var r=2}else{if(!_g(e.i,t))return;n=t.D,bg(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qp(r=cm(),new pm(r,n,t,i)),Jg(e)}else ny(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(yg(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=mm(Of(e.Ha,e,t),ly(e,e.C)),e.C++,0)))}(e,t)||2==r&&ry(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cy(e,5);break;case 4:cy(e,10);break;case 3:cy(e,6);break;default:cy(e,2)}}function ly(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function cy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Of(e.jb,e);n||(n=new $m("//www.google.com/images/cleardot.gif"),Ef.location&&"http"==Ef.location.protocol||Wm(n,"https"),Xm(n)),function(e,t){const n=new sm;if(Ef.Image){const r=new Image;r.onload=Df(Eg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Df(Eg,n,r,"TestLoadImage: error",!1,t),r.onabort=Df(Eg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Df(Eg,n,r,"TestLoadImage: timeout",!1,t),Ef.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else fm(2);e.G=0,e.j&&e.j.va(t),uy(e),Yg(e)}function uy(e){e.G=0,e.I=-1,e.j&&((0!=wg(e.i).length||0!=e.l.length)&&(e.i.i.length=0,Vf(e.l),e.l.length=0),e.j.ua())}function hy(e,t,n){let r=function(e){return e instanceof $m?Gm(e):new $m(e,void 0)}(n);if(""!=r.i)t&&Km(r,t+"."+r.i),Ym(r,r.m);else{const e=Ef.location;r=function(e,t,n,r){var i=new $m(null,void 0);return e&&Wm(i,e),t&&Km(i,t),n&&Ym(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Kf(e.aa,function(e,t){Jm(r,t,e)}),n=e.sa,(t=e.D)&&n&&Jm(r,t,n),Jm(r,"VER",e.ma),ey(e,r),r}function dy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Og(n&&e.Ba&&!e.qa?new Ig({ib:!0}):e.qa)).L=e.H,t}function fy(){}function py(){if(np&&!(10<=Number(fp)))throw Error("Environmental error: no available transport.")}function my(e,t){Mp.call(this),this.g=new Gg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _y(this)}function gy(e){Tm.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yy(){Cm.call(this),this.status=1}function _y(e){this.g=e}(wf=Og.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bm.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:bm),this.g.onreadystatechange=Of(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void qg(this,s)}e=n||"";const i=new Zm(this.headers);r&&Vm(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=Mg;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ef.FormData&&e instanceof Ef.FormData,!(0<=qf(Fg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zg(this),0<this.B&&((this.K=function(e){return np&&dp()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Of(this.pa,this)):this.A=Jp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qg(this,s)}},wf.pa=function(){void 0!==Sf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qp(this,"timeout"),this.abort(8))},wf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qp(this,"complete"),qp(this,"abort"),Vg(this))},wf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),Og.Z.M.call(this)},wf.Fa=function(){this.s||(this.F||this.v||this.l?jg(this):this.cb())},wf.cb=function(){jg(this)},wf.ba=function(){try{return 2<Bg(this)?this.g.status:-1}catch(e){return-1}},wf.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},wf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pg(t)}},wf.Da=function(){return this.m},wf.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(wf=Gg.prototype).ma=8,wf.G=1,wf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},wf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Em(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Yf(s),Jf(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ty(this,i,t),Jm(n=Gm(this.F),"RID",e),Jm(n,"CVER",22),this.D&&Jm(n,"X-HTTP-Session-Id",this.D),ey(this,n),this.o&&s&&Hg(n,this.o,s),vg(this.i,i),this.Ra&&Jm(n,"TYPE","init"),this.ja?(Jm(n,"$req",t),Jm(n,"SID","null"),i.$=!0,Nm(i,n,null)):Nm(i,n,t),this.G=2}}else 3==this.G&&(e?Xg(this,e):0==this.l.length||gg(this.i)||Xg(this))},wf.Ga=function(){if(this.u=null,sy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mm(Of(this.bb,this),e)}},wf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fm(10),Kg(this),sy(this))},wf.ab=function(){null!=this.v&&(this.v=null,Kg(this),ry(this),fm(19))},wf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fm(2)):(this.h.info("Failed to ping google.com"),fm(1))},(wf=fy.prototype).xa=function(){},wf.wa=function(){},wf.va=function(){},wf.ua=function(){},wf.Oa=function(){},py.prototype.g=function(e,t){return new my(e,t)},Lf(my,Mp),my.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$p(Of(e.hb,e,t))),fm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=hy(e,null,e.W),Jg(e)},my.prototype.close=function(){Wg(this.g)},my.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Qg(this.g,t)}else this.v?((t={}).__data__=jp(e),Qg(this.g,t)):Qg(this.g,e)},my.prototype.M=function(){this.g.j=null,delete this.j,Wg(this.g),delete this.g,my.Z.M.call(this)},Lf(gy,Tm),Lf(yy,Cm),Lf(_y,fy),_y.prototype.xa=function(){qp(this.g,"a")},_y.prototype.wa=function(e){qp(this.g,new gy(e))},_y.prototype.va=function(e){qp(this.g,new yy(e))},_y.prototype.ua=function(){qp(this.g,"b")},py.prototype.createWebChannel=py.prototype.g,my.prototype.send=my.prototype.u,my.prototype.open=my.prototype.m,my.prototype.close=my.prototype.close,gm.NO_ERROR=0,gm.TIMEOUT=8,gm.HTTP_ERROR=6,ym.COMPLETE="complete",vm.EventType=wm,wm.OPEN="a",wm.CLOSE="b",wm.ERROR="c",wm.MESSAGE="d",Mp.prototype.listen=Mp.prototype.N,Og.prototype.listenOnce=Og.prototype.O,Og.prototype.getLastError=Og.prototype.La,Og.prototype.getLastErrorCode=Og.prototype.Da,Og.prototype.getStatus=Og.prototype.ba,Og.prototype.getResponseJson=Og.prototype.Qa,Og.prototype.getResponseText=Og.prototype.ga,Og.prototype.send=Og.prototype.ea;var vy=Cf.createWebChannelTransport=function(){return new py},by=Cf.getStatEventTarget=function(){return cm()},wy=Cf.ErrorCode=gm,Ty=Cf.EventType=ym,Cy=Cf.Event=am,Sy=Cf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ey=Cf.FetchXmlHttpFactory=Ig,Iy=Cf.WebChannel=vm,xy=Cf.XhrIo=Og;const ky="@firebase/firestore";class Ay{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ay.UNAUTHENTICATED=new Ay(null),Ay.GOOGLE_CREDENTIALS=new Ay("google-credentials-uid"),Ay.FIRST_PARTY=new Ay("first-party-uid"),Ay.MOCK_USER=new Ay("mock-user");let Ny="9.5.0";const Ry=new Ot.Yd("@firebase/firestore");function Py(){return Ry.logLevel}function Oy(e,...t){if(Ry.logLevel<=Ot.in.DEBUG){const n=t.map(Fy);Ry.debug(`Firestore (${Ny}): ${e}`,...n)}}function Dy(e,...t){if(Ry.logLevel<=Ot.in.ERROR){const n=t.map(Fy);Ry.error(`Firestore (${Ny}): ${e}`,...n)}}function Ly(e,...t){if(Ry.logLevel<=Ot.in.WARN){const n=t.map(Fy);Ry.warn(`Firestore (${Ny}): ${e}`,...n)}}function Fy(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function My(e="Unexpected state"){const t=`FIRESTORE (${Ny}) INTERNAL ASSERTION FAILED: `+e;throw Dy(t),new Error(t)}function qy(e,t){e||My()}function Uy(e,t){return e}const jy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vy extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zy{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class By{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class zy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ay.UNAUTHENTICATED))}shutdown(){}}class Hy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $y{constructor(e){this.t=e,this.currentUser=Ay.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Zy;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zy,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Nt.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Oy("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Oy("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zy)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Oy("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qy("string"==typeof t.accessToken),new By(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qy(null===e||"string"==typeof e),new Ay(e)}}class Gy{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ay.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Wy{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Gy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ay.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Yy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ky.T=-1;class Qy{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Yy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Jy(e,t){return e<t?-1:e>t?1:0}function Xy(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function e_(e){return e+"\0"}class t_{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vy(jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vy(jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vy(jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vy(jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t_.fromMillis(Date.now())}static fromDate(e){return t_.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new t_(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jy(this.nanoseconds,e.nanoseconds):Jy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class n_{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n_(e)}static min(){return new n_(new t_(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function r_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function i_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function s_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class o_{constructor(e,t,n){void 0===t?t=0:t>e.length&&My(),void 0===n?n=e.length-t:n>e.length-t&&My(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===o_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof o_?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class a_ extends o_{construct(e,t,n){return new a_(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Vy(jy.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new a_(t)}static emptyPath(){return new a_([])}}const l_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class c_ extends o_{construct(e,t,n){return new c_(e,t,n)}static isValidIdentifier(e){return l_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),c_.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new c_(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Vy(jy.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vy(jy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vy(jy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Vy(jy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new c_(t)}static emptyPath(){return new c_([])}}class u_{constructor(e){this.fields=e,e.sort(c_.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xy(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class h_{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new h_(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new h_(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}h_.EMPTY_BYTE_STRING=new h_("");const d_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function f_(e){if(qy(!!e),"string"==typeof e){let t=0;const n=d_.exec(e);if(qy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:p_(e.seconds),nanos:p_(e.nanos)}}function p_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function m_(e){return"string"==typeof e?h_.fromBase64String(e):h_.fromUint8Array(e)}function g_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function y_(e){const t=e.mapValue.fields.__previous_value__;return g_(t)?y_(t):t}function __(e){const t=f_(e.mapValue.fields.__local_write_time__.timestampValue);return new t_(t.seconds,t.nanos)}function v_(e){return null==e}function b_(e){return 0===e&&1/e==-1/0}function w_(e){return"number"==typeof e&&Number.isInteger(e)&&!b_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class T_{constructor(e){this.path=e}static fromPath(e){return new T_(a_.fromString(e))}static fromName(e){return new T_(a_.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===a_.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return a_.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new T_(new a_(e.slice()))}}function C_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?g_(e)?4:10:My()}function S_(e,t){const n=C_(e);if(n!==C_(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return __(e).isEqual(__(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=f_(e.timestampValue),r=f_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,m_(e.bytesValue).isEqual(m_(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return p_(e.geoPointValue.latitude)===p_(t.geoPointValue.latitude)&&p_(e.geoPointValue.longitude)===p_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return p_(e.integerValue)===p_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=p_(e.doubleValue),r=p_(t.doubleValue);return n===r?b_(n)===b_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xy(e.arrayValue.values||[],t.arrayValue.values||[],S_);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(r_(n)!==r_(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!S_(n[i],r[i])))return!1;return!0}(e,t);default:return My()}var r}function E_(e,t){return void 0!==(e.values||[]).find(e=>S_(e,t))}function I_(e,t){const n=C_(e),r=C_(t);if(n!==r)return Jy(n,r);switch(n){case 0:return 0;case 1:return Jy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=p_(e.integerValue||e.doubleValue),r=p_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return x_(e.timestampValue,t.timestampValue);case 4:return x_(__(e),__(t));case 5:return Jy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=m_(e),r=m_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Jy(n[i],r[i]);if(0!==e)return e}return Jy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Jy(p_(e.latitude),p_(t.latitude));return 0!==n?n:Jy(p_(e.longitude),p_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=I_(n[i],r[i]);if(e)return e}return Jy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Jy(r[o],s[o]);if(0!==e)return e;const t=I_(n[r[o]],i[s[o]]);if(0!==t)return t}return Jy(r.length,s.length)}(e.mapValue,t.mapValue);default:throw My()}}function x_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jy(e,t);const n=f_(e),r=f_(t),i=Jy(n.seconds,r.seconds);return 0!==i?i:Jy(n.nanos,r.nanos)}function k_(e){return A_(e)}function A_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=f_(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?m_(e.bytesValue).toBase64():"referenceValue"in e?T_.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=A_(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${A_(e.fields[i])}`;return n+"}"}(e.mapValue):My();var t}function N_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function R_(e){return!!e&&"integerValue"in e}function P_(e){return!!e&&"arrayValue"in e}function O_(e){return!!e&&"nullValue"in e}function D_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function L_(e){return!!e&&"mapValue"in e}function F_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return i_(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=F_(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=F_(e.arrayValue.values[n]);return t}return Object.assign({},e)}class M_{constructor(e){this.value=e}static empty(){return new M_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!L_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F_(t)}setAll(e){let t=c_.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=F_(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());L_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return S_(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];L_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){i_(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new M_(F_(this.value))}}function q_(e){const t=[];return i_(e.fields,(e,n)=>{const r=new c_([e]);if(L_(n)){const e=q_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new u_(t)}class U_{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new U_(e,0,n_.min(),M_.empty(),0)}static newFoundDocument(e,t,n){return new U_(e,1,t,n,0)}static newNoDocument(e,t){return new U_(e,2,t,M_.empty(),0)}static newUnknownDocument(e,t){return new U_(e,3,t,M_.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=M_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=M_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof U_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new U_(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class j_{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function V_(e,t=null,n=[],r=[],i=null,s=null,o=null){return new j_(e,t,n,r,i,s,o)}function Z_(e){const t=Uy(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+k_(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),v_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=tv(t.startAt)),t.endAt&&(e+="|ub:",e+=tv(t.endAt)),t.A=e}return t.A}function B_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!rv(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!S_(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sv(e.startAt,t.startAt)&&sv(e.endAt,t.endAt)}function z_(e){return T_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class H_ extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new $_(e,t,n):"array-contains"===t?new Y_(e,n):"in"===t?new Q_(e,n):"not-in"===t?new J_(e,n):"array-contains-any"===t?new X_(e,n):new H_(e,t,n)}static R(e,t,n){return"in"===t?new G_(e,n):new W_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(I_(t,this.value)):null!==t&&C_(this.value)===C_(t)&&this.P(I_(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return My()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $_ extends H_{constructor(e,t,n){super(e,t,n),this.key=T_.fromName(n.referenceValue)}matches(e){const t=T_.comparator(e.key,this.key);return this.P(t)}}class G_ extends H_{constructor(e,t){super(e,"in",t),this.keys=K_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W_ extends H_{constructor(e,t){super(e,"not-in",t),this.keys=K_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function K_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>T_.fromName(e.referenceValue))}class Y_ extends H_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return P_(t)&&E_(t.arrayValue,this.value)}}class Q_ extends H_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&E_(this.value.arrayValue,t)}}class J_ extends H_{constructor(e,t){super(e,"not-in",t)}matches(e){if(E_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!E_(this.value.arrayValue,t)}}class X_ extends H_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!P_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>E_(this.value.arrayValue,e))}}class ev{constructor(e,t){this.position=e,this.before=t}}function tv(e){return`${e.before?"b":"a"}:${e.position.map(e=>k_(e)).join(",")}`}class nv{constructor(e,t="asc"){this.field=e,this.dir=t}}function rv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function iv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?T_.comparator(T_.fromName(o.referenceValue),n.key):I_(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function sv(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!S_(e.position[n],t.position[n]))return!1;return!0}class ov{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function av(e,t,n,r,i,s,o,a){return new ov(e,t,n,r,i,s,o,a)}function lv(e){return new ov(e)}function cv(e){return!v_(e.limit)&&"F"===e.limitType}function uv(e){return!v_(e.limit)&&"L"===e.limitType}function hv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dv(e){for(const t of e.filters)if(t.v())return t.field;return null}function fv(e){return null!==e.collectionGroup}function pv(e){const t=Uy(e);if(null===t.V){t.V=[];const e=dv(t),n=hv(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new nv(e)),t.V.push(new nv(c_.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new nv(c_.keyField(),e))}}}return t.V}function mv(e){const t=Uy(e);if(!t.S)if("F"===t.limitType)t.S=V_(t.path,t.collectionGroup,pv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of pv(t))e.push(new nv(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ev(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ev(t.startAt.position,!t.startAt.before):null;t.S=V_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function gv(e,t,n){return new ov(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yv(e,t){return B_(mv(e),mv(t))&&e.limitType===t.limitType}function _v(e){return`${Z_(mv(e))}|lt:${e.limitType}`}function vv(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${k_(t.value)}`;var t}).join(", ")}]`),v_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: "+tv(e.startAt)),e.endAt&&(t+=", endAt: "+tv(e.endAt)),`Target(${t})`}(mv(e))}; limitType=${e.limitType})`}function bv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):T_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!iv(n.startAt,pv(n),r)||n.endAt&&iv(n.endAt,pv(n),r)));var n,r}function wv(e){return(t,n)=>{let r=!1;for(const i of pv(e)){const e=Tv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Tv(e,t,n){const r=e.field.isKeyField()?T_.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?I_(r,i):My()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return My()}}function Cv(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b_(t)?"-0":t}}function Sv(e){return{integerValue:""+e}}function Ev(e,t){return w_(t)?Sv(t):Cv(e,t)}class Iv{constructor(){this._=void 0}}function xv(e,t,n){return e instanceof Nv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rv?Pv(e,t):e instanceof Ov?Dv(e,t):function(e,t){const n=Av(e,t),r=Fv(n)+Fv(e.C);return R_(n)&&R_(e.C)?Sv(r):Cv(e.N,r)}(e,t)}function kv(e,t,n){return e instanceof Rv?Pv(e,t):e instanceof Ov?Dv(e,t):n}function Av(e,t){return e instanceof Lv?R_(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class Nv extends Iv{}class Rv extends Iv{constructor(e){super(),this.elements=e}}function Pv(e,t){const n=Mv(t);for(const r of e.elements)n.some(e=>S_(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ov extends Iv{constructor(e){super(),this.elements=e}}function Dv(e,t){let n=Mv(t);for(const r of e.elements)n=n.filter(e=>!S_(e,r));return{arrayValue:{values:n}}}class Lv extends Iv{constructor(e,t){super(),this.N=e,this.C=t}}function Fv(e){return p_(e.integerValue||e.doubleValue)}function Mv(e){return P_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qv{constructor(e,t){this.field=e,this.transform=t}}class Uv{constructor(e,t){this.version=e,this.transformResults=t}}class jv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jv}static exists(e){return new jv(void 0,e)}static updateTime(e){return new jv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Zv{}function Bv(e,t,n){e instanceof Wv?function(e,t,n){const r=e.value.clone(),i=Qv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kv?function(e,t,n){if(!Vv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function zv(e,t,n){var r;e instanceof Wv?function(e,t,n){if(!Vv(e.precondition,t))return;const r=e.value.clone(),i=Jv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gv(t),r).setHasLocalMutations()}(e,t,n):e instanceof Kv?function(e,t,n){if(!Vv(e.precondition,t))return;const r=Jv(e.fieldTransforms,n,t),i=t.data;i.setAll(Yv(e)),i.setAll(r),t.convertToFoundDocument(Gv(t),i).setHasLocalMutations()}(e,t,n):Vv(e.precondition,r=t)&&r.convertToNoDocument(n_.min())}function Hv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Av(r.transform,e||null);null!=i&&(null==n&&(n=M_.empty()),n.set(r.field,i))}return n||null}function $v(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Xy(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof Rv&&r instanceof Rv||n instanceof Ov&&r instanceof Ov?Xy(n.elements,r.elements,S_):n instanceof Lv&&r instanceof Lv?S_(n.C,r.C):n instanceof Nv&&r instanceof Nv);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Gv(e){return e.isFoundDocument()?e.version:n_.min()}class Wv extends Zv{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Kv extends Zv{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Yv(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Qv(e,t,n){const r=new Map;qy(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,kv(o,a,n[i]))}return r}function Jv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,xv(e,s,t))}return r}class Xv extends Zv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class eb extends Zv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class tb{constructor(e){this.count=e}}var nb,rb;function ib(e){switch(e){default:return My();case jy.CANCELLED:case jy.UNKNOWN:case jy.DEADLINE_EXCEEDED:case jy.RESOURCE_EXHAUSTED:case jy.INTERNAL:case jy.UNAVAILABLE:case jy.UNAUTHENTICATED:return!1;case jy.INVALID_ARGUMENT:case jy.NOT_FOUND:case jy.ALREADY_EXISTS:case jy.PERMISSION_DENIED:case jy.FAILED_PRECONDITION:case jy.ABORTED:case jy.OUT_OF_RANGE:case jy.UNIMPLEMENTED:case jy.DATA_LOSS:return!0}}function sb(e){if(void 0===e)return Dy("GRPC error has no .code"),jy.UNKNOWN;switch(e){case nb.OK:return jy.OK;case nb.CANCELLED:return jy.CANCELLED;case nb.UNKNOWN:return jy.UNKNOWN;case nb.DEADLINE_EXCEEDED:return jy.DEADLINE_EXCEEDED;case nb.RESOURCE_EXHAUSTED:return jy.RESOURCE_EXHAUSTED;case nb.INTERNAL:return jy.INTERNAL;case nb.UNAVAILABLE:return jy.UNAVAILABLE;case nb.UNAUTHENTICATED:return jy.UNAUTHENTICATED;case nb.INVALID_ARGUMENT:return jy.INVALID_ARGUMENT;case nb.NOT_FOUND:return jy.NOT_FOUND;case nb.ALREADY_EXISTS:return jy.ALREADY_EXISTS;case nb.PERMISSION_DENIED:return jy.PERMISSION_DENIED;case nb.FAILED_PRECONDITION:return jy.FAILED_PRECONDITION;case nb.ABORTED:return jy.ABORTED;case nb.OUT_OF_RANGE:return jy.OUT_OF_RANGE;case nb.UNIMPLEMENTED:return jy.UNIMPLEMENTED;case nb.DATA_LOSS:return jy.DATA_LOSS;default:return My()}}(rb=nb||(nb={}))[rb.OK=0]="OK",rb[rb.CANCELLED=1]="CANCELLED",rb[rb.UNKNOWN=2]="UNKNOWN",rb[rb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rb[rb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rb[rb.NOT_FOUND=5]="NOT_FOUND",rb[rb.ALREADY_EXISTS=6]="ALREADY_EXISTS",rb[rb.PERMISSION_DENIED=7]="PERMISSION_DENIED",rb[rb.UNAUTHENTICATED=16]="UNAUTHENTICATED",rb[rb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rb[rb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rb[rb.ABORTED=10]="ABORTED",rb[rb.OUT_OF_RANGE=11]="OUT_OF_RANGE",rb[rb.UNIMPLEMENTED=12]="UNIMPLEMENTED",rb[rb.INTERNAL=13]="INTERNAL",rb[rb.UNAVAILABLE=14]="UNAVAILABLE",rb[rb.DATA_LOSS=15]="DATA_LOSS";class ob{constructor(e,t){this.comparator=e,this.root=t||lb.EMPTY}insert(e,t){return new ob(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lb.BLACK,null,null))}remove(e){return new ob(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ab(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ab(this.root,e,this.comparator,!1)}getReverseIterator(){return new ab(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ab(this.root,e,this.comparator,!0)}}class ab{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:lb.RED,this.left=null!=r?r:lb.EMPTY,this.right=null!=i?i:lb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new lb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw My();const e=this.left.check();if(e!==this.right.check())throw My();return e+(this.isRed()?0:1)}}lb.EMPTY=null,lb.RED=!0,lb.BLACK=!1,lb.EMPTY=new class{constructor(){this.size=0}get key(){throw My()}get value(){throw My()}get color(){throw My()}get left(){throw My()}get right(){throw My()}copy(e,t,n,r,i){return this}insert(e,t,n){return new lb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cb{constructor(e){this.comparator=e,this.data=new ob(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ub(this.data.getIterator())}getIteratorFrom(e){return new ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof cb)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cb(this.comparator);return t.data=e,t}}class ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hb=new ob(T_.comparator);function db(){return hb}const fb=new ob(T_.comparator);function pb(){return fb}const mb=new ob(T_.comparator);function gb(){return mb}const yb=new cb(T_.comparator);function _b(...e){let t=yb;for(const n of e)t=t.add(n);return t}const vb=new cb(Jy);function bb(){return vb}class wb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Tb.createSynthesizedTargetChangeForCurrentChange(e,t)),new wb(n_.min(),n,bb(),db(),_b())}}class Tb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Tb(h_.EMPTY_BYTE_STRING,t,_b(),_b(),_b())}}class Cb{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Sb{constructor(e,t){this.targetId=e,this.O=t}}class Eb{constructor(e,t,n=h_.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ib{constructor(){this.F=0,this.M=Ab(),this.L=h_.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=_b(),t=_b(),n=_b();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:My()}}),new Tb(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Ab()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class xb{constructor(e){this.tt=e,this.et=new Map,this.nt=db(),this.st=kb(),this.it=new cb(Jy)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:My()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(z_(e))if(0===n){const n=new T_(e.path);this.ct(t,n,U_.newNoDocument(n,n_.min()))}else qy(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&z_(i.target)){const t=new T_(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.ct(r,t,U_.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=_b();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new wb(e,t,this.it,this.nt,n);return this.nt=db(),this.st=kb(),this.it=new cb(Jy),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Ib,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new cb(Jy),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Oy("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Ib),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function kb(){return new ob(T_.comparator)}function Ab(){return new ob(T_.comparator)}const Nb={asc:"ASCENDING",desc:"DESCENDING"},Rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Pb{constructor(e,t){this.databaseId=e,this.D=t}}function Ob(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Db(e,t){return e.D?t.toBase64():t.toUint8Array()}function Lb(e,t){return Ob(e,t.toTimestamp())}function Fb(e){return qy(!!e),n_.fromTimestamp(function(e){const t=f_(e);return new t_(t.seconds,t.nanos)}(e))}function Mb(e,t){return(n=e,new a_(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function qb(e){const t=a_.fromString(e);return qy(lw(t)),t}function Ub(e,t){return Mb(e.databaseId,t.path)}function jb(e,t){const n=qb(t);if(n.get(1)!==e.databaseId.projectId)throw new Vy(jy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vy(jy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new T_(zb(n))}function Vb(e,t){return Mb(e.databaseId,t)}function Zb(e){const t=qb(e);return 4===t.length?a_.emptyPath():zb(t)}function Bb(e){return new a_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zb(e){return qy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hb(e,t,n){return{name:Ub(e,t),fields:n.value.mapValue.fields}}function $b(e,t,n){const r=jb(e,t.name),i=Fb(t.updateTime),s=new M_({mapValue:{fields:t.fields}}),o=U_.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Gb(e,t){let n;if(t instanceof Wv)n={update:Hb(e,t.key,t.value)};else if(t instanceof Xv)n={delete:Ub(e,t.key)};else if(t instanceof Kv)n={update:Hb(e,t.key,t.data),updateMask:aw(t.fieldMask)};else{if(!(t instanceof eb))return My();n={verify:Ub(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Nv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ov)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lv)return{fieldPath:t.field.canonicalString(),increment:n.C};throw My()}(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Lb(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:My()),n;var r}function Wb(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?jv.updateTime(Fb(i.updateTime)):void 0!==i.exists?jv.exists(i.exists):jv.none():jv.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(qy("REQUEST_TIME"===t.setToServerValue),n=new Nv):"appendMissingElements"in t?n=new Rv(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Ov(t.removeAllFromArray.values||[]):"increment"in t?n=new Lv(e,t.increment):My();const r=c_.fromServerFormat(t.fieldPath);return new qv(r,n)}(e,t)):[];var i;if(t.update){const i=jb(e,t.update.name),s=new M_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=new u_((t.updateMask.fieldPaths||[]).map(e=>c_.fromServerFormat(e)));return new Kv(i,s,e,n,r)}return new Wv(i,s,n,r)}if(t.delete){const r=jb(e,t.delete);return new Xv(r,n)}if(t.verify){const r=jb(e,t.verify);return new eb(r,n)}return My()}function Kb(e,t){return{documents:[Vb(e,t.path)]}}function Yb(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(D_(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NAN"}};if(O_(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(D_(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NOT_NAN"}};if(O_(e.value))return{unaryFilter:{field:rw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rw(e.field),op:nw(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>{return{field:rw((t=e).field),direction:tw(t.dir)};var t})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=t.limit,e.D||v_(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Xb(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Xb(t.endAt)),n}function Qb(e){let t=Zb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Jb(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new nv(iw((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,v_(t)?null:t}(n.limit));let l=null;n.startAt&&(l=ew(n.startAt));let c=null;return n.endAt&&(c=ew(n.endAt)),av(t,i,o,s,a,"F",l,c)}function Jb(e){return e?void 0!==e.unaryFilter?[ow(e)]:void 0!==e.fieldFilter?[sw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Jb(e)).reduce((e,t)=>e.concat(t)):My():[]}function Xb(e){return{before:e.before,values:e.position}}function ew(e){return new ev(e.values||[],!!e.before)}function tw(e){return Nb[e]}function nw(e){return Rb[e]}function rw(e){return{fieldPath:e.canonicalString()}}function iw(e){return c_.fromServerFormat(e.fieldPath)}function sw(e){return H_.create(iw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return My()}}(e.fieldFilter.op),e.fieldFilter.value)}function ow(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iw(e.unaryFilter.field);return H_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=iw(e.unaryFilter.field);return H_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iw(e.unaryFilter.field);return H_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=iw(e.unaryFilter.field);return H_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return My()}}function aw(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hw(t)),t=uw(e.get(n),t);return hw(t)}function uw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function hw(e){return e+"\x01\x01"}function dw(e){const t=e.length;if(qy(t>=2),2===t)return qy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),a_.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&My(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:My()}s=t+2}return new a_(r)}class fw{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class pw{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}pw.store="owner",pw.key="owner";class mw{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}mw.store="mutationQueues",mw.keyPath="userId";class gw{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}gw.store="mutations",gw.keyPath="batchId",gw.userMutationsIndex="userMutationsIndex",gw.userMutationsKeyPath=["userId","batchId"];class yw{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,cw(t)]}static key(e,t,n){return[e,cw(t),n]}}yw.store="documentMutations",yw.PLACEHOLDER=new yw;class _w{constructor(e,t){this.path=e,this.readTime=t}}class vw{constructor(e,t){this.path=e,this.version=t}}class bw{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}bw.store="remoteDocuments",bw.readTimeIndex="readTimeIndex",bw.readTimeIndexPath="readTime",bw.collectionReadTimeIndex="collectionReadTimeIndex",bw.collectionReadTimeIndexPath=["parentPath","readTime"];class ww{constructor(e){this.byteSize=e}}ww.store="remoteDocumentGlobal",ww.key="remoteDocumentGlobalKey";class Tw{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Tw.store="targets",Tw.keyPath="targetId",Tw.queryTargetsIndexName="queryTargetsIndex",Tw.queryTargetsKeyPath=["canonicalId","targetId"];class Cw{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Cw.store="targetDocuments",Cw.keyPath=["targetId","path"],Cw.documentTargetsIndex="documentTargetsIndex",Cw.documentTargetsKeyPath=["path","targetId"];class Sw{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Sw.key="targetGlobalKey",Sw.store="targetGlobal";class Ew{constructor(e,t){this.collectionId=e,this.parent=t}}Ew.store="collectionParents",Ew.keyPath=["collectionId","parent"];class Iw{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Iw.store="clientMetadata",Iw.keyPath="clientId";class xw{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}xw.store="bundles",xw.keyPath="bundleId";class kw{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}kw.store="namedQueries",kw.keyPath="name";const Aw=[mw.store,gw.store,yw.store,bw.store,Tw.store,pw.store,Sw.store,Cw.store,Iw.store,ww.store,Ew.store,xw.store,kw.store],Nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pw{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&My(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pw((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pw?t:Pw.resolve(t)}catch(t){return Pw.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pw.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pw.reject(t)}static resolve(e){return new Pw((t,n)=>{t(e)})}static reject(e){return new Pw((t,n)=>{n(e)})}static waitFor(e){return new Pw((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Pw.resolve(!1);for(const n of e)t=t.next(e=>e?Pw.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Ow{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Zy,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Fw(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=Vw(t.target.error);this.Et.reject(new Fw(e,n))}}static open(e,t,n,r){try{return new Ow(t,e.transaction(r,n))}catch(i){throw new Fw(t,i)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Oy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new qw(t)}}class Dw{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Dw.Rt((0,Pt.z$)())&&Dy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oy("SimpleDb","Removing database:",e),Uw(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Pt.hl)())return!1;if(Dw.Pt())return!0;const e=(0,Pt.z$)(),t=Dw.Rt(e),n=0<t&&t<10,r=Dw.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,Nt.Z)(function*(){return t.db||(Oy("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Fw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Vy(jy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Vy(jy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Fw(e,n))},i.onupgradeneeded=e=>{Oy("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Oy("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Nt.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=Ow.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),Pw.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(a){const e="FirebaseError"!==a.name&&o<3;if(Oy("SimpleDb","Transaction failed with error:",a.message,"Retrying:",e),i.close(),!e)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lw{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Uw(this.kt.delete())}}class Fw extends Vy{constructor(e,t){super(jy.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mw(e){return"IndexedDbTransactionError"===e.name}class qw{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Oy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Oy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Uw(n)}add(e){return Oy("SimpleDb","ADD",this.store.name,e,e),Uw(this.store.add(e))}get(e){return Uw(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oy("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oy("SimpleDb","DELETE",this.store.name,e),Uw(this.store.delete(e))}count(){return Oy("SimpleDb","COUNT",this.store.name),Uw(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Oy("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Pw((n,r)=>{t.onerror=e=>{const t=Vw(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Pw((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Lw(i),o=t(i.primaryKey,i.value,s);if(o instanceof Pw){const e=o.catch(e=>(s.done(),Pw.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Pw.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uw(e){return new Pw((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Vw(e.target.error);n(t)}})}let jw=!1;function Vw(e){const t=Dw.Rt((0,Pt.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Vy("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jw||(jw=!0,setTimeout(()=>{throw e},0)),e}}return e}class Zw extends Rw{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Bw(e,t){const n=Uy(e);return Dw.St(n.Qt,t)}class zw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Bv(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&zv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&zv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(n_.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_b())}isEqual(e){return this.batchId===e.batchId&&Xy(this.mutations,e.mutations,(e,t)=>$v(e,t))&&Xy(this.baseMutations,e.baseMutations,(e,t)=>$v(e,t))}}class Hw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qy(e.mutations.length===n.length);let r=gb();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Hw(e,t,n,r)}}class $w{constructor(e,t,n,r,i=n_.min(),s=n_.min(),o=h_.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new $w(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $w(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $w(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gw{constructor(e){this.Wt=e}}function Ww(e,t){if(t.document)return $b(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=T_.fromSegments(t.noDocument.path),n=Xw(t.noDocument.readTime),r=U_.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=T_.fromSegments(t.unknownDocument.path),n=Xw(t.unknownDocument.version);return U_.newUnknownDocument(e,n)}return My()}function Kw(e,t,n){const r=Yw(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n={name:Ub(s=e.Wt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Ob(s,o.version.toTimestamp())};return new bw(null,null,n,t.hasCommittedMutations,r,i)}var s,o;if(t.isNoDocument()){const e=t.key.path.toArray(),n=Jw(t.version),s=t.hasCommittedMutations;return new bw(null,new _w(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Jw(t.version);return new bw(new vw(e,n),null,null,!0,r,i)}return My()}function Yw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qw(e){const t=new t_(e[0],e[1]);return n_.fromTimestamp(t)}function Jw(e){const t=e.toTimestamp();return new fw(t.seconds,t.nanoseconds)}function Xw(e){const t=new t_(e.seconds,e.nanoseconds);return n_.fromTimestamp(t)}function eT(e,t){const n=(t.baseMutations||[]).map(t=>Wb(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Wb(e.Wt,t)),i=t_.fromMillis(t.localWriteTimeMs);return new zw(t.batchId,i,n,r)}function tT(e){const t=Xw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Xw(e.lastLimboFreeSnapshotVersion):n_.min();let r;var i;return void 0!==e.query.documents?(qy(1===(i=e.query).documents.length),r=mv(lv(Zb(i.documents[0])))):r=mv(Qb(e.query)),new $w(r,e.targetId,0,e.lastListenSequenceNumber,t,n,h_.fromBase64String(e.resumeToken))}function nT(e,t){const n=Jw(t.snapshotVersion),r=Jw(t.lastLimboFreeSnapshotVersion);let i;i=z_(t.target)?Kb(e.Wt,t.target):Yb(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Tw(t.targetId,Z_(t.target),n,s,t.sequenceNumber,r,i)}function rT(e){const t=Qb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gv(t,t.limit,"L"):t}class iT{getBundleMetadata(e,t){return sT(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Xw(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return sT(e).put({bundleId:(n=t).id,createTime:Jw(Fb(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return oT(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:rT(t.bundledQuery),readTime:Xw(t.readTime)};var t})}saveNamedQuery(e,t){return oT(e).put({name:(n=t).name,readTime:Jw(Fb(n.readTime)),bundledQuery:n.bundledQuery});var n}}function sT(e){return Bw(e,xw.store)}function oT(e){return Bw(e,kw.store)}class aT{constructor(){this.Gt=new lT}addToCollectionParentIndex(e,t){return this.Gt.add(t),Pw.resolve()}getCollectionParents(e,t){return Pw.resolve(this.Gt.getEntries(t))}}class lT{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cb(a_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cb(a_.comparator)).toArray()}}class cT{constructor(){this.zt=new lT}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:cw(r)};return uT(e).put(i)}return Pw.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[e_(t),""],!1,!0);return uT(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(dw(r.parent))}return n})}}function uT(e){return Bw(e,Ew.store)}const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dT{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new dT(e,dT.DEFAULT_COLLECTION_PERCENTILE,dT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fT(e,t,n){const r=e.store(gw.store),i=e.store(yw.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{qy(1===a)}));const c=[];for(const u of n.mutations){const e=yw.key(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Pw.waitFor(s).next(()=>c)}function pT(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw My();t=e.noDocument}return JSON.stringify(t).length}dT.DEFAULT_COLLECTION_PERCENTILE=10,dT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dT.DEFAULT=new dT(41943040,dT.DEFAULT_COLLECTION_PERCENTILE,dT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dT.DISABLED=new dT(-1,0,0);class mT{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){qy(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new mT(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yT(e).Kt({index:gw.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=_T(e),s=yT(e);return s.add({}).next(o=>{qy("number"==typeof o);const a=new zw(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Gb(e.Wt,t)),i=n.mutations.map(t=>Gb(e.Wt,t));return new gw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let u=new cb((e,t)=>Jy(e.canonicalString(),t.canonicalString()));for(const e of r){const t=yw.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,yw.PLACEHOLDER))}return u.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Pw.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return yT(e).get(t).next(e=>e?(qy(e.userId===this.userId),eT(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Pw.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return yT(e).Kt({index:gw.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(qy(t.batchId>=n),i=eT(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return yT(e).Kt({index:gw.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yT(e).Lt(gw.userMutationsIndex,t).next(e=>e.map(e=>eT(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=yw.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return _T(e).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,c=dw(a);if(o===this.userId&&t.path.isEqual(c))return yT(e).get(l).next(e=>{if(!e)throw My();qy(e.userId===this.userId),i.push(eT(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cb(Jy);const r=[];return t.forEach(t=>{const i=yw.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=_T(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,l=dw(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Pw.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=yw.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new cb(Jy);return _T(e).Kt({range:s},(e,t,i)=>{const[s,a,l]=e,c=dw(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(yT(e).get(t).next(e=>{if(null===e)throw My();qy(e.userId===this.userId),n.push(eT(this.N,e))}))}),Pw.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return fT(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Pw.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pw.resolve();const n=IDBKeyRange.lowerBound(yw.prefixForUser(this.userId)),r=[];return _T(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=dw(e[1]);r.push(t)}else n.done()}).next(()=>{qy(0===r.length)})})}containsKey(e,t){return gT(e,this.userId,t)}ee(e){return vT(e).get(this.userId).next(e=>e||new mw(this.userId,-1,""))}}function gT(e,t,n){const r=yw.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return _T(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function yT(e){return Bw(e,gw.store)}function _T(e){return Bw(e,yw.store)}function vT(e){return Bw(e,mw.store)}class bT{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new bT(0)}static ie(){return new bT(-1)}}class wT{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new bT(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>n_.fromTimestamp(new t_(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ae(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>TT(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(qy(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return TT(e).Kt((s,o)=>{const a=tT(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Pw.waitFor(i)).next(()=>r)}forEachTarget(e,t){return TT(e).Kt((e,n)=>{const r=tT(n);t(r)})}re(e){return CT(e).get(Sw.key).next(e=>(qy(null!==e),e))}oe(e,t){return CT(e).put(Sw.key,t)}ce(e,t){return TT(e).put(nT(this.N,t))}ae(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Z_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return TT(e).Kt({range:r,index:Tw.queryTargetsIndexName},(e,n,r)=>{const s=tT(n);B_(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=ST(e);return t.forEach(t=>{const s=cw(t.path);r.push(i.put(new Cw(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Pw.waitFor(r)}removeMatchingKeys(e,t,n){const r=ST(e);return Pw.forEach(t,t=>{const i=cw(t.path);return Pw.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=ST(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ST(e);let i=_b();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=dw(e[1]),s=new T_(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=cw(t.path),r=IDBKeyRange.bound([n],[e_(n)],!1,!0);let i=0;return ST(e).Kt({index:Cw.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return TT(e).get(t).next(e=>e?tT(e):null)}}function TT(e){return Bw(e,Tw.store)}function CT(e){return Bw(e,Sw.store)}function ST(e){return Bw(e,Cw.store)}function ET(e){return IT.apply(this,arguments)}function IT(){return(IT=(0,Nt.Z)(function*(e){if(e.code!==jy.FAILED_PRECONDITION||e.message!==Nw)throw e;Oy("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function xT([e,t],[n,r]){const i=Jy(e,n);return 0===i?Jy(t,r):i}class kT{constructor(e){this.ue=e,this.buffer=new cb(xT),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();xT(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;Oy("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Nt.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(n){Mw(n)?Oy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield ET(n)}yield t._e(e)}))}}class NT{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Pw.resolve(Ky.T);const n=new kT(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oy("LruGarbageCollector","Garbage collection skipped; disabled"),Pw.resolve(hT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oy("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Oy("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Py()<=Ot.in.DEBUG&&Oy("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(l-a)+`ms\nTotal Duration: ${l-c}ms`),Pw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class RT{constructor(e,t){this.db=e,this.garbageCollector=new NT(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return PT(e,n)}removeReference(e,t,n){return PT(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return PT(e,t)}Ie(e,t){return function(e,t){let n=!1;return vT(e).jt(r=>gT(e,r,t).next(e=>(e&&(n=!0),Pw.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),ST(e).delete([0,cw(s.path)])))});r.push(t)}}).next(()=>Pw.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return PT(e,t)}Ee(e,t){const n=ST(e);let r,i=Ky.T;return n.Kt({index:Cw.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Ky.T&&t(new T_(dw(r)),i),i=o,r=s):i=Ky.T}).next(()=>{i!==Ky.T&&t(new T_(dw(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function PT(e,t){return ST(e).put((n=e.currentSequenceNumber,new Cw(0,cw(t.path),n)));var n}class OT{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){i_(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return s_(this.inner)}}class DT{constructor(){this.changes=new OT(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:n_.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:U_.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pw.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LT{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return qT(e).put(UT(t),n)}removeEntry(e,t){const n=qT(e),r=UT(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return qT(e).get(UT(t)).next(e=>this.Re(t,e))}be(e,t){return qT(e).get(UT(t)).next(e=>({document:this.Re(t,e),size:pT(e)}))}getEntries(e,t){let n=db();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=db(),r=new ob(T_.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,pT(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Pw.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return qT(e).Kt({range:r},(e,t,r)=>{const o=T_.fromSegments(e);for(;s&&T_.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=db();const i=t.path.length+1,s={};if(n.isEqual(n_.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Yw(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=bw.collectionReadTimeIndex}return qT(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Ww(this.N,n);t.path.isPrefixOf(o.key.path)?bv(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new FT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return MT(e).get(ww.key).next(e=>(qy(!!e),e))}Ae(e,t){return MT(e).put(ww.key,t)}Re(e,t){if(t){const e=Ww(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(n_.min()))return e}return U_.newInvalidDocument(e)}}class FT extends DT{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new OT(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new cb((e,t)=>Jy(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Kw(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=pT(a)-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Kw(this.Se.N,U_.newNoDocument(i,n_.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Pw.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function MT(e){return Bw(e,ww.store)}function qT(e){return Bw(e,bw.store)}function UT(e){return e.path.toArray()}class jT{constructor(e){this.N=e}Ct(e,t,n,r){qy(n<r&&n>=0&&r<=11);const i=new Ow("createOrUpgrade",t);var s;n<1&&r>=1&&(e.createObjectStore(pw.store),(s=e).createObjectStore(mw.store,{keyPath:mw.keyPath}),s.createObjectStore(gw.store,{keyPath:gw.keyPath,autoIncrement:!0}).createIndex(gw.userMutationsIndex,gw.userMutationsKeyPath,{unique:!0}),s.createObjectStore(yw.store),VT(e),function(e){e.createObjectStore(bw.store)}(e));let o=Pw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cw.store),e.deleteObjectStore(Tw.store),e.deleteObjectStore(Sw.store)}(e),VT(e)),o=o.next(()=>function(e){const t=e.store(Sw.store),n=new Sw(0,0,n_.min().toTimestamp(),0);return t.put(Sw.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(gw.store).Lt().next(n=>{e.deleteObjectStore(gw.store),e.createObjectStore(gw.store,{keyPath:gw.keyPath,autoIncrement:!0}).createIndex(gw.userMutationsIndex,gw.userMutationsKeyPath,{unique:!0});const r=t.store(gw.store),i=n.map(e=>r.put(e));return Pw.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(Iw.store,{keyPath:Iw.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ce(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(ww.store)}(e),this.Ne(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.ke(e,i))),n<9&&r>=9&&(o=o.next(()=>{(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){const t=e.objectStore(bw.store);t.createIndex(bw.readTimeIndex,bw.readTimeIndexPath,{unique:!1}),t.createIndex(bw.collectionReadTimeIndex,bw.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(()=>this.$e(i))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore(xw.store,{keyPath:xw.keyPath})})(e),function(e){e.createObjectStore(kw.store,{keyPath:kw.keyPath})}(e)})),o}Ne(e){let t=0;return e.store(bw.store).Kt((e,n)=>{t+=pT(n)}).next(()=>{const n=new ww(t);return e.store(ww.store).put(ww.key,n)})}Ce(e){const t=e.store(mw.store),n=e.store(gw.store);return t.Lt().next(t=>Pw.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(gw.userMutationsIndex,r).next(n=>Pw.forEach(n,n=>{qy(n.userId===t.userId);const r=eT(this.N,n);return fT(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Cw.store),n=e.store(bw.store);return e.store(Sw.store).get(Sw.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new a_(n),o=[0,cw(s)];r.push(t.get(o).next(n=>n?Pw.resolve():t.put(new Cw(0,cw(s),e.highestListenSequenceNumber))))}).next(()=>Pw.waitFor(r))})}ke(e,t){e.createObjectStore(Ew.store,{keyPath:Ew.keyPath});const n=t.store(Ew.store),r=new lT,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:cw(r)})}};return t.store(bw.store).Kt({qt:!0},(e,t)=>{const n=new a_(e);return i(n.popLast())}).next(()=>t.store(yw.store).Kt({qt:!0},([e,t,n],r)=>{const s=dw(t);return i(s.popLast())}))}$e(e){const t=e.store(Tw.store);return t.Kt((e,n)=>{const r=tT(n),i=nT(this.N,r);return t.put(i)})}}function VT(e){e.createObjectStore(Cw.store,{keyPath:Cw.keyPath}).createIndex(Cw.documentTargetsIndex,Cw.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tw.store,{keyPath:Tw.keyPath}).createIndex(Tw.queryTargetsIndexName,Tw.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Sw.store)}const ZT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BT{constructor(e,t,n,r,i,s,o,a,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!BT.bt())throw new Vy(jy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RT(this,r),this.We=t+"main",this.N=new Gw(a),this.Ge=new Dw(this.We,11,new jT(this.N)),this.ze=new wT(this.referenceDelegate,this.N),this.Ht=new cT,this.He=new LT(this.N,this.Ht),this.Je=new iT,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Dy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vy(jy.FAILED_PRECONDITION,ZT);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ky(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,Nt.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Nt.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Nt.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>HT(e).put(new Iw(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Mw(e))return Oy("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return zT(e).get(pw.key).next(e=>Pw.resolve(this.an(e)))}un(e){return HT(e).delete(this.clientId)}hn(){var e=this;return(0,Nt.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Bw(t,Iw.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return Pw.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Pw.resolve(!0):zT(e).get(pw.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Vy(jy.FAILED_PRECONDITION,ZT);return!1}}return!(!this.networkEnabled||!this.inForeground)||HT(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Oy("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Nt.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[pw.store,Iw.store],t=>{const n=new Zw(t,Ky.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>HT(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return mT.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Oy("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Aw,i=>(r=new Zw(i,this.Le?this.Le.next():Ky.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Dy(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Vy(jy.FAILED_PRECONDITION,Nw);return n(r)}).next(e=>this.cn(r).next(()=>e)):this.Tn(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}Tn(e){return zT(e).get(pw.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Vy(jy.FAILED_PRECONDITION,ZT)})}cn(e){const t=new pw(this.clientId,this.allowTabSynchronization,Date.now());return zT(e).put(pw.key,t)}static bt(){return Dw.bt()}on(e){const t=zT(e);return t.get(pw.key).next(e=>this.an(e)?(Oy("IndexedDbPersistence","Releasing primary lease."),t.delete(pw.key)):Pw.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Dy(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Oy("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Dy("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Dy("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zT(e){return Bw(e,pw.store)}function HT(e){return Bw(e,Iw.store)}function $T(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class GT{constructor(e,t){this.progress=e,this.En=t}}class WT{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return T_.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):fv(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}Vn(e,t){return this.An(e,new T_(t)).next(e=>{let t=pb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=pb();return this.Ht.getCollectionParents(e,r).next(s=>Pw.forEach(s,s=>{const o=(a=t,l=s.child(r),new ov(l,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,l;return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=U_.newInvalidDocument(n),r=r.insert(n,i)),zv(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{bv(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=_b();for(const s of t)for(const e of s.mutations)e instanceof Kv&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class KT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=_b(),r=_b();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new KT(e,t.fromCache,n,r)}}class YT{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(n_.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(cv(t)||uv(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Py()<=Ot.in.DEBUG&&Oy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vv(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))});var i}Mn(e,t){let n=new cb(wv(e));return t.forEach((t,r)=>{bv(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Py()<=Ot.in.DEBUG&&Oy("QueryEngine","Using full collection scan to execute query:",vv(t)),this.On.getDocumentsMatchingQuery(e,t,n_.min())}}class QT{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new ob(Jy),this.qn=new OT(e=>Z_(e),B_),this.Kn=n_.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new WT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function JT(e,t,n,r){return new QT(e,t,n,r)}function XT(e,t){return eC.apply(this,arguments)}function eC(){return(eC=(0,Nt.Z)(function*(e,t){const n=Uy(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new WT(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=_b();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function tC(e,t){const n=Uy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Pw.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);qy(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function nC(e){const t=Uy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function rC(e,t){const n=Uy(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const l=t.resumeToken;if(l.approximateByteSize()>0){const d=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,d),c=a,h=t,qy((u=d).resumeToken.approximateByteSize()>0),(0===c.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(e,d))}var c,u,h});let a=db();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(iC(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(n_.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Pw.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function iC(e,t,n,r,i){let s=_b();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=db();return n.forEach((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(n_.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Oy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function sC(e,t){const n=Uy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function oC(e,t){const n=Uy(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,Pw.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new $w(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function aC(e,t,n){return lC.apply(this,arguments)}function lC(){return(lC=(0,Nt.Z)(function*(e,t,n){const r=Uy(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!Mw(o))throw o;Oy("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function cC(e,t,n){const r=Uy(e);let i=n_.min(),s=_b();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Uy(e),i=r.qn.get(n);return void 0!==i?Pw.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,mv(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:n_.min(),n?s:_b())).next(e=>({documents:e,Gn:s})))}function uC(e,t){const n=Uy(e),r=Uy(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function hC(e){const t=Uy(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Uy(e);let i=db(),s=Yw(n);const o=qT(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:bw.readTimeIndex,range:a},(e,t)=>{const n=Ww(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:Qw(s)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:n})=>(t.Kn=n,e))}function dC(){return(dC=(0,Nt.Z)(function*(e){const t=Uy(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=qT(e);let n=n_.min();return t.Kt({index:bw.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Qw(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function fC(){return(fC=(0,Nt.Z)(function*(e,t,n,r){const i=Uy(e);let s=_b(),o=db(),a=gb();for(const h of n){const e=t.zn(h.metadata.name);h.document&&(s=s.add(e)),o=o.insert(e,t.Hn(h)),a=a.insert(e,t.Jn(h.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield oC(i,(u=r,mv(lv(a_.fromString(`__bundle__/docs/${u}`)))));var u;return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>iC(e,l,o,n_.min(),a).next(t=>(l.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function pC(e,t){return mC.apply(this,arguments)}function mC(){return(mC=(0,Nt.Z)(function*(e,t,n=_b()){const r=yield oC(e,mv(rT(t.bundledQuery))),i=Uy(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Fb(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(h_.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class gC{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Pw.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fb(n.createTime)}),Pw.resolve()}getNamedQuery(e,t){return Pw.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:rT(n.bundledQuery),readTime:Fb(n.readTime)}),Pw.resolve();var n}}class yC{constructor(){this.Zn=new cb(_C.ts),this.es=new cb(_C.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new _C(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new _C(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new T_(new a_([])),n=new _C(t,e),r=new _C(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new T_(new a_([])),n=new _C(t,e),r=new _C(t,e+1);let i=_b();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new _C(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _C{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return T_.comparator(e.key,t.key)||Jy(e.ls,t.ls)}static ns(e,t){return Jy(e.ls,t.ls)||T_.comparator(e.key,t.key)}}class vC{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new cb(_C.ts)}checkEmpty(e){return Pw.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new zw(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new _C(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Pw.resolve(s)}lookupMutationBatch(e,t){return Pw.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Pw.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Pw.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Pw.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _C(t,0),r=new _C(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),Pw.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cb(Jy);return t.forEach(e=>{const t=new _C(e,0),r=new _C(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Pw.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;T_.isDocumentKey(i)||(i=i.child(""));const s=new _C(new T_(i),0);let o=new cb(Jy);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Pw.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){qy(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Pw.forEach(t.mutations,r=>{const i=new _C(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new _C(t,0),r=this.ds.firstAfterOrEqual(n);return Pw.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Pw.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class bC{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ob(T_.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pw.resolve(n?n.document.clone():U_.newInvalidDocument(t))}getEntries(e,t){let n=db();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():U_.newInvalidDocument(e))}),Pw.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=db();const i=new T_(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||bv(t,i)&&(r=r.insert(i.key,i.clone()))}return Pw.resolve(r)}Ts(e,t){return Pw.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new wC(this)}getSize(e){return Pw.resolve(this.size)}}class wC extends DT{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Pw.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class TC{constructor(e){this.persistence=e,this.Es=new OT(e=>Z_(e),B_),this.lastRemoteSnapshotVersion=n_.min(),this.highestTargetId=0,this.Is=0,this.As=new yC,this.targetCount=0,this.Rs=bT.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),Pw.resolve()}getLastRemoteSnapshotVersion(e){return Pw.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pw.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Pw.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Pw.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new bT(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Pw.resolve()}updateTargetData(e,t){return this.ce(t),Pw.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Pw.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Pw.waitFor(i).next(()=>r)}getTargetCount(e){return Pw.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return Pw.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Pw.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Pw.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Pw.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Pw.resolve(n)}containsKey(e,t){return Pw.resolve(this.As.containsKey(t))}}class CC{constructor(e,t){this.bs={},this.Le=new Ky(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new TC(this),this.Ht=new aT,this.He=new bC(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new Gw(t),this.Je=new gC(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new vC(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Oy("MemoryPersistence","Starting transaction:",e);const r=new SC(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Pw.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class SC extends Rw{constructor(e){super(),this.currentSequenceNumber=e}}class EC{constructor(e){this.persistence=e,this.Ds=new yC,this.Cs=null}static Ns(e){return new EC(e)}get xs(){if(this.Cs)return this.Cs;throw My()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Pw.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Pw.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Pw.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pw.forEach(this.xs,n=>{const r=T_.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Pw.or([()=>Pw.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function IC(e,t){return`firestore_clients_${e}_${t}`}function xC(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function kC(e,t){return`firestore_targets_${e}_${t}`}class AC{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Vy(r.error.code,r.error.message))),s?new AC(e,t,r.state,i):(Dy("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NC{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Vy(n.error.code,n.error.message))),i?new NC(e,n.state,r):(Dy("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=bb();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=w_(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new RC(e,i):(Dy("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class PC{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new PC(t.clientId,t.onlineState):(Dy("SharedClientState",`Failed to parse online state: ${e}`),null)}}class OC{constructor(){this.activeTargetIds=bb()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ob(Jy),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=IC(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new OC),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Nt.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(IC(e.persistenceKey,r));if(t){const n=RC.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(kC(this.persistenceKey,e));if(n){const r=NC.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kC(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oy("SharedClientState","READ",e,t),t}setItem(e,t){Oy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Oy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Dy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Nt.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ci(n.key);return t.ai(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ai(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=Ky.T;if(null!=e)try{const n=JSON.parse(e);qy("number"==typeof n),t=n}catch(n){Dy("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue);e!==Ky.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new AC(this.currentUser,e,t,n),i=xC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=xC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=kC(this.persistenceKey,e),i=new NC(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ci(e);return RC.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return AC.$s(new Ay(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return NC.$s(r,t)}Xs(e){return PC.$s(e)}li(e){var t=this;return(0,Nt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Oy("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=bb();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class LC{constructor(){this.yi=new OC,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new OC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class FC{Ti(e){}shutdown(){}}class MC{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Oy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Oy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class UC{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class jC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Oy("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(Oy("RestConnection","Received: ",e),e),t=>{throw Ly("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ny,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${qC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new xy;o.listenOnce(Ty.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case wy.NO_ERROR:const t=o.getResponseJson();Oy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case wy.TIMEOUT:Oy("Connection",'RPC "'+e+'" timed out'),s(new Vy(jy.DEADLINE_EXCEEDED,"Request time out"));break;case wy.HTTP_ERROR:const n=o.getStatus();if(Oy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jy).indexOf(t)>=0?t:jy.UNKNOWN}(e.status);s(new Vy(t,e.message))}else s(new Vy(jy.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Vy(jy.UNAVAILABLE,"Connection failed."));break;default:My()}}finally{Oy("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=vy(),i=by(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ey({})),this.Ui(s.initMessageHeaders,t),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Oy("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,c=!1;const u=new UC({vi:e=>{c?Oy("Connection","Not sending because WebChannel is closed:",e):(l||(Oy("Connection","Opening WebChannel transport."),a.open(),l=!0),Oy("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,Iy.EventType.OPEN,()=>{c||Oy("Connection","WebChannel transport opened.")}),h(a,Iy.EventType.CLOSE,()=>{c||(c=!0,Oy("Connection","WebChannel transport closed"),u.$i())}),h(a,Iy.EventType.ERROR,e=>{c||(c=!0,Ly("Connection","WebChannel transport errored:",e),u.$i(new Vy(jy.UNAVAILABLE,"The operation could not be completed")))}),h(a,Iy.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];qy(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Oy("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=nb[e];if(void 0!==t)return sb(t)}(e),n=i.message;void 0===t&&(t=jy.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,u.$i(new Vy(t,n)),a.close()}else Oy("Connection","WebChannel received:",n),u.Oi(n)}}),h(i,Cy.STAT_EVENT,e=>{e.stat===Sy.PROXY?Oy("Connection","Detected buffering proxy"):e.stat===Sy.NOPROXY&&Oy("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function VC(){return"undefined"!=typeof window?window:null}function ZC(){return"undefined"!=typeof document?document:null}function BC(e){return new Pb(e,!0)}class zC{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Oy("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class HC{constructor(e,t,n,r,i,s,o){this.Oe=e,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new zC(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,Nt.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,Nt.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var n=this;return(0,Nt.Z)(function*(){n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==e?n.ar.reset():t&&t.code===jy.RESOURCE_EXHAUSTED?(Dy(t.toString()),Dy("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):t&&t.code===jy.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(e=>{this.ir===t&&this.Er(e)},t=>{e(()=>{const e=new Vy(jy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ir(e)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.Ir(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}lr(){var e=this;this.state=5,this.ar.Xi((0,Nt.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Oy("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Oy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $C extends HC{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i),this.N=r}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:My(),s=t.targetChange.targetIds||[],o=function(e,t){return e.D?(qy(void 0===t||"string"==typeof t),h_.fromBase64String(t||"")):(qy(void 0===t||t instanceof Uint8Array),h_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?jy.UNKNOWN:sb(e.code);return new Vy(t,e.message||"")}(a);n=new Eb(i,s,o,l||null)}else if("documentChange"in t){const r=t.documentChange,i=jb(e,r.document.name),s=Fb(r.document.updateTime),o=new M_({mapValue:{fields:r.document.fields}}),a=U_.newFoundDocument(i,s,o);n=new Cb(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=jb(e,r.document),s=r.readTime?Fb(r.readTime):n_.min(),o=U_.newNoDocument(i,s);n=new Cb([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=jb(e,r.document);n=new Cb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return My();{const e=t.filter,r=new tb(e.count||0);n=new Sb(e.targetId,r)}}var r;return n}(this.N,e),n=function(e){if(!("targetChange"in e))return n_.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?n_.min():t.readTime?Fb(t.readTime):n_.min()}(e);return this.listener.Rr(t,n)}br(e){const t={};t.database=Bb(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=z_(r)?{documents:Kb(e,r)}:{query:Yb(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Db(e,t.resumeToken):t.snapshotVersion.compareTo(n_.min())>0&&(n.readTime=Ob(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return My()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.mr(t)}Pr(e){const t={};t.database=Bb(this.N),t.removeTarget=e,this.mr(t)}}class GC extends HC{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(qy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(e,t){return e&&e.length>0?(qy(void 0!==t),e.map(e=>function(e,t){let n=Fb(e.updateTime?e.updateTime:t);return n.isEqual(n_.min())&&(n=Fb(t)),new Uv(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Fb(e.commitTime);return this.listener.Dr(n,t)}return qy(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Bb(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Gb(this.N,e))};this.mr(t)}}class WC extends class{}{constructor(e,t,n){super(),this.credentials=e,this.sr=t,this.N=n,this.kr=!1}$r(){if(this.kr)throw new Vy(jy.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jy.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Vy(jy.UNKNOWN,e.toString())})}Ki(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jy.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Vy(jy.UNKNOWN,e.toString())})}terminate(){this.kr=!0}}class KC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Dy(t),this.Mr=!1):Oy("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class YC{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(e=>{n.enqueueAndForget((0,Nt.Z)(function*(){var e;aS(s)&&(Oy("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Nt.Z)(function*(e){const t=Uy(e);t.Wr.add(4),yield XC(t),t.Hr.set("Unknown"),t.Wr.delete(4),yield QC(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Hr=new KC(n,r)}}function QC(e){return JC.apply(this,arguments)}function JC(){return(JC=(0,Nt.Z)(function*(e){if(aS(e))for(const t of e.Gr)yield t(!0)})).apply(this,arguments)}function XC(e){return eS.apply(this,arguments)}function eS(){return(eS=(0,Nt.Z)(function*(e){for(const t of e.Gr)yield t(!1)})).apply(this,arguments)}function tS(e,t){const n=Uy(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),oS(n)?sS(n):DS(n).hr()&&rS(n,t))}function nS(e,t){const n=Uy(e),r=DS(n);n.Qr.delete(t),r.hr()&&iS(n,t),0===n.Qr.size&&(r.hr()?r.wr():aS(n)&&n.Hr.set("Unknown"))}function rS(e,t){e.Jr.Y(t.targetId),DS(e).br(t)}function iS(e,t){e.Jr.Y(t),DS(e).Pr(t)}function sS(e){e.Jr=new xb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.Qr.get(t)||null}),DS(e).start(),e.Hr.Lr()}function oS(e){return aS(e)&&!DS(e).ur()&&e.Qr.size>0}function aS(e){return 0===Uy(e).Wr.size}function lS(e){e.Jr=void 0}function cS(e){return uS.apply(this,arguments)}function uS(){return(uS=(0,Nt.Z)(function*(e){e.Qr.forEach((t,n)=>{rS(e,t)})})).apply(this,arguments)}function hS(e,t){return dS.apply(this,arguments)}function dS(){return(dS=(0,Nt.Z)(function*(e,t){lS(e),oS(e)?(e.Hr.qr(t),sS(e)):e.Hr.set("Unknown")})).apply(this,arguments)}function fS(e,t,n){return pS.apply(this,arguments)}function pS(){return(pS=(0,Nt.Z)(function*(e,t,n){if(e.Hr.set("Online"),t instanceof Eb&&2===t.state&&t.cause)try{yield(r=(0,Nt.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.Qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.Qr.delete(r),e.Jr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(r){Oy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield mS(e,r)}else if(t instanceof Cb?e.Jr.rt(t):t instanceof Sb?e.Jr.ft(t):e.Jr.at(t),!n.isEqual(n_.min()))try{const t=yield nC(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Jr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Qr.get(t);if(!n)return;e.Qr.set(t,n.withResumeToken(h_.EMPTY_BYTE_STRING,n.snapshotVersion)),iS(e,t);const r=new $w(n.target,t,1,n.sequenceNumber);rS(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(r){Oy("RemoteStore","Failed to raise snapshot:",r),yield mS(e,r)}var r})).apply(this,arguments)}function mS(e,t,n){return gS.apply(this,arguments)}function gS(){return(gS=(0,Nt.Z)(function*(e,t,n){if(!Mw(t))throw t;e.Wr.add(1),yield XC(e),e.Hr.set("Offline"),n||(n=()=>nC(e.localStore)),e.asyncQueue.enqueueRetryable((0,Nt.Z)(function*(){Oy("RemoteStore","Retrying IndexedDB access"),yield n(),e.Wr.delete(1),yield QC(e)}))})).apply(this,arguments)}function yS(e,t){return t().catch(n=>mS(e,n,t))}function _S(e){return vS.apply(this,arguments)}function vS(){return(vS=(0,Nt.Z)(function*(e){const t=Uy(e),n=LS(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;bS(t);)try{const e=yield sC(t.localStore,r);if(null===e){0===t.jr.length&&n.wr();break}r=e.batchId,wS(t,e)}catch(i){yield mS(t,i)}TS(t)&&CS(t)})).apply(this,arguments)}function bS(e){return aS(e)&&e.jr.length<10}function wS(e,t){e.jr.push(t);const n=LS(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function TS(e){return aS(e)&&!LS(e).ur()&&e.jr.length>0}function CS(e){LS(e).start()}function SS(e){return ES.apply(this,arguments)}function ES(){return(ES=(0,Nt.Z)(function*(e){LS(e).Nr()})).apply(this,arguments)}function IS(e){return xS.apply(this,arguments)}function xS(){return(xS=(0,Nt.Z)(function*(e){const t=LS(e);for(const n of e.jr)t.Sr(n.mutations)})).apply(this,arguments)}function kS(e,t,n){return AS.apply(this,arguments)}function AS(){return(AS=(0,Nt.Z)(function*(e,t,n){const r=e.jr.shift(),i=Hw.from(r,t,n);yield yS(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield _S(e)})).apply(this,arguments)}function NS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=(0,Nt.Z)(function*(e,t){var n;t&&LS(e).Vr&&(yield(n=(0,Nt.Z)(function*(e,t){if(ib(n=t.code)&&n!==jy.ABORTED){const n=e.jr.shift();LS(e).dr(),yield yS(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield _S(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),TS(e)&&CS(e)})).apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return(OS=(0,Nt.Z)(function*(e,t){const n=Uy(e);t?(n.Wr.delete(2),yield QC(n)):t||(n.Wr.add(2),yield XC(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function DS(e){return e.Yr||(e.Yr=function(e,t,n){const r=Uy(e);return r.$r(),new $C(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:cS.bind(null,e),Ci:hS.bind(null,e),Rr:fS.bind(null,e)}),e.Gr.push(function(){var t=(0,Nt.Z)(function*(t){t?(e.Yr.dr(),oS(e)?sS(e):e.Hr.set("Unknown")):(yield e.Yr.stop(),lS(e))});return function(e){return t.apply(this,arguments)}}())),e.Yr}function LS(e){return e.Xr||(e.Xr=function(e,t,n){const r=Uy(e);return r.$r(),new GC(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:SS.bind(null,e),Ci:NS.bind(null,e),Cr:IS.bind(null,e),Dr:kS.bind(null,e)}),e.Gr.push(function(){var t=(0,Nt.Z)(function*(t){t?(e.Xr.dr(),yield _S(e)):(yield e.Xr.stop(),e.jr.length>0&&(Oy("RemoteStore",`Stopping write stream with ${e.jr.length} pending writes`),e.jr=[]))});return function(e){return t.apply(this,arguments)}}())),e.Xr}class FS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new FS(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vy(jy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MS(e,t){if(Dy("AsyncQueue",`${t}: ${e}`),Mw(e))return new Vy(jy.UNAVAILABLE,`${t}: ${e}`);throw e}class qS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||T_.comparator(t.key,n.key):(e,t)=>T_.comparator(e.key,t.key),this.keyedMap=pb(),this.sortedSet=new ob(this.comparator)}static emptySet(e){return new qS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qS)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class US{constructor(){this.Zr=new ob(T_.comparator)}track(e){const t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):My():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,n)=>{e.push(n)}),e}}class jS{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new jS(e,t,qS.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class VS{constructor(){this.no=void 0,this.listeners=[]}}class ZS{constructor(){this.queries=new OT(e=>_v(e),yv),this.onlineState="Unknown",this.so=new Set}}function BS(e,t){return zS.apply(this,arguments)}function zS(){return(zS=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new VS),i)try{s.no=yield n.onListen(r)}catch(o){const e=MS(o,`Initialization of query '${vv(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.listeners.push(t),t.io(n.onlineState),s.no&&t.ro(s.no)&&KS(n)})).apply(this,arguments)}function HS(e,t){return $S.apply(this,arguments)}function $S(){return($S=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function GS(e,t){const n=Uy(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.ro(i)&&(r=!0);e.no=i}}r&&KS(n)}function WS(e,t,n){const r=Uy(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function KS(e){e.so.forEach(e=>{e.next()})}class YS{constructor(e,t,n){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=jS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class QS{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class JS{constructor(e){this.N=e}zn(e){return jb(this.N,e)}Hn(e){return e.metadata.exists?$b(this.N,e.document,!1):U_.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Fb(e)}}class XS{constructor(e,t,n){this._o=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=eE(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,n=new JS(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||_b()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Nt.Z)(function*(){const t=yield function(e,t,n,r){return fC.apply(this,arguments)}(e.localStore,new JS(e.N),e.documents,e._o.id),n=e.yo(e.documents);for(const r of e.queries)yield pC(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new GT(Object.assign({},e.progress),t)})()}}function eE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class tE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class rE{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=_b(),this.mutatedKeys=_b(),this.Io=wv(e),this.Ao=new qS(this.Io)}get Ro(){return this.po}bo(e,t){const n=t?t.Po:new US,r=t?t.Ao:this.Ao;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=cv(this.query)&&r.size===this.query.limit?r.last():null,l=uv(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=bv(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.vo(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Io(u,a)>0||l&&this.Io(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),cv(this.query)||uv(this.query))for(;s.size>this.query.limit;){const e=cv(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const i=e.Po.eo();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return My()}};return n(e)-n(t)}(e.type,t.type)||this.Io(e.doc,t.doc)),this.Vo(n);const s=t?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new jS(this.query,e.Ao,r,i,e.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new US,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(e=>this.po=this.po.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=_b(),this.Ao.forEach(e=>{this.Co(e.key)&&(this.Eo=this.Eo.add(e.key))});const t=[];return e.forEach(e=>{this.Eo.has(e)||t.push(new nE(e))}),this.Eo.forEach(n=>{e.has(n)||t.push(new tE(n))}),t}No(e){this.po=e.Gn,this.Eo=_b();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return jS.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class iE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sE{constructor(e){this.key=e,this.ko=!1}}class oE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new OT(e=>_v(e),yv),this.Fo=new Map,this.Mo=new Set,this.Lo=new ob(T_.comparator),this.Bo=new Map,this.Uo=new yC,this.qo={},this.Ko=new Map,this.jo=bT.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function aE(e,t){return lE.apply(this,arguments)}function lE(){return(lE=(0,Nt.Z)(function*(e,t){const n=QE(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=yield oC(n.localStore,mv(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield cE(n,t,r,"current"===s),n.isPrimaryClient&&tS(n.remoteStore,e)}return i})).apply(this,arguments)}function cE(e,t,n,r){return uE.apply(this,arguments)}function uE(){return(uE=(0,Nt.Z)(function*(e,t,n,r){e.Wo=(t,n,r)=>{return(i=(0,Nt.Z)(function*(e,t,n,r){let i=t.view.bo(n);i.Ln&&(i=yield cC(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return kE(e,t.targetId,o.Do),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield cC(e.localStore,t,!0),s=new rE(t,i.Gn),o=s.bo(i.documents),a=Tb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);kE(e,n,l.Do);const c=new iE(t,n,s);return e.Oo.set(t,c),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),l.snapshot})).apply(this,arguments)}function hE(e,t){return dE.apply(this,arguments)}function dE(){return(dE=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=n.Oo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(e=>!yv(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield aC(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nS(n.remoteStore,r.targetId),IE(n,r.targetId)}).catch(ET))):(IE(n,r.targetId),yield aC(n.localStore,r.targetId,!0))})).apply(this,arguments)}function fE(){return(fE=(0,Nt.Z)(function*(e,t,n){const r=JE(e);try{const e=yield function(e,t){const n=Uy(e),r=t_.now(),i=t.reduce((e,t)=>e.add(t.key),_b());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Hv(e,s.get(e.key));null!=t&&o.push(new Kv(e.key,t,q_(t.value.mapValue),jv.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qo[e.currentUser.toKey()];r||(r=new ob(Jy)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield RE(r,e.changes),yield _S(r.remoteStore)}catch(i){const e=MS(i,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function pE(e,t){return mE.apply(this,arguments)}function mE(){return(mE=(0,Nt.Z)(function*(e,t){const n=Uy(e);try{const e=yield rC(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Bo.get(t);r&&(qy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ko=!0:e.modifiedDocuments.size>0?qy(r.ko):e.removedDocuments.size>0&&(qy(r.ko),r.ko=!1))}),yield RE(n,e,t)}catch(r){yield ET(r)}})).apply(this,arguments)}function gE(e,t,n){const r=Uy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.io(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Uy(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.io(t)&&(r=!0)}),r&&KS(n)}(r.eventManager,t),e.length&&r.$o.Rr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yE(e,t,n){return _E.apply(this,arguments)}function _E(){return(_E=(0,Nt.Z)(function*(e,t,n){const r=Uy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Bo.get(t),s=i&&i.key;if(s){let e=new ob(T_.comparator);e=e.insert(s,U_.newNoDocument(s,n_.min()));const n=_b().add(s),i=new wb(n_.min(),new Map,new cb(Jy),e,n);yield pE(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(t),NE(r)}else yield aC(r.localStore,t,!1).then(()=>IE(r,t,n)).catch(ET)})).apply(this,arguments)}function vE(e,t){return bE.apply(this,arguments)}function bE(){return(bE=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=t.batch.batchId;try{const e=yield tC(n.localStore,t);EE(n,r,null),SE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield RE(n,e)}catch(i){yield ET(i)}})).apply(this,arguments)}function wE(e,t,n){return TE.apply(this,arguments)}function TE(){return(TE=(0,Nt.Z)(function*(e,t,n){const r=Uy(e);try{const e=yield function(e,t){const n=Uy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(qy(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);EE(r,t,n),SE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield RE(r,e)}catch(i){yield ET(i)}})).apply(this,arguments)}function CE(){return(CE=(0,Nt.Z)(function*(e,t){const n=Uy(e);aS(n.remoteStore)||Oy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Uy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ko.get(e)||[];r.push(t),n.Ko.set(e,r)}catch(r){const e=MS(r,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}})).apply(this,arguments)}function SE(e,t){(e.Ko.get(t)||[]).forEach(e=>{e.resolve()}),e.Ko.delete(t)}function EE(e,t,n){const r=Uy(e);let i=r.qo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function IE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Oo.delete(r),n&&e.$o.Go(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach(t=>{e.Uo.containsKey(t)||xE(e,t)})}function xE(e,t){e.Mo.delete(t.path.canonicalString());const n=e.Lo.get(t);null!==n&&(nS(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),NE(e))}function kE(e,t,n){for(const r of n)r instanceof tE?(e.Uo.addReference(r.key,t),AE(e,r)):r instanceof nE?(Oy("SyncEngine","Document no longer in limbo: "+r.key),e.Uo.removeReference(r.key,t),e.Uo.containsKey(r.key)||xE(e,r.key)):My()}function AE(e,t){const n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(Oy("SyncEngine","New document in limbo: "+n),e.Mo.add(r),NE(e))}function NE(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){const t=e.Mo.values().next().value;e.Mo.delete(t);const n=new T_(a_.fromString(t)),r=e.jo.next();e.Bo.set(r,new sE(n)),e.Lo=e.Lo.insert(n,r),tS(e.remoteStore,new $w(mv(lv(n.path)),r,2,Ky.T))}}function RE(e,t,n){return PE.apply(this,arguments)}function PE(){return(PE=(0,Nt.Z)(function*(e,t,n){const r=Uy(e),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Wo(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=KT.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=(0,Nt.Z)(function*(e,t){const n=Uy(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Pw.forEach(t,t=>Pw.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Pw.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Mw(r))throw r;Oy("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function OE(e,t){return DE.apply(this,arguments)}function DE(){return(DE=(0,Nt.Z)(function*(e,t){const n=Uy(e);if(!n.currentUser.isEqual(t)){Oy("SyncEngine","User change. New user:",t.toKey());const e=yield XT(n.localStore,t);n.currentUser=t,(r=n).Ko.forEach(e=>{e.forEach(e=>{e.reject(new Vy(jy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ko.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield RE(n,e.Wn)}var r})).apply(this,arguments)}function LE(e,t){const n=Uy(e),r=n.Bo.get(t);if(r&&r.ko)return _b().add(r.key);{let e=_b();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Ro)}return e}}function FE(e,t){return ME.apply(this,arguments)}function ME(){return(ME=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=yield cC(n.localStore,t.query,!0),i=t.view.No(r);return n.isPrimaryClient&&kE(n,t.targetId,i.Do),i})).apply(this,arguments)}function qE(e){return UE.apply(this,arguments)}function UE(){return(UE=(0,Nt.Z)(function*(e){const t=Uy(e);return hC(t.localStore).then(e=>RE(t,e))})).apply(this,arguments)}function jE(e,t,n,r){return VE.apply(this,arguments)}function VE(){return(VE=(0,Nt.Z)(function*(e,t,n,r){const i=Uy(e),s=yield function(e,t){const n=Uy(e),r=Uy(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Pw.resolve(null)))}(i.localStore,t);var o;null!==s?("pending"===n?yield _S(i.remoteStore):"acknowledged"===n||"rejected"===n?(EE(i,t,r||null),SE(i,t),o=t,Uy(Uy(i.localStore).In).te(o)):My(),yield RE(i,s)):Oy("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ZE(){return(ZE=(0,Nt.Z)(function*(e,t){const n=Uy(e);if(QE(n),JE(n),!0===t&&!0!==n.Qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield BE(n,e.toArray());n.Qo=!0,yield PS(n.remoteStore,!0);for(const r of t)tS(n.remoteStore,r)}else if(!1===t&&!1!==n.Qo){const e=[];let t=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(IE(n,i),aC(n.localStore,i,!0))),nS(n.remoteStore,i)}),yield t,yield BE(n,e),function(e){const t=Uy(e);t.Bo.forEach((e,n)=>{nS(t.remoteStore,n)}),t.Uo.us(),t.Bo=new Map,t.Lo=new ob(T_.comparator)}(n),n.Qo=!1,yield PS(n.remoteStore,!1)}})).apply(this,arguments)}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return(zE=(0,Nt.Z)(function*(e,t,n){const r=Uy(e),i=[],s=[];for(const o of t){let e;const t=r.Fo.get(o);if(t&&0!==t.length){e=yield oC(r.localStore,mv(t[0]));for(const e of t){const t=r.Oo.get(e),n=yield FE(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield uC(r.localStore,o);e=yield oC(r.localStore,t),yield cE(r,HE(t),o,!1)}i.push(e)}return r.$o.Rr(s),i})).apply(this,arguments)}function HE(e){return av(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $E(e){const t=Uy(e);return Uy(Uy(t.localStore).persistence).pn()}function GE(e,t,n,r){return WE.apply(this,arguments)}function WE(){return(WE=(0,Nt.Z)(function*(e,t,n,r){const i=Uy(e);if(i.Qo)Oy("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=yield hC(i.localStore),r=wb.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield RE(i,e,r);break}case"rejected":yield aC(i.localStore,t,!0),IE(i,t,r);break;default:My()}})).apply(this,arguments)}function KE(e,t,n){return YE.apply(this,arguments)}function YE(){return(YE=(0,Nt.Z)(function*(e,t,n){const r=QE(e);if(r.Qo){for(const e of t){if(r.Fo.has(e)){Oy("SyncEngine","Adding an already active target "+e);continue}const t=yield uC(r.localStore,e),n=yield oC(r.localStore,t);yield cE(r,HE(t),n.targetId,!1),tS(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&(yield aC(r.localStore,e,!1).then(()=>{nS(r.remoteStore,e),IE(r,e)}).catch(ET))}})).apply(this,arguments)}function QE(e){const t=Uy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yE.bind(null,t),t.$o.Rr=GS.bind(null,t.eventManager),t.$o.Go=WS.bind(null,t.eventManager),t}function JE(e){const t=Uy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wE.bind(null,t),t}class XE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Nt.Z)(function*(){t.N=BC(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return JT(this.persistence,new YT,e.initialUser,this.N)}Jo(e){return new CC(EC.Ns,this.N)}Ho(e){return new LC}terminate(){var e=this;return(0,Nt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eI extends XE{constructor(e,t,n){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Nt.Z)(function*(){yield t().call(n,e),yield function(e){return dC.apply(this,arguments)}(n.localStore),yield n.Zo.initialize(n,e),yield JE(n.Zo.syncEngine),yield _S(n.Zo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Xo(e){return JT(this.persistence,new YT,e.initialUser,this.N)}Yo(e){return new AT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=$T(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dT.withCacheSize(this.cacheSizeBytes):dT.DEFAULT;return new BT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,VC(),ZC(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new LC}}class tI extends eI{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Nt.Z)(function*(){yield t().call(n,e);const r=n.Zo.syncEngine;n.sharedClientState instanceof DC&&(n.sharedClientState.syncEngine={_i:jE.bind(null,r),mi:GE.bind(null,r),gi:KE.bind(null,r),pn:$E.bind(null,r),wi:qE.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,Nt.Z)(function*(e){yield function(e,t){return ZE.apply(this,arguments)}(n.Zo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Ho(e){const t=VC();if(!DC.bt(t))throw new Vy(jy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=$T(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class nI{initialize(e,t){var n=this;return(0,Nt.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>gE(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=OE.bind(null,n.syncEngine),yield PS(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZS}createDatastore(e){const t=BC(e.databaseInfo.databaseId),n=new jC(e.databaseInfo);return new WC(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>gE(this.syncEngine,e,0),s=MC.bt()?new MC:new FC,new YC(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new oE(e,t,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Nt.Z)(function*(e){const t=Uy(e);Oy("RemoteStore","RemoteStore shutting down."),t.Wr.add(5),yield XC(t),t.zr.shutdown(),t.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rI(e,t=10240){let n=0;return{read:()=>(0,Nt.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Nt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sI{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Zy,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(e=>{e&&e.wo()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,Nt.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,Nt.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,Nt.Z)(function*(){const t=yield e.rc();if(null===t)return null;const n=e.sc.decode(t),r=Number(n);isNaN(r)&&e.oc(`length string (${n}) is not valid number`);const i=yield e.cc(r);return new QS(JSON.parse(i),t.length+r)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,Nt.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}cc(e){var t=this;return(0,Nt.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const n=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,Nt.Z)(function*(){const t=yield e.nc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class oI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Nt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Vy(jy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=Bb(n.N)+"/documents",i={documents:t.map(e=>Ub(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){qy(!!t.found);const n=jb(e,t.found.name),r=Fb(t.found.updateTime),i=new M_({mapValue:{fields:t.found.fields}});return U_.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){qy(!!t.missing),qy(!!t.readTime);const n=jb(e,t.missing),r=Fb(t.readTime);return U_.newNoDocument(n,r)}(e,t):My()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());qy(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Nt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=T_.fromPath(n);e.mutations.push(new eb(r,e.precondition(r)))}),yield(n=(0,Nt.Z)(function*(e,t){const n=Uy(e),r=Bb(n.N)+"/documents",i={writes:t.map(e=>Gb(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw My();t=n_.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vy(jy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jv.updateTime(t):jv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(n_.min()))throw new Vy(jy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jv.updateTime(t)}return jv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aI{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new zC(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,Nt.Z)(function*(){const t=new oI(e.datastore),n=e.fc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.dc(t)}))}).catch(t=>{e.dc(t)})}))}fc(e){try{const t=this.updateFunction(e);return!v_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ib(t)}return!1}}class lI{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ay.UNAUTHENTICATED,this.clientId=Qy.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,Nt.Z)(function*(e){Oy("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Nt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vy(jy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Nt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=MS(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function cI(e,t){return uI.apply(this,arguments)}function uI(){return(uI=(0,Nt.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Oy("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Nt.Z)(function*(e){r.isEqual(e)||(yield XT(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return(dI=(0,Nt.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield fI(e);Oy("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Nt.Z)(function*(e,t){const n=Uy(e);n.asyncQueue.verifyOperationInProgress(),Oy("RemoteStore","RemoteStore received new credentials");const r=aS(n);n.Wr.add(3),yield XC(n),r&&n.Hr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Wr.delete(3),yield QC(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function fI(e){return pI.apply(this,arguments)}function pI(){return(pI=(0,Nt.Z)(function*(e){return e.offlineComponents||(Oy("FirestoreClient","Using default OfflineComponentProvider"),yield cI(e,new XE)),e.offlineComponents})).apply(this,arguments)}function mI(e){return gI.apply(this,arguments)}function gI(){return(gI=(0,Nt.Z)(function*(e){return e.onlineComponents||(Oy("FirestoreClient","Using default OnlineComponentProvider"),yield hI(e,new nI)),e.onlineComponents})).apply(this,arguments)}function yI(e){return fI(e).then(e=>e.persistence)}function _I(e){return fI(e).then(e=>e.localStore)}function vI(e){return mI(e).then(e=>e.remoteStore)}function bI(e){return mI(e).then(e=>e.syncEngine)}function wI(e){return TI.apply(this,arguments)}function TI(){return(TI=(0,Nt.Z)(function*(e){const t=yield mI(e),n=t.eventManager;return n.onListen=aE.bind(null,t.syncEngine),n.onUnlisten=hE.bind(null,t.syncEngine),n})).apply(this,arguments)}function CI(e,t,n={}){const r=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return function(e,t,n,r,i){const s=new iI({next:s=>{t.enqueueAndForget(()=>HS(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Vy(jy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Vy(jy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new YS(lv(n.path),s,{includeMetadataChanges:!0,fo:!0});return BS(e,o)}(yield wI(e),e.asyncQueue,t,n,r)})),r.promise}function SI(e,t,n={}){const r=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return function(e,t,n,r,i){const s=new iI({next:n=>{t.enqueueAndForget(()=>HS(e,o)),n.fromCache&&"server"===r.source?i.reject(new Vy(jy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new YS(n,s,{includeMetadataChanges:!0,fo:!0});return BS(e,o)}(yield wI(e),e.asyncQueue,t,n,r)})),r.promise}class EI{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class II{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof II&&e.projectId===this.projectId&&e.database===this.database}}const xI=new Map;function kI(e,t,n){if(!n)throw new Vy(jy.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function AI(e,t,n,r){if(!0===t&&!0===r)throw new Vy(jy.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function NI(e){if(!T_.isDocumentKey(e))throw new Vy(jy.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function RI(e){if(T_.isDocumentKey(e))throw new Vy(jy.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function PI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":My()}function OI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vy(jy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PI(e);throw new Vy(jy.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function DI(e,t){if(t<=0)throw new Vy(jy.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class LI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Vy(jy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vy(jy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,AI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class FI{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LI({}),this._settingsFrozen=!1,e instanceof II?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vy(jy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new II(e.options.projectId)}(e))}get app(){if(!this._app)throw new Vy(jy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vy(jy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LI(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new zy;switch(e.type){case"gapi":const t=e.client;return qy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vy(jy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xI.get(e);t&&(Oy("ComponentProvider","Removing Datastore"),xI.delete(e),t.terminate())}(this),Promise.resolve()}}class MI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new UI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new MI(this.firestore,e,this._key)}}class qI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qI(this.firestore,e,this._query)}}class UI extends qI{constructor(e,t,n){super(e,t,lv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new MI(this.firestore,null,new T_(e))}withConverter(e){return new UI(this.firestore,e,this._path)}}function jI(e,t,...n){if(e=(0,Pt.m9)(e),kI("collection","path",t),e instanceof FI){const r=a_.fromString(t,...n);return RI(r),new UI(e,null,r)}{if(!(e instanceof MI||e instanceof UI))throw new Vy(jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(a_.fromString(t,...n));return RI(r),new UI(e.firestore,null,r)}}function VI(e,t,...n){if(e=(0,Pt.m9)(e),1===arguments.length&&(t=Qy.I()),kI("doc","path",t),e instanceof FI){const r=a_.fromString(t,...n);return NI(r),new MI(e,null,new T_(r))}{if(!(e instanceof MI||e instanceof UI))throw new Vy(jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(a_.fromString(t,...n));return NI(r),new MI(e.firestore,e instanceof UI?e.converter:null,new T_(r))}}function ZI(e,t){return e=(0,Pt.m9)(e),t=(0,Pt.m9)(t),(e instanceof MI||e instanceof UI)&&(t instanceof MI||t instanceof UI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BI(e,t){return e=(0,Pt.m9)(e),t=(0,Pt.m9)(t),e instanceof qI&&t instanceof qI&&e.firestore===t.firestore&&yv(e._query,t._query)&&e.converter===t.converter}class zI{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new zC(this,"async_queue_retry"),this.Rc=()=>{const e=ZC();e&&Oy("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const e=ZC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=ZC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Zy;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,Nt.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Mw(t))throw t;Oy("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(e=>{throw this.Tc=e,this.Ec=!1,Dy("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ec=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const r=FS.createAndSchedule(this,e,t,n,e=>this.Vc(e));return this.yc.push(r),r}bc(){this.Tc&&My()}verifyOperationInProgress(){}Sc(){var e=this;return(0,Nt.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function HI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class $I{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class GI extends FI{constructor(e,t){super(e,t),this.type="firestore",this._queue=new zI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||KI(this),this._firestoreClient.terminate()}}function WI(e){return e._firestoreClient||KI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function KI(e){var t;const n=e._freezeSettings(),r=(i=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new EI(e._databaseId,i,e._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;e._firestoreClient=new lI(e._credentials,e._queue,r)}function YI(e,t,n){const r=new Zy;return e.asyncQueue.enqueue((0,Nt.Z)(function*(){try{yield cI(e,n),yield hI(e,t),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===jy.FAILED_PRECONDITION||i.code===jy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function QI(e){if(e._initialized||e._terminated)throw new Vy(jy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class JI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Vy(jy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new c_(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new XI(h_.fromBase64String(e))}catch(t){throw new Vy(jy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new XI(h_.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ex{constructor(e){this._methodName=e}}class tx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vy(jy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vy(jy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jy(this._lat,e._lat)||Jy(this._long,e._long)}}const nx=/^__.*__$/;class rx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Kv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wv(e,this.data,t,this.fieldTransforms)}}class ix{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Kv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw My()}}class ox{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new ox(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}Lc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Ix(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(sx(this.kc)&&nx.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class ax{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||BC(e)}jc(e,t,n,r=!1){return new ox({kc:e,methodName:t,Kc:n,path:c_.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function lx(e){const t=e._freezeSettings(),n=BC(e._databaseId);return new ax(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cx(e,t,n,r,i,s={}){const o=e.jc(s.merge||s.mergeFields?2:0,t,n,i);Tx("Data must be an object, but it was:",o,r);const a=bx(r,o);let l,c;if(s.merge)l=new u_(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cx(t,r,n);if(!o.contains(i))throw new Vy(jy.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);xx(e,i)||e.push(i)}l=new u_(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new rx(new M_(a),l,c)}class ux extends ex{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ux}}function hx(e,t,n){return new ox({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class dx extends ex{_toFieldTransform(e){return new qv(e.path,new Nv)}isEqual(e){return e instanceof dx}}class fx extends ex{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=hx(this,e,!0),n=this.Qc.map(e=>vx(e,t)),r=new Rv(n);return new qv(e.path,r)}isEqual(e){return this===e}}class px extends ex{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=hx(this,e,!0),n=this.Qc.map(e=>vx(e,t)),r=new Ov(n);return new qv(e.path,r)}isEqual(e){return this===e}}class mx extends ex{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Lv(e.N,Ev(e.N,this.Wc));return new qv(e.path,t)}isEqual(e){return this===e}}function gx(e,t,n,r){const i=e.jc(1,t,n);Tx("Data must be an object, but it was:",i,r);const s=[],o=M_.empty();i_(r,(e,r)=>{const a=Ex(t,e,n);r=(0,Pt.m9)(r);const l=i.Lc(a);if(r instanceof ux)s.push(a);else{const e=vx(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new u_(s);return new ix(o,a,i.fieldTransforms)}function yx(e,t,n,r,i,s){const o=e.jc(1,t,n),a=[Cx(t,r,n)],l=[i];if(s.length%2!=0)throw new Vy(jy.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Cx(t,s[d])),l.push(s[d+1]);const c=[],u=M_.empty();for(let d=a.length-1;d>=0;--d)if(!xx(c,a[d])){const e=a[d];let t=l[d];t=(0,Pt.m9)(t);const n=o.Lc(e);if(t instanceof ux)c.push(e);else{const r=vx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new u_(c);return new ix(u,h,o.fieldTransforms)}function _x(e,t,n,r=!1){return vx(n,e.jc(r?4:3,t))}function vx(e,t){if(wx(e=(0,Pt.m9)(e)))return Tx("Unsupported field value:",t,e),bx(e,t);if(e instanceof ex)return function(e,t){if(!sx(t.kc))throw t.Uc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Uc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=vx(i,t.Bc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Pt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ev(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=t_.fromDate(e);return{timestampValue:Ob(t.N,n)}}if(e instanceof t_){const n=new t_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ob(t.N,n)}}if(e instanceof tx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XI)return{bytesValue:Db(t.N,e._byteString)};if(e instanceof MI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Mb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc(`Unsupported field value: ${PI(e)}`)}(e,t)}function bx(e,t){const n={};return s_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):i_(e,(e,r)=>{const i=vx(r,t.Oc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function wx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof t_||e instanceof tx||e instanceof XI||e instanceof MI||e instanceof ex)}function Tx(e,t,n){if(!wx(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=PI(n);throw t.Uc("an object"===r?e+" a custom object":e+" "+r)}var r}function Cx(e,t,n){if((t=(0,Pt.m9)(t))instanceof JI)return t._internalPath;if("string"==typeof t)return Ex(e,t);throw Ix("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Sx=new RegExp("[~\\*/\\[\\]]");function Ex(e,t,n){if(t.search(Sx)>=0)throw Ix(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new JI(...t.split("."))._internalPath}catch(r){throw Ix(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ix(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Vy(jy.INVALID_ARGUMENT,a+e+l)}function xx(e,t){return e.some(e=>e.isEqual(t))}class kx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new MI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ax extends kx{data(){return super.data()}}function Nx(e,t){return"string"==typeof t?Ex(e,t):t instanceof JI?t._internalPath:t._delegate._internalPath}class Rx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Px extends kx{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Nx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ox extends Px{data(e={}){return super.data(e)}}class Dx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ox(this._firestore,this._userDataWriter,n.key,n,new Rx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vy(jy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Ox(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Rx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ox(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Rx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Lx(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return My()}}function Fx(e,t){return e instanceof Px&&t instanceof Px?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Dx&&t instanceof Dx&&e._firestore===t._firestore&&BI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Mx(e){if(uv(e)&&0===e.explicitOrderBy.length)throw new Vy(jy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qx{}function Ux(e,...t){for(const n of t)e=n._apply(e);return e}class jx extends qx{constructor(e,t,n){super(),this.Gc=e,this.zc=t,this.Hc=n,this.type="where"}_apply(e){const t=lx(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Vy(jy.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Gx(o,s);const t=[];for(const n of o)t.push($x(r,e,n));a={arrayValue:{values:t}}}else a=$x(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Gx(o,s),a=_x(n,"where",o,"in"===s||"not-in"===s);const l=H_.create(i,s,a);return function(e,t){if(t.v()){const n=dv(e);if(null!==n&&!n.isEqual(t.field))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=hv(e);null!==r&&Wx(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Vy(jy.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new qI(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ov(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Vx extends qx{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Vy(jy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vy(jy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new nv(t,n);return function(e,t){if(null===hv(e)){const n=dv(e);null!==n&&Wx(0,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new qI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ov(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Zx extends qx{constructor(e,t,n){super(),this.type=e,this.Yc=t,this.Xc=n}_apply(e){return new qI(e.firestore,e.converter,gv(e._query,this.Yc,this.Xc))}}class Bx extends qx{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=Hx(e,this.type,this.Zc,this.ta);return new qI(e.firestore,e.converter,(r=t,new ov((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class zx extends qx{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=Hx(e,this.type,this.Zc,this.ta);return new qI(e.firestore,e.converter,(r=t,new ov((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function Hx(e,t,n,r){if(n[0]=(0,Pt.m9)(n[0]),n[0]instanceof kx)return function(e,t,n,r,i){if(!r)throw new Vy(jy.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of pv(e))if(o.field.isKeyField())s.push(N_(t,r.key));else{const e=r.data.field(o.field);if(g_(e))throw new Vy(jy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ev(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=lx(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Vy(jy.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!fv(e)&&-1!==s.indexOf("/"))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(a_.fromString(s));if(!T_.isDocumentKey(n))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new T_(n);a.push(N_(t,i))}else{const e=_x(n,r,s);a.push(e)}}return new ev(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function $x(e,t,n){if("string"==typeof(n=(0,Pt.m9)(n))){if(""===n)throw new Vy(jy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fv(t)&&-1!==n.indexOf("/"))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(a_.fromString(n));if(!T_.isDocumentKey(r))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N_(e,new T_(r))}if(n instanceof MI)return N_(e,n._key);throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${PI(n)}.`)}function Gx(e,t){if(!Array.isArray(e)||0===e.length)throw new Vy(jy.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Vy(jy.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Wx(e,t,n){if(!n.isEqual(t))throw new Vy(jy.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Kx{convertValue(e,t="none"){switch(C_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return p_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(m_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw My()}}convertObject(e,t){const n={};return i_(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new tx(p_(e.latitude),p_(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=y_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(__(e));default:return null}}convertTimestamp(e){const t=f_(e);return new t_(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=a_.fromString(e);qy(lw(n));const r=new II(n.get(1),n.get(3)),i=new T_(n.popFirst(5));return r.isEqual(t)||Dy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Yx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qx extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new XI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new MI(this.firestore,null,t)}}class Jx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lx(e)}set(e,t,n){this._verifyNotCommitted();const r=Xx(e,this._firestore),i=Yx(r.converter,t,n),s=cx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,jv.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Xx(e,this._firestore);let s;return s="string"==typeof(t=(0,Pt.m9)(t))||t instanceof JI?yx(this._dataReader,"WriteBatch.update",i._key,t,n,r):gx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,jv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xx(e,this._firestore);return this._mutations=this._mutations.concat(new Xv(t._key,jv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vy(jy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xx(e,t){if((e=(0,Pt.m9)(e)).firestore!==t)throw new Vy(jy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ek extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new XI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new MI(this.firestore,null,t)}}function tk(e,t,n){e=OI(e,MI);const r=OI(e.firestore,GI),i=Yx(e.converter,t,n);return ik(r,[cx(lx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jv.none())])}function nk(e,t,n,...r){e=OI(e,MI);const i=OI(e.firestore,GI),s=lx(i);let o;return o="string"==typeof(t=(0,Pt.m9)(t))||t instanceof JI?yx(s,"updateDoc",e._key,t,n,r):gx(s,"updateDoc",e._key,t),ik(i,[o.toMutation(e._key,jv.exists(!0))])}function rk(e,...t){var n,r,i;e=(0,Pt.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||HI(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(HI(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof MI)c=OI(e.firestore,GI),u=lv(e._key.path),l={next:n=>{t[o]&&t[o](sk(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=OI(e,qI);c=OI(n.firestore,GI),u=n._query;const r=new ek(c);l={next:e=>{t[o]&&t[o](new Dx(c,r,n,e))},error:t[o+1],complete:t[o+2]},Mx(e._query)}return function(e,t,n,r){const i=new iI(r),s=new YS(t,i,n);return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return BS(yield wI(e),s)})),()=>{i.ec(),e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return HS(yield wI(e),s)}))}}(WI(c),u,a,l)}function ik(e,t){return function(e,t){const n=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return function(e,t,n){return fE.apply(this,arguments)}(yield bI(e),t,n)})),n.promise}(WI(e),t)}function sk(e,t,n){const r=n.docs.get(t._key),i=new ek(e);return new Px(e,i,t._key,r,new Rx(n.hasPendingWrites,n.fromCache),t.converter)}class ok extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lx(e)}get(e){const t=Xx(e,this._firestore),n=new Qx(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return My();const r=e[0];if(r.isFoundDocument())return new kx(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new kx(this._firestore,n,t._key,null,t.converter);throw My()})}set(e,t,n){const r=Xx(e,this._firestore),i=Yx(r.converter,t,n),s=cx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Xx(e,this._firestore);let s;return s="string"==typeof(t=(0,Pt.m9)(t))||t instanceof JI?yx(this._dataReader,"Transaction.update",i._key,t,n,r):gx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Xx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xx(e,this._firestore),n=new ek(this._firestore);return super.get(e).then(e=>new Px(this._firestore,n,t._key,e._document,new Rx(!1,!1),t.converter))}}function ak(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vy("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function lk(){if("undefined"==typeof Uint8Array)throw new Vy("unimplemented","Uint8Arrays are not available in this environment.")}function ck(){if("undefined"==typeof atob)throw new Vy("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Ny=Rt.SDK_VERSION,(0,Rt._registerComponent)(new At.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new GI(r,new $y(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,Rt.registerVersion)(ky,"3.3.1",e),(0,Rt.registerVersion)(ky,"3.3.1","esm2017")}();class uk{constructor(e){this._delegate=e}static fromBase64String(e){return ck(),new uk(XI.fromBase64String(e))}static fromUint8Array(e){return lk(),new uk(XI.fromUint8Array(e))}toBase64(){return ck(),this._delegate.toBase64()}toUint8Array(){return lk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class dk{enableIndexedDbPersistence(e,t){return function(e,t){QI(e=OI(e,GI));const n=WI(e),r=e._freezeSettings(),i=new nI;return YI(n,i,new eI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){QI(e=OI(e,GI));const t=WI(e),n=e._freezeSettings(),r=new nI;return YI(t,r,new tI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Vy(jy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Zy;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Nt.Z)(function*(){try{yield(n=(0,Nt.Z)(function*(e){if(!Dw.bt())return Promise.resolve();const t=e+"main";yield Dw.delete(t)}),function(e){return n.apply(this,arguments)})($T(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(e._delegate)}}class fk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof II||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ly("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=OI(e,FI))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ly("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ay.MOCK_USER;else{t=(0,Pt.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Vy(jy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ay(s)}e._credentials=new Hy(new By(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Nt.Z)(function*(){const t=yield yI(e),n=yield vI(e);return t.setNetworkEnabled(!0),function(e){const t=Uy(e);return t.Wr.delete(0),QC(t)}(n)}))}(WI(e=OI(e,GI)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Nt.Z)(function*(){const t=yield yI(e),n=yield vI(e);return t.setNetworkEnabled(!1),(r=(0,Nt.Z)(function*(e){const t=Uy(e);t.Wr.add(0),yield XC(t),t.Hr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(WI(e=OI(e,GI)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,AI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return function(e,t){return CE.apply(this,arguments)}(yield bI(e),t)})),t.promise}(WI(e=OI(e,GI)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new iI(t);return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return t=yield wI(e),r=n,Uy(t).so.add(r),void r.next();var t,r})),()=>{n.ec(),e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return t=yield wI(e),r=n,void Uy(t).so.delete(r);var t,r}))}}(WI(e=OI(e,GI)),HI(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Vy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xk(this,jI(this._delegate,e))}catch(t){throw vk(t,"collection()","Firestore.collection()")}}doc(e){try{return new _k(this,VI(this._delegate,e))}catch(t){throw vk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sk(this,function(e,t){if(e=OI(e,FI),kI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vy(jy.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qI(e,null,(n=t,new ov(a_.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw vk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){const r=yield(i=e,mI(i).then(e=>e.datastore));var i;new aI(e.asyncQueue,r,t,n).run()})),n.promise}(WI(e=OI(e,GI)),n=>t(new ok(e,n)))}(this._delegate,t=>e(new mk(this,t)))}batch(){return WI(this._delegate),new gk(new Jx(this._delegate,e=>ik(this._delegate,e)))}loadBundle(e){return function(e,t){const n=WI(e=OI(e,GI)),r=new $I;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return rI(e,t);if(e instanceof ArrayBuffer)return rI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new sI(r,t);var r}(n,BC(t));e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){!function(e,t,n){const r=Uy(e);var i;(i=(0,Nt.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=Uy(e),r=Fb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,i))return yield t.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(eE(i));const s=new XS(i,e.localStore,t.N);let o=yield t.zo();for(;o;){const e=yield s.mo(o);e&&n._updateProgress(e),o=yield t.zo()}const a=yield s.complete();yield RE(e,a.En,void 0),yield function(e,t){const n=Uy(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(a.progress)}catch(i){Ly("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield bI(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Nt.Z)(function*(){return function(e,t){const n=Uy(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield _I(e),t)}))}(WI(e=OI(e,GI)),t).then(t=>t?new qI(e,null,t.query):null)}(this._delegate,e).then(e=>e?new Sk(this,e):null)}}class pk extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new uk(new XI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _k.forKey(t,this.firestore,null)}}class mk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pk(e)}get(e){const t=kk(e);return this._delegate.get(t).then(e=>new Tk(this._firestore,new Px(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=kk(e);return n?(ak("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=kk(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=kk(e);return this._delegate.delete(t),this}}class gk{constructor(e){this._delegate=e}set(e,t,n){const r=kk(e);return n?(ak("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=kk(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=kk(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Ox(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ck(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=yk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new yk(e,new pk(e),t),r.set(t,i)),i}}yk.INSTANCES=new WeakMap;class _k{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pk(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Vy("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _k(t,new MI(t._delegate,n,new T_(e)))}static forKey(e,t,n){return new _k(t,new MI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new xk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xk(this.firestore,jI(this._delegate,e))}catch(t){throw vk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof MI&&ZI(this._delegate,e)}set(e,t){t=ak("DocumentReference.set",t);try{return t?tk(this._delegate,e,t):tk(this._delegate,e)}catch(n){throw vk(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?nk(this._delegate,e):nk(this._delegate,e,t,...n)}catch(r){throw vk(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return ik(OI(e.firestore,GI),[new Xv(e._key,jv.none())])}(this._delegate)}onSnapshot(...e){const t=bk(e),n=wk(e,e=>new Tk(this.firestore,new Px(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return rk(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=OI(e,MI);const t=OI(e.firestore,GI),n=WI(t),r=new ek(t);return function(e,t){const n=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return(r=(0,Nt.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Uy(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Vy(jy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const e=MS(r,`Failed to get document '${t} from cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield _I(e),t,n);var r})),n.promise}(n,e._key).then(n=>new Px(t,r,e._key,n,new Rx(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=OI(e,MI);const t=OI(e.firestore,GI);return CI(WI(t),e._key,{source:"server"}).then(n=>sk(t,e,n))}(this._delegate):function(e){e=OI(e,MI);const t=OI(e.firestore,GI);return CI(WI(t),e._key).then(n=>sk(t,e,n))}(this._delegate),t.then(e=>new Tk(this.firestore,new Px(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new _k(this.firestore,this._delegate.withConverter(e?yk.getInstance(this.firestore,e):null))}}function vk(e,t,n){return e.message=e.message.replace(t,n),e}function bk(e){for(const t of e)if("object"==typeof t&&!hk(t))return t;return{}}function wk(e,t){var n,r;let i;return i=hk(e[0])?e[0]:hk(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Tk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _k(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Fx(this._delegate,e._delegate)}}class Ck extends Tk{data(e){const t=this._delegate.data(e);return function(e,t){e||My()}(void 0!==t),t}}class Sk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pk(e)}where(e,t,n){try{return new Sk(this.firestore,Ux(this._delegate,function(e,t,n){const r=t,i=Nx("where",e);return new jx(i,r,n)}(e,t,n)))}catch(r){throw vk(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sk(this.firestore,Ux(this._delegate,function(e,t="asc"){const n=t,r=Nx("orderBy",e);return new Vx(r,n)}(e,t)))}catch(n){throw vk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sk(this.firestore,Ux(this._delegate,function(e){return DI("limit",e),new Zx("limit",e,"F")}(e)))}catch(t){throw vk(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sk(this.firestore,Ux(this._delegate,function(e){return DI("limitToLast",e),new Zx("limitToLast",e,"L")}(e)))}catch(t){throw vk(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sk(this.firestore,Ux(this._delegate,function(...e){return new Bx("startAt",e,!0)}(...e)))}catch(t){throw vk(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sk(this.firestore,Ux(this._delegate,function(...e){return new Bx("startAfter",e,!1)}(...e)))}catch(t){throw vk(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sk(this.firestore,Ux(this._delegate,function(...e){return new zx("endBefore",e,!0)}(...e)))}catch(t){throw vk(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sk(this.firestore,Ux(this._delegate,function(...e){return new zx("endAt",e,!1)}(...e)))}catch(t){throw vk(t,"endAt()","Query.endAt()")}}isEqual(e){return BI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=OI(e,qI);const t=OI(e.firestore,GI),n=WI(t),r=new ek(t);return function(e,t){const n=new Zy;return e.asyncQueue.enqueueAndForget((0,Nt.Z)(function*(){return(r=(0,Nt.Z)(function*(e,t,n){try{const r=yield cC(e,t,!0),i=new rE(t,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const e=MS(r,`Failed to execute query '${t} against cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield _I(e),t,n);var r})),n.promise}(n,e._query).then(n=>new Dx(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=OI(e,qI);const t=OI(e.firestore,GI),n=WI(t),r=new ek(t);return SI(n,e._query,{source:"server"}).then(n=>new Dx(t,r,e,n))}(this._delegate):function(e){e=OI(e,qI);const t=OI(e.firestore,GI),n=WI(t),r=new ek(t);return Mx(e._query),SI(n,e._query).then(n=>new Dx(t,r,e,n))}(this._delegate),t.then(e=>new Ik(this.firestore,new Dx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=bk(e),n=wk(e,e=>new Ik(this.firestore,new Dx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return rk(this._delegate,t,n)}withConverter(e){return new Sk(this.firestore,this._delegate.withConverter(e?yk.getInstance(this.firestore,e):null))}}class Ek{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ck(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ik{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ck(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Ek(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Ck(this._firestore,n))})}isEqual(e){return Fx(this._delegate,e._delegate)}}class xk extends Sk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _k(this.firestore,e):null}doc(e){try{return new _k(this.firestore,void 0===e?VI(this._delegate):VI(this._delegate,e))}catch(t){throw vk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=OI(e.firestore,GI),r=VI(e),i=Yx(e.converter,t);return ik(n,[cx(lx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jv.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new _k(this.firestore,e))}isEqual(e){return ZI(this._delegate,e._delegate)}withConverter(e){return new xk(this.firestore,this._delegate.withConverter(e?yk.getInstance(this.firestore,e):null))}}function kk(e){return OI(e,MI)}class Ak{constructor(...e){this._delegate=new JI(...e)}static documentId(){return new Ak(c_.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof JI&&this._delegate._internalPath.isEqual(e._internalPath)}}class Nk{constructor(e){this._delegate=e}static serverTimestamp(){const e=new dx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Nk(e)}static delete(){const e=new ux("deleteField");return e._methodName="FieldValue.delete",new Nk(e)}static arrayUnion(...e){const t=function(...e){return new fx("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Nk(t)}static arrayRemove(...e){const t=function(...e){return new px("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Nk(t)}static increment(e){const t=function(e){return new mx("increment",e)}(e);return t._methodName="FieldValue.increment",new Nk(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Rk={Firestore:fk,GeoPoint:tx,Timestamp:t_,Blob:uk,Transaction:mk,WriteBatch:gk,DocumentReference:_k,DocumentSnapshot:Tk,Query:Sk,QueryDocumentSnapshot:Ck,QuerySnapshot:Ik,CollectionReference:xk,FieldPath:Ak,FieldValue:Nk,setLogLevel:function(e){!function(e){Ry.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function Pk(e,t){return function(e,t=Ie.z){return new De(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Ok(e,t){return Pk(e,t).pipe(lt(e=>({payload:e,type:"query"})))}function Dk(e,t){return Ok(e,t).pipe(vf(void 0),bf(),lt(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Lk(e,t,n){return Dk(e,n).pipe(Ct((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Fk(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Fk(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Fk(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),St(),lt(e=>e.map(e=>({type:e.type,payload:e}))))}function Fk(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Mk(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}!function(e){(function(e,t){e.INTERNAL.registerComponent(new At.wA("firestore-compat",e=>((e,t)=>new fk(e,t,new dk))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Rk)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.8")}(kt.Z);class qk{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Dk(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(lt(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(vf(void 0),bf(),Wa(([e,t])=>t.length>0||!e),lt(([e,t])=>t),xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ct((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Mk(e);return Lk(this.query,t,this.afs.schedulers.outsideAngular).pipe(xt.iC)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe(lt(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),xt.iC)}get(e){return it(this.query.get(e)).pipe(xt.iC)}add(e){return this.ref.add(e)}doc(e){return new Uk(this.ref.doc(e),this.afs)}}class Uk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=Hk(n,t);return new qk(r,i,this.afs)}snapshotChanges(){return function(e,t){return Pk(e,t).pipe(vf(void 0),bf(),lt(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe(lt(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return it(this.ref.get(e)).pipe(xt.iC)}}class jk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Dk(this.query,this.afs.schedulers.outsideAngular).pipe(lt(t=>t.filter(t=>e.indexOf(t.type)>-1)),Wa(e=>e.length>0),xt.iC):Dk(this.query,this.afs.schedulers.outsideAngular).pipe(xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ct((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Mk(e);return Lk(this.query,t,this.afs.schedulers.outsideAngular).pipe(xt.iC)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe(lt(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),xt.iC)}get(e){return it(this.query.get(e)).pipe(xt.iC)}}const Vk=new r.OlP("angularfire2.enableFirestorePersistence"),Zk=new r.OlP("angularfire2.firestore.persistenceSettings"),Bk=new r.OlP("angularfire2.firestore.settings"),zk=new r.OlP("angularfire2.firestore.use-emulator");function Hk(e,t=(e=>e)){return{query:t(e),ref:e}}let $k=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){this.schedulers=o;const y=(0,Ee.on)(e,s,t),_=l;c&&Ul(y,s,u,d,f,p,h,m),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),_&&e.useEmulator(..._),n&&!V(i)){const t=()=>{try{return it(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),st(!1)}};return[e,s.runOutsideAngular(t)]}return[e,st(!1)]},[r,_,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=Hk(n,t),s=this.schedulers.ngZone.run(()=>r);return new qk(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new jk(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Uk(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ee.Dh),r.LFG(Ee.xv,8),r.LFG(Vk,8),r.LFG(Bk,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xt.HU),r.LFG(Zk,8),r.LFG(zk,8),r.LFG(jl,8),r.LFG(Ol,8),r.LFG(Dl,8),r.LFG(Ll,8),r.LFG(Fl,8),r.LFG(Ml,8),r.LFG(ql,8),r.LFG(Rl,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Gk=(()=>{class e{constructor(){Pl.Z.registerVersion("angularfire",xt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:Vk,useValue:!0},{provide:Zk,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[$k]}),e})(),Wk=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-header"]],decls:58,vars:0,consts:[[1,"bg-feldgrau","py-5"],[1,"container","px-5"],[1,"row","gx-5","align-items-center","justify-content-center"],[1,"col-lg-8","col-xl-7","col-xxl-6"],[1,"my-5","text-center","text-xl-start"],[1,"display-5","fw-bolder","text-white","mb-2"],[1,"lead","fw-normal","text-white-50","mb-4"],[1,"d-grid","gap-3","d-sm-flex","justify-content-sm-center","justify-content-xl-start"],["href","#features",1,"btn","btn-primary","btn-lg","px-4","me-sm-3"],["href","#!",1,"btn","btn-outline-light","btn-lg","px-4"],[1,"col-xl-5","col-xxl-6","d-none","d-xl-block","text-center"],["src","https://images.unsplash.com/photo-1616530940355-351fabd9524b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjB8fG1vdmllfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60","width","600","height","400","alt","random movies",1,"rounded-3","my-5"],[1,"container","mt-5","mb-5"],[1,"card-deck"],[1,"col-sm-2","border","border-dark","card"],["src","https://images.fandango.com/ImageRenderer/200/0/redesign/static/img/default_poster.png/0/images/masterrepository/Fandango/223021/FND_poster_VenomLTBC_PreSale.jpg","alt","Card image cap","width","400","height","300",1,"card-img-top","img-fluid"],[1,"card-body"],[1,"card-title","font-RobotoMono"],[1,"card-text"],[1,"text-muted"]],template:function(e,t){1&e&&(r.TgZ(0,"header",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"h1",5),r._uU(6,"Watch what you desire based on your mood!"),r.qZA(),r.TgZ(7,"p",6),r._uU(8,"Take a quick test that will customize your desired movies and build the optimal recommendations for you."),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"a",8),r._uU(11,"Get Started"),r.qZA(),r.TgZ(12,"a",9),r._uU(13,"Learn More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",10),r._UZ(15,"img",11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"div",13),r.TgZ(18,"div",14),r._UZ(19,"img",15),r.TgZ(20,"div",16),r.TgZ(21,"h5",17),r._uU(22,"VENOM: LET THERE BE CARNAGE (2021)"),r.qZA(),r.TgZ(23,"p",18),r.TgZ(24,"small",19),r._uU(25,"Fri, Oct 1"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",14),r._UZ(27,"img",15),r.TgZ(28,"div",16),r.TgZ(29,"h5",17),r._uU(30,"VENOM: LET THERE BE CARNAGE (2021)"),r.qZA(),r.TgZ(31,"p",18),r.TgZ(32,"small",19),r._uU(33,"Fri, Oct 1"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",14),r._UZ(35,"img",15),r.TgZ(36,"div",16),r.TgZ(37,"h5",17),r._uU(38,"VENOM: LET THERE BE CARNAGE (2021)"),r.qZA(),r.TgZ(39,"p",18),r.TgZ(40,"small",19),r._uU(41,"Fri, Oct 1"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(42,"div",14),r._UZ(43,"img",15),r.TgZ(44,"div",16),r.TgZ(45,"h5",17),r._uU(46,"VENOM: LET THERE BE CARNAGE (2021)"),r.qZA(),r.TgZ(47,"p",18),r.TgZ(48,"small",19),r._uU(49,"Fri, Oct 1"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"div",14),r._UZ(51,"img",15),r.TgZ(52,"div",16),r.TgZ(53,"h5",17),r._uU(54,"VENOM: LET THERE BE CARNAGE (2021)"),r.qZA(),r.TgZ(55,"p",18),r.TgZ(56,"small",19),r._uU(57,"Fri, Oct 1"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:['.navbar[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif}.brand-name[_ngcontent-%COMP%]{font-size:2em}']}),e})(),Kk=(()=>{class e{constructor(e,t){this.afAuth=e,this.firestore=t}ngOnInit(){}logout(){this.afAuth.signOut()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(jl),r.Y36($k))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"app-header")},directives:[Wk],styles:[""]}),e})();var Yk=n(1555);function Qk(...e){if(1===e.length){const t=e[0];if((0,fc.k)(t))return Jk(t,null);if((0,Yk.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Jk(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Jk(e=1===e.length&&(0,fc.k)(e[0])?e[0]:e,null).pipe((0,xc.U)(e=>t(...e)))}return Jk(e,null)}function Jk(e,t){return new vc.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,sc.D)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,(s===r||!c)&&(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let Xk=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),eA=(()=>{class e extends Xk{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const tA=new r.OlP("NgValueAccessor"),nA={provide:tA,useExisting:(0,r.Gpc)(()=>iA),multi:!0},rA=new r.OlP("CompositionEventMode");let iA=(()=>{class e extends Xk{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(rA,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([nA]),r.qOj]}),e})();function sA(e){return null==e||0===e.length}function oA(e){return null!=e&&"number"==typeof e.length}const aA=new r.OlP("NgValidators"),lA=new r.OlP("NgAsyncValidators"),cA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class uA{static min(e){return function(e){return t=>{if(sA(t.value)||sA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(sA(t.value)||sA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return sA(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return sA(e.value)||cA.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>sA(t.value)||!oA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>oA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return hA;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(sA(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return yA(e)}static composeAsync(e){return vA(e)}}function hA(e){return null}function dA(e){return null!=e}function fA(e){const t=(0,r.QGY)(e)?(0,sc.D)(e):e;return(0,r.CqO)(t),t}function pA(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function mA(e,t){return t.map(t=>t(e))}function gA(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function yA(e){if(!e)return null;const t=e.filter(dA);return 0==t.length?null:function(e){return pA(mA(e,t))}}function _A(e){return null!=e?yA(gA(e)):null}function vA(e){if(!e)return null;const t=e.filter(dA);return 0==t.length?null:function(e){return Qk(mA(e,t).map(fA)).pipe((0,xc.U)(pA))}}function bA(e){return null!=e?vA(gA(e)):null}function wA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function TA(e){return e._rawValidators}function CA(e){return e._rawAsyncValidators}function SA(e){return e?Array.isArray(e)?e:[e]:[]}function EA(e,t){return Array.isArray(e)?e.includes(t):e===t}function IA(e,t){const n=SA(t);return SA(e).forEach(e=>{EA(n,e)||n.push(e)}),n}function xA(e,t){return SA(t).filter(t=>!EA(e,t))}let kA=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_A(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),AA=(()=>{class e extends kA{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class NA extends kA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RA{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let PA=(()=>{class e extends RA{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(NA,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),OA=(()=>{class e extends RA{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(AA,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function DA(e,t){MA(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&UA(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&UA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function LA(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),qA(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function FA(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function MA(e,t){const n=TA(e);null!==t.validator?e.setValidators(wA(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=CA(e);null!==t.asyncValidator?e.setAsyncValidators(wA(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();FA(t._rawValidators,i),FA(t._rawAsyncValidators,i)}function qA(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=TA(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=CA(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return FA(t._rawValidators,r),FA(t._rawAsyncValidators,r),n}function UA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jA(e,t){MA(e,t)}function VA(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function ZA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const BA="VALID",zA="INVALID",HA="PENDING",$A="DISABLED";function GA(e){return(QA(e)?e.validators:e)||null}function WA(e){return Array.isArray(e)?_A(e):e||null}function KA(e,t){return(QA(t)?t.asyncValidators:e)||null}function YA(e){return Array.isArray(e)?bA(e):e||null}function QA(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class JA{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=WA(this._rawValidators),this._composedAsyncValidatorFn=YA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===BA}get invalid(){return this.status===zA}get pending(){return this.status==HA}get disabled(){return this.status===$A}get enabled(){return this.status!==$A}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=WA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=YA(e)}addValidators(e){this.setValidators(IA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xA(e,this._rawAsyncValidators))}hasValidator(e){return EA(this._rawValidators,e)}hasAsyncValidator(e){return EA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=HA,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$A,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=BA,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===BA||this.status===HA)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$A:BA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=HA,this._hasOwnPendingAsyncValidator=!0;const t=fA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(e=>{r=r instanceof eN?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof tN&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?$A:this.errors?zA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(HA)?HA:this._anyControlsHaveStatus(zA)?zA:BA}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){QA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class XA extends JA{constructor(e=null,t,n){super(GA(t),KA(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class eN extends JA{constructor(e,t,n){super(GA(t),KA(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof XA?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class tN extends JA{constructor(e,t,n){super(GA(t),KA(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof XA?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const nN={provide:AA,useExisting:(0,r.Gpc)(()=>iN)},rN=(()=>Promise.resolve(null))();let iN=(()=>{class e extends AA{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new eN({},_A(e),bA(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rN.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),DA(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rN.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),ZA(this._directives,e)})}addFormGroup(e){rN.then(()=>{const t=this._findContainer(e.path),n=new eN({});jA(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rN.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){rN.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,VA(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(aA,10),r.Y36(lA,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([nN]),r.qOj]}),e})(),sN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),oN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const aN=new r.OlP("NgModelWithFormControlWarning"),lN={provide:AA,useExisting:(0,r.Gpc)(()=>cN)};let cN=(()=>{class e extends AA{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return DA(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){LA(e.control||null,e,!1),ZA(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,VA(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(LA(t||null,e),n instanceof XA&&(DA(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);jA(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return qA(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MA(this.form,this),this._oldForm&&qA(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(aA,10),r.Y36(lA,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([lN]),r.qOj,r.TTD]}),e})();const uN={provide:NA,useExisting:(0,r.Gpc)(()=>hN)};let hN=(()=>{class e extends NA{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===iA?n=e:function(e){return Object.getPrototypeOf(e.constructor)===eA}(e)?r=e:i=e}),i||r||n||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(AA,13),r.Y36(aA,10),r.Y36(lA,10),r.Y36(tA,10),r.Y36(aN,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([uN]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})(),dN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[oN]]}),e})(),fN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[dN]}),e})(),pN=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:aN,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[dN]}),e})(),mN=(()=>{class e{constructor(e,t,n){this.router=e,this.afAuth=t,this.afs=n,this.userLoggedIn=!1,this.userID="emptyID",this.email="emptyEmail",this.afAuth.onAuthStateChanged(e=>{e?(this.userLoggedIn=!0,this.userID=e.uid,this.email=e.email,console.log(e.displayName),console.log(e.email),console.log(this.userID)):this.userLoggedIn=!1})}onReadCollect(e){this.afs.collection("users",t=>t.where("email","==",e)).get().subscribe(e=>{e.forEach(e=>{this.userID=e.id})})}getEmail(){return this.email}loginUser(e,t){return this.onReadCollect(e),this.afAuth.signInWithEmailAndPassword(e,t).then(()=>{console.log("Auth Service: loginUser: success")}).catch(e=>(console.log("Auth Service: login error..."),console.log("error code",e.code),console.log("error",e),e.code?{isValid:!1,message:e.message}:null))}signupUser(e){return this.afAuth.createUserWithEmailAndPassword(e.email,e.password).then(t=>{let n=e.email.toLowerCase();this.afs.doc("/users/"+n).set({accountType:"endUser",displayName:e.displayName,displayName_lower:e.displayName.toLowerCase(),email:e.email,email_lower:n})}).catch(e=>(console.log("Auth Service: signup error",e),e.code?{isValid:!1,message:e.message}:null))}logoutUser(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/home"])}).catch(e=>(console.log("Auth Service: logout error..."),console.log("error code",e.code),console.log("error",e),e.code?e:null))}getAll(){this.afs.collection("users").snapshotChanges().subscribe(e=>{console.log("response",e)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Gd),r.LFG(jl),r.LFG($k))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class gN extends fu.w{constructor(e,t){super()}schedule(e,t=0){return this}}class yN extends gN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let _N=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class vN extends _N{constructor(e,t=_N.now){super(e,()=>vN.delegate&&vN.delegate!==this?vN.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return vN.delegate&&vN.delegate!==this?vN.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const bN=new vN(yN);class wN{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new TN(e,this.dueTime,this.scheduler))}}class TN extends Pc.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CN,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function CN(e){e.debouncedNext()}class SN{constructor(e){this.total=e}call(e,t){return t.subscribe(new EN(e,this.total))}}class EN extends Pc.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class IN{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new xN(e,this.compare,this.keySelector))}}class xN extends Pc.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function kN(e){return t=>t.lift(new AN(e))}class AN{constructor(e){this.notifier=e}call(e,t){const n=new NN(e),r=(0,mc.D)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class NN extends pc.L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function RN(e){return null!=e&&"false"!=`${e}`}function PN(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function ON(e){return Array.isArray(e)?e:[e]}function DN(e){return null==e?"":"string"==typeof e?e:`${e}px`}function LN(e){return e instanceof r.SBq?e.nativeElement:e}let FN;try{FN="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(SU){FN=!1}let MN,qN=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(e){return"browser"===e}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FN)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),UN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const jN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VN(){if(MN)return MN;if("object"!=typeof document||!document)return MN=new Set(jN),MN;let e=document.createElement("input");return MN=new Set(jN.filter(t=>(e.setAttribute("type",t),e.type===t))),MN}let ZN,BN,zN;function HN(e){return function(){if(null==ZN&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ZN=!0}))}finally{ZN=ZN||!1}return ZN}()?e:!!e.capture}function $N(){if(null==BN){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return BN=!1,BN;if("scrollBehavior"in document.documentElement.style)BN=!0;else{const e=Element.prototype.scrollTo;BN=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return BN}function GN(e){if(function(){if(null==zN){const e="undefined"!=typeof document?document.head:null;zN=!(!e||!e.createShadowRoot&&!e.attachShadow)}return zN}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function WN(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function KN(e){return e.composedPath?e.composedPath()[0]:e.target}function YN(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let QN=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),JN=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=LN(e);return new vc.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new uc.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(QN))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(QN))},token:e,providedIn:"root"}),e})(),XN=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=RN(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=PN(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function(e,t=bN){return n=>n.lift(new wN(e,t))}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(JN),r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),eR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[QN]}),e})(),tR=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}(function(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(e));if(t&&(-1===rR(t)||!this.isVisible(t)))return!1;let n=e.nodeName.toLowerCase(),r=rR(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==r:"video"===n?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||nR(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qN))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(qN))},token:e,providedIn:"root"}),e})();function nR(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function rR(e){if(!nR(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class iR{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Dc(1)).subscribe(e)}}let sR=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new iR(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(tR),r.LFG(r.R0b),r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(tR),r.LFG(r.R0b),r.LFG(o))},token:e,providedIn:"root"}),e})();function oR(e){return 0===e.offsetX&&0===e.offsetY}function aR(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const lR=new r.OlP("cdk-input-modality-detector-options"),cR={ignoreKeys:[18,17,224,91,16]},uR=HN({passive:!0,capture:!0});let hR=(()=>{class e{constructor(e,t,n,r){this._platform=e,this._mostRecentTarget=null,this._modality=new dc(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,n;(null===(n=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===n?void 0:n.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=KN(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oR(e)?"keyboard":"mouse"),this._mostRecentTarget=KN(e))},this._onTouchstart=e=>{aR(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=KN(e))},this._options=Object.assign(Object.assign({},cR),r),this.modalityDetected=this._modality.pipe(function(e){return t=>t.lift(new SN(e))}(1)),this.modalityChanged=this.modalityDetected.pipe(function(e,t){return n=>n.lift(new IN(e,t))}()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,uR),n.addEventListener("mousedown",this._onMousedown,uR),n.addEventListener("touchstart",this._onTouchstart,uR)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,uR),document.removeEventListener("mousedown",this._onMousedown,uR),document.removeEventListener("touchstart",this._onTouchstart,uR))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qN),r.LFG(r.R0b),r.LFG(o),r.LFG(lR,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(qN),r.LFG(r.R0b),r.LFG(o),r.LFG(lR,8))},token:e,providedIn:"root"}),e})();const dR=new r.OlP("cdk-focus-monitor-default-options"),fR=HN({passive:!0,capture:!0});let pR=(()=>{class e{constructor(e,t,n,r,i){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new uc.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=KN(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){const n=LN(e);if(!this._platform.isBrowser||1!==n.nodeType)return cc(null);const r=GN(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new uc.xQ,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=LN(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=LN(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOrigin(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),r=KN(e);!n||!n.checkChildren&&t!==r||this._originChanged(t,this._getFocusOrigin(r),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,fR),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,fR)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kN(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fR),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fR),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(qN),r.LFG(hR),r.LFG(o,8),r.LFG(dR,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.R0b),r.LFG(qN),r.LFG(hR),r.LFG(o,8),r.LFG(dR,8))},token:e,providedIn:"root"}),e})();const mR="cdk-high-contrast-black-on-white",gR="cdk-high-contrast-white-on-black",yR="cdk-high-contrast-active";let _R=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yR),e.remove(mR),e.remove(gR),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(yR),e.add(mR)):2===t&&(e.add(yR),e.add(gR))}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qN),r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(qN),r.LFG(o))},token:e,providedIn:"root"}),e})(),vR=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_R))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[UN,eR]]}),e})();const bR=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let wR=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bR,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bR,8))},token:e,providedIn:"root"}),e})(),TR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const CR=new r.GfV("12.2.13");class SR{}const ER="*";function IR(e,t){return{type:7,name:e,definitions:t,options:{}}}function xR(e,t=null){return{type:4,styles:t,timings:e}}function kR(e,t=null){return{type:2,steps:e,options:t}}function AR(e){return{type:6,styles:e,offset:null}}function NR(e,t,n){return{type:0,name:e,styles:t,options:n}}function RR(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function PR(e){Promise.resolve(null).then(e)}class OR{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class DR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?PR(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function LR(){return"undefined"!=typeof window&&void 0!==window.document}function FR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function MR(e){switch(e.length){case 0:return new OR;case 1:return e[0];default:return new DR(e)}}function qR(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==l,u=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ER:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function UR(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&jR(n,"start",e)));break;case"done":e.onDone(()=>r(n&&jR(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&jR(n,"destroy",e)))}}function jR(e,t,n){const r=n.totalTime,i=VR(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function VR(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ZR(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function BR(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let zR=(e,t)=>!1,HR=(e,t)=>!1,$R=(e,t,n)=>[];const GR=FR();(GR||"undefined"!=typeof Element)&&(zR=LR()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),HR=(()=>{if(GR||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):HR}})(),$R=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let WR=null,KR=!1;function YR(e){WR||(WR=("undefined"!=typeof document?document.body:null)||{},KR=!!WR.style&&"WebkitAppearance"in WR.style);let t=!0;return WR.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in WR.style,!t&&KR&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in WR.style)),t}const QR=HR,JR=zR,XR=$R;function eP(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let tP=(()=>{class e{validateStyleProperty(e){return YR(e)}matchesElement(e,t){return QR(e,t)}containsElement(e,t){return JR(e,t)}query(e,t,n){return XR(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new OR(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),nP=(()=>{class e{}return e.NOOP=new tP,e})();const rP="ng-enter",iP="ng-leave",sP="ng-trigger",oP=".ng-trigger",aP="ng-animating",lP=".ng-animating";function cP(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uP(parseFloat(t[1]),t[2])}function uP(e,t){switch(t){case"s":return 1e3*e;default:return e}}function hP(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=uP(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=uP(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function dP(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function fP(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else dP(e,n);return n}function pP(e,t,n){return n?t+":"+n+";":""}function mP(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=pP(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=pP(0,EP(n),e.style[n]));e.setAttribute("style",t)}function gP(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=SP(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),FR()&&mP(e))}function yP(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=SP(t);e.style[n]=""}),FR()&&mP(e))}function _P(e){return Array.isArray(e)?1==e.length?e[0]:kR(e):e}const vP=new RegExp("{{\\s*(.+?)\\s*}}","g");function bP(e){let t=[];if("string"==typeof e){let n;for(;n=vP.exec(e);)t.push(n[1]);vP.lastIndex=0}return t}function wP(e,t,n){const r=e.toString(),i=r.replace(vP,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function TP(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const CP=/-+([a-z0-9])/g;function SP(e){return e.replace(CP,(...e)=>e[1].toUpperCase())}function EP(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function IP(e,t){return 0===e||0===t}function xP(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=AP(e,t)})}}return t}function kP(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function AP(e,t){return window.getComputedStyle(e)[t]}function NP(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(OP(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(OP(o,i))}(e,n,t)):n.push(e),n}const RP=new Set(["true","1"]),PP=new Set(["false","0"]);function OP(e,t){const n=RP.has(e)||PP.has(e),r=RP.has(t)||PP.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?RP.has(e):PP.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?RP.has(t):PP.has(t)),o&&a}}const DP=new RegExp("s*:selfs*,?","g");function LP(e,t,n){return new FP(e).build(t,n)}class FP{constructor(e){this._driver=e}build(e,t){const n=new MP(t);return this._resetContextStyleTimingState(n),kP(this,_P(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(qP(e)){const t=e;Object.keys(t).forEach(e=>{bP(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=TP(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=kP(this,_P(e.animation),t);return{type:1,matchers:NP(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:UP(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>kP(this,e,t)),options:UP(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=kP(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:UP(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return jP(hP(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=jP(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||hP(r,t),jP(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,i=e.styles?e.styles:AR({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=AR(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==ER?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(qP(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=bP(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(qP(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(qP(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return l.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;t.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:kP(this,_P(e.animation),t),options:UP(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:UP(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:UP(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(DP,"")),[e=e.replace(/@\*/g,oP).replace(/@\w+/g,e=>oP+"-"+e.substr(1)).replace(/:animating/g,lP),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,ZR(t.collectedStyles,t.currentQuerySelector,{});const o=kP(this,_P(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:UP(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:hP(e.timings,t.errors,!0);return{type:12,animation:kP(this,_P(e.animation),t),timings:n,options:null}}}class MP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qP(e){return!Array.isArray(e)&&"object"==typeof e}function UP(e){return e?(e=dP(e)).params&&(e.params=function(e){return e?dP(e):null}(e.params)):e={},e}function jP(e,t,n){return{duration:e,delay:t,easing:n}}function VP(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ZP{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const BP=new RegExp(":enter","g"),zP=new RegExp(":leave","g");function HP(e,t,n,r,i,s={},o={},a,l,c=[]){return(new $P).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class $P{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new ZP;const u=new WP(e,t,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),kP(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[VP(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?cP(n.duration):null,s=null!=n.delay?cP(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),kP(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GP);const e=cP(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>kP(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?cP(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),kP(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return hP(t.params?wP(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?cP(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GP);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),kP(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;kP(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const GP={};class WP{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GP,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new KP(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=cP(n.duration)),null!=n.delay&&(r.delay=cP(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{(!t||!e.hasOwnProperty(n))&&(e[n]=wP(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new WP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=GP,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new YP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(BP,"."+this._enterClassName)).replace(zP,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return!i&&0==o.length&&s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class KP{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KP(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ER,this._currentKeyframe[e]=ER}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=ER})):fP(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=wP(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:ER),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=fP(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==ER&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?TP(e.values()):[],s=t.size?TP(t.values()):[];if(n){const e=r[0],t=dP(e);e.offset=0,t.offset=1,r=[e,t]}return VP(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class YP extends KP{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=fP(e[0],!1);a.offset=0,i.push(a);const l=fP(e[0],!1);l.offset=QP(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=fP(e[r],!1);o.offset=QP((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return VP(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function QP(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class JP{}class XP extends JP{normalizePropertyName(e,t){return SP(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(eO[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const eO=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tO(e,t,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const nO={};class rO{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||nO,d=this.buildStyles(n,o&&o.params||nO,u),f=a&&a.params||nO,p=this.buildStyles(r,f,u),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),f)},b=c?[]:HP(e,t,this.ast.animation,i,s,d,p,v,l,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return tO(t,this._triggerName,n,r,_,d,p,[],[],g,y,w,u);b.forEach(e=>{const n=e.element,r=ZR(g,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=ZR(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const T=TP(m.values());return tO(t,this._triggerName,n,r,_,d,p,b,T,g,y,w)}}class iO{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=dP(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=wP(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class sO{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new iO(e.style,e.options&&e.options.params||{},n)}),oO(this.states,"true","1"),oO(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new rO(e,t,this.states))}),this.fallbackTransition=function(e,t,n){return new rO(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function oO(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const aO=new ZP;class lO{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=LP(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=qR(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=HP(this._driver,t,i,rP,iP,{},{},n,aO,r),s.forEach(e=>{const t=ZR(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,ER)})});const a=MR(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=VR(t,"","","");return UR(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const cO="ng-animate-queued",uO="ng-animate-disabled",hO=".ng-animate-disabled",dO=[],fO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mO="__ng_removed";class gO{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(n?e.value:e),n){const t=dP(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const yO="void",_O=new gO(yO);class vO{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xO(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const i=ZR(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};i.push(s);const o=ZR(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(xO(e,sP),xO(e,sP+"-"+t),o[t]=_O),()=>{this._engine.afterFlush(()=>{const e=i.indexOf(s);e>=0&&i.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new wO(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(xO(e,sP),xO(e,sP+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new gO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=_O),l.value!==yO&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{yP(e,n),gP(e,r)})}return}const c=ZR(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(xO(e,cO),s.onStart(()=>{kO(e,cO)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,oP,!0);n.forEach(e=>{if(e[mO])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,yO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&MR(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||_O,a=new gO(yO),l=new wO(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e[mO];(!r||r===fO)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){xO(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=VR(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,UR(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class bO{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new vO(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(TO(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!TO(t))return;const i=t[mO];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xO(e,uO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kO(e,uO))}removeNode(e,t,n,r){if(TO(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t[mO]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return TO(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,oP,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lP,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return MR(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mO];if(t&&t.setForRemoval){if(e[mO]=fO,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,hO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,hO,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)xO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?MR(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new ZP,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=EO(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n=rP+p++;f.set(t,n),e.forEach(e=>xO(e,n))});const m=[],g=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const e=this.collectedLeaveElements[N],t=e[mO];t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const _=new Map,v=EO(h,Array.from(g));v.forEach((e,t)=>{const n=iP+p++;_.set(t,n),e.forEach(e=>xO(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>kO(e,n))}),v.forEach((e,t)=>{const n=_.get(t);e.forEach(e=>kO(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i[mO];if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),h=_.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return t.onStart(()=>yP(i,p.fromStyles)),t.onDestroy(()=>gP(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>yP(i,p.fromStyles)),t.onDestroy(()=>gP(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>ZR(o,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,C=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(C.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{ZR(T,t,[]).push(e),e.destroy()})});const S=m.filter(e=>RO(e,a,l)),E=new Map;SO(E,this.driver,y,l,ER).forEach(e=>{RO(e,a,l)&&S.push(e)});const I=new Map;d.forEach((e,t)=>{SO(I,this.driver,new Set(e),a,"!")}),S.forEach(e=>{const t=E.get(e),n=I.get(e);E.set(e,Object.assign(Object.assign({},t),n))});const x=[],k=[],A={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>gP(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=A;if(C.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=C.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>C.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,I,E);if(s.setRealPlayer(n),e===A)x.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=MR(t)),r.push(s)}}else yP(t,o.fromStyles),s.onDestroy(()=>gP(t,o.toStyles)),k.push(s),c.has(t)&&r.push(s)}),k.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=MR(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let N=0;N<m.length;N++){const e=m[N],t=e[mO];if(kO(e,iP),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,lP,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?AO(this,e,r):this.processLeaveNode(e)}return m.length=0,x.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),x}elementContainsData(e,t){let n=!1;const r=t[mO];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==yO;t.forEach(t=>{t.queued||!e&&t.triggerName!=r||s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=ZR(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}yP(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h[mO];if(d&&d.removedBeforeQueried)return new OR(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return NO(e,t),t}((n.get(h)||dO).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=i.get(h),g=s.get(h),y=qR(0,this._normalizer,0,t.keyframes,m,g),_=this._buildPlayer(t,y,p);if(t.subTimeline&&r&&u.add(h),f){const t=new wO(e,o,h);t.setRealPlayer(_),l.push(t)}return _});l.forEach(e=>{ZR(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>xO(e,aP));const d=MR(h);return d.onDestroy(()=>{c.forEach(e=>kO(e,aP)),gP(a,t.toStyles)}),u.forEach(e=>{ZR(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new OR(e.duration,e.delay)}}class wO{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new OR,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>UR(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ZR(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function TO(e){return e&&1===e.nodeType}function CO(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function SO(e,t,n,r,i){const s=[];n.forEach(e=>s.push(CO(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[mO]=pO,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>CO(e,s[a++])),o}function EO(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}const IO="$$classes";function xO(e,t){if(e.classList)e.classList.add(t);else{let n=e[IO];n||(n=e[IO]={}),n[t]=!0}}function kO(e,t){if(e.classList)e.classList.remove(t);else{let n=e[IO];n&&delete n[t]}}function AO(e,t,n){MR(n).onDone(()=>e.processLeaveNode(t))}function NO(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof DR?NO(r.players,t):t.push(r)}}function RO(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class PO{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new bO(e,t,n),this._timelineEngine=new lO(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=LP(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new sO(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=BR(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=BR(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function OO(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=LO(t[0]),t.length>1&&(r=LO(t[t.length-1]))):t&&(n=LO(t)),n||r?new DO(e,n,r):null}let DO=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gP(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gP(this._element,this._initialStyles),this._endStyles&&(gP(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(yP(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yP(this._element,this._endStyles),this._endStyles=null),gP(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function LO(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];FO(i)&&(t=t||{},t[i]=e[i])}return t}function FO(e){return"display"===e||"position"===e}const MO="animation",qO="animationend";class UO{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const n=HO(e,"").trim();let r=0;n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++;return n}(n)+1,t=`${n}, ${t}`),zO(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),BO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){jO(this._element,this._name,"paused")}resume(){jO(this._element,this._name,"running")}setPosition(e){const t=VO(this._element,this._name);this._position=e*this._duration,zO(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),BO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=HO(e,"").split(","),r=ZO(n,t);r>=0&&(n.splice(r,1),zO(e,"",n.join(",")))}(this._element,this._name))}}function jO(e,t,n){zO(e,"PlayState",n,VO(e,t))}function VO(e,t){const n=HO(e,"");return n.indexOf(",")>0?ZO(n.split(","),t):ZO([n],t)}function ZO(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function BO(e,t,n){n?e.removeEventListener(qO,t):e.addEventListener(qO,t)}function zO(e,t,n,r){const i=MO+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function HO(e,t){return e.style[MO+t]||""}class $O{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new UO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:AP(this.element,n))})}this.currentSnapshot=e}}class GO extends OR{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=eP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class WO{constructor(){this._count=0}validateStyleProperty(e){return YR(e)}matchesElement(e,t){return QR(e,t)}containsElement(e,t){return JR(e,t)}query(e,t,n){return XR(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>eP(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof $O),l={};IP(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=xP(e,t,l));if(0==n)return new GO(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=OO(e,t),f=new $O(e,t,u,n,r,i,c,d);return f.onDestroy(()=>function(e){e.parentNode.removeChild(e)}(h)),f}}class KO{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:AP(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class YO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(QO().toString()),this._cssKeyframesDriver=new WO}validateStyleProperty(e){return YR(e)}matchesElement(e,t){return QR(e,t)}containsElement(e,t){return JR(e,t)}query(e,t,n){return XR(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof KO);IP(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=OO(e,t=xP(e,t=t.map(e=>fP(e,!1)),l));return new KO(e,t,a,u)}}function QO(){return LR()&&Element.prototype.animate||{}}let JO=(()=>{class e extends SR{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?kR(e):e;return tD(this._renderer,null,t,"register",[n]),new XO(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class XO extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eD(this._id,e,t||{},this._renderer)}}class eD{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tD(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tD(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const nD="@.disabled";let rD=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new iD("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new sD(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(PO),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class iD{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==nD?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class sD extends iD{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nD?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let oD=(()=>{class e extends PO{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(nP),r.LFG(JP))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const aD=new r.OlP("AnimationModuleType"),lD=[{provide:SR,useClass:JO},{provide:JP,useFactory:function(){return new XP}},{provide:PO,useClass:oD},{provide:r.FYo,useFactory:function(e,t,n){return new rD(e,t,n)},deps:[ce,PO,r.R0b]}],cD=[{provide:nP,useFactory:function(){return"function"==typeof QO()?new YO:new WO}},{provide:aD,useValue:"BrowserAnimations"},...lD],uD=[{provide:nP,useClass:tP},{provide:aD,useValue:"NoopAnimations"},...lD];let hD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?uD:cD}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:cD,imports:[Ce]}),e})();const dD=new r.GfV("12.2.13"),fD=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let pD=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||YN())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&dD.full!==CR.full&&console.warn("The Angular Material version ("+dD.full+") does not match the Angular CDK version ("+CR.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_R),r.LFG(fD,8),r.LFG(o))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[TR],TR]}),e})();function mD(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=RN(e)}}}function gD(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function yD(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=RN(e)}}}function _D(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new uc.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}const vD=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class bD{constructor(){this._localeChanges=new uc.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const wD=new r.OlP("mat-date-formats");let TD;try{TD="undefined"!=typeof Intl}catch(SU){TD=!1}const CD={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},SD=xD(31,e=>String(e+1)),ED={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},ID=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function xD(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}let kD=(()=>{class e extends bD{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(TD){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return xD(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return CD[e]}getDateNames(){if(TD){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return xD(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return SD}getDayOfWeekNames(e){if(TD){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return xD(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return ED[e]}getYearName(e){if(TD){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(TD){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(ID.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date;return r.setFullYear(e,t,n),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(vD,8),r.LFG(qN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),AD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:bD,useClass:kD}],imports:[[UN]]}),e})();const ND={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let RD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:wD,useValue:ND}],imports:[[AD]]}),e})(),PD=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),OD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD],pD]}),e})();class DD{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const LD={enterDuration:225,exitDuration:150},FD=HN({passive:!0}),MD=["mousedown","touchstart"],qD=["mouseup","mouseleave","touchend","touchcancel"];class UD{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=LN(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},LD),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),function(e){window.getComputedStyle(e).getPropertyValue("opacity")}(c),c.style.transform="scale(1)";const u=new DD(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,!n.persistent&&(!e||!this._isPointerDown)&&u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},LD),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=LN(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(MD))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qD),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=oR(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,FD)})})}_removeTriggerEvents(){this._triggerElement&&(MD.forEach(e=>{this._triggerElement.removeEventListener(e,this,FD)}),this._pointerUpEventsRegistered&&qD.forEach(e=>{this._triggerElement.removeEventListener(e,this,FD)}))}}const jD=new r.OlP("mat-ripple-global-options");let VD=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new UD(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(qN),r.Y36(jD,8),r.Y36(aD,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),ZD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD,UN],pD]}),e})(),BD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD]]}),e})(),zD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ZD,j,pD,BD]]}),e})();const HD=["mat-button",""],$D=["*"],GD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],WD=gD(mD(yD(class{constructor(e){this._elementRef=e}})));let KD=(()=>{class e extends WD{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of GD)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(pR),r.Y36(aD,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&r.Gf(VD,5),2&e){let e;r.iGM(e=r.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(r.uIk("disabled",t.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:HD,ngContentSelectors:$D,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[VD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),YD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ZD,pD],pD]}),e})();function QD(e,t){return new vc.y(t?n=>t.schedule(JD,0,{error:e,subscriber:n}):t=>t.error(e))}function JD({error:e,subscriber:t}){t.error(e)}var XD=n(8819);class eL{}class tL{}class nL{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nL?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nL;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nL?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rL{encodeKey(e){return oL(e)}encodeValue(e){return oL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const iL=/%(\d[a-f0-9])/gi,sL={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function oL(e){return encodeURIComponent(e).replace(iL,(e,t)=>{var n;return null!==(n=sL[t])&&void 0!==n?n:e})}function aL(e){return`${e}`}class lL{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new lL({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(aL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(aL(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class cL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function uL(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function hL(e){return"undefined"!=typeof Blob&&e instanceof Blob}function dL(e){return"undefined"!=typeof FormData&&e instanceof FormData}class fL{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new nL),this.context||(this.context=new cL),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new lL,this.urlWithParams=t}serializeBody(){return null===this.body?null:uL(this.body)||hL(this.body)||dL(this.body)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lL?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dL(this.body)?null:hL(this.body)?this.body.type||null:uL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lL?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new fL(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var pL=(()=>((pL=pL||{})[pL.Sent=0]="Sent",pL[pL.UploadProgress=1]="UploadProgress",pL[pL.ResponseHeader=2]="ResponseHeader",pL[pL.DownloadProgress=3]="DownloadProgress",pL[pL.Response=4]="Response",pL[pL.User=5]="User",pL))();class mL{constructor(e,t=200,n="OK"){this.headers=e.headers||new nL,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gL extends mL{constructor(e={}){super(e),this.type=pL.ResponseHeader}clone(e={}){return new gL({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yL extends mL{constructor(e={}){super(e),this.type=pL.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new yL({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _L extends mL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vL(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let bL=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof fL)r=e;else{let i,s;i=n.headers instanceof nL?n.headers:new nL(n.headers),n.params&&(s=n.params instanceof lL?n.params:new lL({fromObject:n.params})),r=new fL(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=cc(r).pipe(Wc(e=>this.handler.handle(e)));if(e instanceof fL||"events"===n.observe)return i;const s=i.pipe(Vc(e=>e instanceof yL));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,xc.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,xc.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,xc.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,xc.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new lL).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,vL(n,t))}post(e,t,n={}){return this.request("POST",e,vL(n,t))}put(e,t,n={}){return this.request("PUT",e,vL(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(eL))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class wL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const TL=new r.OlP("HTTP_INTERCEPTORS");let CL=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const SL=/^\)\]\}',?\n/;let EL=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vc.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new nL(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new gL({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(SL,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new yL({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new _L({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new _L({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:pL.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&!!n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:pL.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:pL.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(H))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const IL=new r.OlP("XSRF_COOKIE_NAME"),xL=new r.OlP("XSRF_HEADER_NAME");class kL{}let AL=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(IL))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),NL=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(kL),r.LFG(xL))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),RL=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(TL,[]);this.chain=e.reduceRight((e,t)=>new wL(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(tL),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),PL=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:NL,useClass:CL}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:IL,useValue:t.cookieName}:[],t.headerName?{provide:xL,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[NL,{provide:TL,useExisting:NL,multi:!0},{provide:kL,useClass:AL},{provide:IL,useValue:"XSRF-TOKEN"},{provide:xL,useValue:"X-XSRF-TOKEN"}]}),e})(),OL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[bL,{provide:eL,useClass:RL},EL,{provide:tL,useExisting:EL}],imports:[[PL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();const DL=["*"];function LL(e){return Error(`Unable to find icon with the name "${e}"`)}function FL(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function ML(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class qL{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let UL=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new qL(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw ML(n);return this._addSvgIconConfig(e,t,new qL("",s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new qL(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw ML(t);return this._addSvgIconSetConfig(e,new qL("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw FL(e);const n=this._cachedIconsByUrl.get(t);return n?cc(jL(n)):this._loadSvgIconFromConfig(new qL(e,null)).pipe(cu(e=>this._cachedIconsByUrl.set(t,e)),(0,xc.U)(e=>jL(e)))}getNamedSvgIcon(e,t=""){const n=VL(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):QD(LL(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?cc(jL(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xc.U)(e=>jL(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?cc(n):Qk(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(zc(t=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url)} failed: ${t.message}`;return this._errorHandler.handleError(new Error(n)),cc(null)})))).pipe((0,xc.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw LL(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(cu(t=>e.svgText=t),(0,xc.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?cc(null):this._fetchIcon(e).pipe(cu(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,s=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw FL(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(pu(()=>this._inProgressUrlFetches.delete(o)),(0,XD.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(VL(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let n=0;n<this._resolvers.length;n++){const r=this._resolvers[n](t,e);if(r)return ZL(r)?new qL(r.url,null,r.options):new qL(r,null)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bL,8),r.LFG(ve),r.LFG(o,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bL,8),r.LFG(ve),r.LFG(o,8),r.LFG(r.qLn))},token:e,providedIn:"root"}),e})();function jL(e){return e.cloneNode(!0)}function VL(e,t){return e+":"+t}function ZL(e){return!(!e.url||!e.options)}const BL=gD(class{constructor(e){this._elementRef=e}}),zL=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(o),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),HL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$L=HL.map(e=>`[${e}]`).join(", "),GL=/^url\(['"]?#(.*?)['"]?\)$/;let WL=(()=>{class e extends BL{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=fu.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=RN(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll($L),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)HL.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(GL):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe(Dc(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(UL),r.$8M("aria-hidden"),r.Y36(zL),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:DL,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),KL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD],pD]}),e})();const YL=["*",[["mat-card-footer"]]],QL=["*","mat-card-footer"];let JL=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(aD,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:QL,decls:2,vars:0,template:function(e,t){1&e&&(r.F$t(YL),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),XL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD],pD]}),e})();var eF=n(6682);function tF(e,t,n,r){return(0,lu.m)(n)&&(r=n,n=void 0),r?tF(e,t,n).pipe((0,xc.U)(e=>(0,fc.k)(e)?r(...e):r(e))):new vc.y(r=>{nF(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function nF(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)nF(e[s],t,n,r,i)}r.add(s)}const rF=["underline"],iF=["connectionContainer"],sF=["inputContainer"],oF=["label"];function aF(e,t){1&e&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function lF(e,t){1&e&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function cF(e,t){if(1&e&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function uF(e,t){1&e&&r.Hsn(0,3,["*ngSwitchCase","true"])}function hF(e,t){1&e&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function dF(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,cF,4,1,"ng-container",12),r.YNc(3,uF,1,0,"ng-content",12),r.YNc(4,hF,2,0,"span",22),r.qZA()}if(2&e){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function fF(e,t){1&e&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function pF(e,t){if(1&e&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function mF(e,t){if(1&e&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function gF(e,t){if(1&e&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function yF(e,t){if(1&e&&(r.TgZ(0,"div",28),r.YNc(1,gF,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const _F=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],vF=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],bF=new r.OlP("MatError"),wF={transitionMessages:IR("transitionMessages",[NR("enter",AR({opacity:1,transform:"translateY(0%)"})),RR("void => enter",[AR({opacity:0,transform:"translateY(-5px)"}),xR("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let TF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})();const CF=new r.OlP("MatHint");let SF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-label"]]}),e})(),EF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const IF=new r.OlP("MatPrefix"),xF=new r.OlP("MatSuffix");let kF=0;const AF=gD(class{constructor(e){this._elementRef=e}},"primary"),NF=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),RF=new r.OlP("MatFormField");let PF=(()=>{class e extends AF{constructor(e,t,n,r,i,s,o,a){super(e),this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new uc.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+kF++,this._labelId="mat-form-field-label-"+kF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=RN(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Mc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(kN(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(kN(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,eF.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Mc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Mc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(kN(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tF(this._label.nativeElement,"transitionend").pipe(Dc(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(wR,8),r.Y36(NF,8),r.Y36(qN),r.Y36(r.R0b),r.Y36(aD,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,TF,5),r.Suo(n,TF,7),r.Suo(n,SF,5),r.Suo(n,SF,7),r.Suo(n,EF,5),r.Suo(n,bF,5),r.Suo(n,CF,5),r.Suo(n,IF,5),r.Suo(n,xF,5)),2&e){let e;r.iGM(e=r.CRH())&&(t._controlNonStatic=e.first),r.iGM(e=r.CRH())&&(t._controlStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildNonStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildStatic=e.first),r.iGM(e=r.CRH())&&(t._placeholderChild=e.first),r.iGM(e=r.CRH())&&(t._errorChildren=e),r.iGM(e=r.CRH())&&(t._hintChildren=e),r.iGM(e=r.CRH())&&(t._prefixChildren=e),r.iGM(e=r.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(r.Gf(rF,5),r.Gf(iF,7),r.Gf(sF,5),r.Gf(oF,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.underlineRef=e.first),r.iGM(e=r.CRH())&&(t._connectionContainerRef=e.first),r.iGM(e=r.CRH())&&(t._inputContainerRef=e.first),r.iGM(e=r.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:RF,useExisting:e}]),r.qOj],ngContentSelectors:vF,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(r.F$t(_F),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),r.YNc(3,aF,9,0,"ng-container",3),r.YNc(4,lF,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,dF,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,fF,2,0,"div",9),r.qZA(),r.YNc(11,pF,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,mF,2,1,"div",12),r.YNc(14,yF,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==t.appearance),r.xp6(1),r.Q6J("ngIf",t._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",t._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",t._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=t.appearance),r.xp6(1),r.Q6J("ngSwitch",t._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[A,O,D,XN],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[wF.transitionMessages]},changeDetection:0}),e})(),OF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD,eR],pD]}),e})();class DF{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new LF(e,this.durationSelector))}}class LF extends pc.L{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=(0,mc.D)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function FF(e){return!(0,fc.k)(e)&&e-parseFloat(e)+1>=0}function MF(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function qF(e,t=bN){return function(e){return function(t){return t.lift(new DF(e))}}(()=>function(e=0,t,n){let r=-1;return FF(t)?r=Number(t)<1?1:Number(t):(0,oc.K)(t)&&(n=t),(0,oc.K)(n)||(n=bN),new vc.y(t=>{const i=FF(e)?e:+e-n.now();return n.schedule(MF,i,{index:0,period:r,subscriber:t})})}(e,t))}const UF=HN({passive:!0});let jF=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Cc;const t=LN(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new uc.xQ,i="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,UF),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,UF)}}),r}stopMonitoring(e){const t=LN(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qN),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(qN),r.LFG(r.R0b))},token:e,providedIn:"root"}),e})(),VF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[UN]]}),e})();const ZF=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),BF=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zF=0;const HF=_D(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});let $F=(()=>{class e extends HF{constructor(e,t,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=e,this._platform=t,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+zF++,this.focused=!1,this.stateChanges=new uc.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>VN().has(e));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;!t.value&&0===t.selectionStart&&0===t.selectionEnd&&(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=RN(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=RN(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&VN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=RN(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){BF.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(qN),r.Y36(NA,10),r.Y36(iN,8),r.Y36(cN,8),r.Y36(PD),r.Y36(ZF,10),r.Y36(jF),r.Y36(r.R0b),r.Y36(RF,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&r.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(r.Ikx("disabled",t.disabled)("required",t.required),r.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),r.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:TF,useExisting:e}]),r.qOj,r.TTD]}),e})(),GF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[PD],imports:[[VF,OF,pD],VF,OF]}),e})();function WF(e,t){if(1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.firebaseErrorMessage)}}let KF=(()=>{class e{constructor(e,t,n,r){this.authService=e,this.router=t,this.afAuth=n,this.afs=r,this.isProgressVisible=!1,this.loginForm=new eN({email:new XA("",[uA.required,uA.email]),password:new XA("",uA.required)}),this.firebaseErrorMessage=""}ngOnInit(){this.authService.userLoggedIn&&this.router.navigate([""])}loginUser(){this.isProgressVisible=!0,!this.loginForm.invalid&&this.authService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(e=>{this.isProgressVisible=!1,null==e?(console.log("logging in..."),this.router.navigate([""])):0==e.isValid&&(console.log("login error",e),this.firebaseErrorMessage=e.message)})}onReadCollection(){this.afs.collection("users").get().subscribe(e=>{e.forEach(e=>{console.log(e.id),console.log(e.data())})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(mN),r.Y36(Gd),r.Y36(jl),r.Y36($k))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:29,vars:2,consts:[[1,"container"],[1,"row","my-5"],[1,"row","my-4"],["mat-raised-button","","color","primary","routerLink",""],[1,"d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","accent",3,"click"],[1,"error-style"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r._UZ(2,"div",1),r._UZ(3,"div",2),r.TgZ(4,"button",3),r.TgZ(5,"mat-icon"),r._uU(6,"home"),r.qZA(),r.TgZ(7,"span"),r._uU(8,"Home"),r.qZA(),r.qZA(),r.TgZ(9,"mat-card",4),r.TgZ(10,"form",5),r.NdJ("ngSubmit",function(){return t.loginUser()}),r.TgZ(11,"p"),r.TgZ(12,"mat-form-field",6),r.TgZ(13,"mat-label"),r._uU(14,"Email"),r.qZA(),r._UZ(15,"input",7),r.qZA(),r.qZA(),r.TgZ(16,"p"),r.TgZ(17,"mat-form-field",6),r.TgZ(18,"mat-label"),r._uU(19,"Password"),r.qZA(),r._UZ(20,"input",8),r.qZA(),r.qZA(),r.YNc(21,WF,3,1,"div",9),r.TgZ(22,"button",10),r._uU(23,"Login"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"button",11),r.NdJ("click",function(){return t.onReadCollection()}),r._uU(25,"Read Collection"),r.qZA(),r._UZ(26,"div",1),r._UZ(27,"div",1),r._UZ(28,"div",1),r.qZA()),2&e&&(r.xp6(10),r.Q6J("formGroup",t.loginForm),r.xp6(11),r.Q6J("ngIf",""!=t.firebaseErrorMessage))},directives:[KD,Kd,WL,JL,sN,OA,cN,PF,SF,iA,$F,PA,hN,A],styles:[""]}),e})(),YF=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-mood"]],decls:103,vars:0,consts:[[1,"my-2","text-center"],[1,"mx-2","mb-1","row"],[1,"mr-1","card","col"],[1,"box"],[1,"content"],["href","#"],[1,"card","col"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"h2"),r._uU(6,"01"),r.qZA(),r.TgZ(7,"h3"),r._uU(8,"Card One"),r.qZA(),r.TgZ(9,"p"),r._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(11,"a",5),r._uU(12,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",2),r.TgZ(14,"div",3),r.TgZ(15,"div",4),r.TgZ(16,"h2"),r._uU(17,"02"),r.qZA(),r.TgZ(18,"h3"),r._uU(19,"Card Two"),r.qZA(),r.TgZ(20,"p"),r._uU(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(22,"a",5),r._uU(23,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",6),r.TgZ(25,"div",3),r.TgZ(26,"div",4),r.TgZ(27,"h2"),r._uU(28,"03"),r.qZA(),r.TgZ(29,"h3"),r._uU(30,"Card Three"),r.qZA(),r.TgZ(31,"p"),r._uU(32,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(33,"a",5),r._uU(34,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"div",1),r.TgZ(36,"div",2),r.TgZ(37,"div",3),r.TgZ(38,"div",4),r.TgZ(39,"h2"),r._uU(40,"04"),r.qZA(),r.TgZ(41,"h3"),r._uU(42,"Card Four"),r.qZA(),r.TgZ(43,"p"),r._uU(44,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(45,"a",5),r._uU(46,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",2),r.TgZ(48,"div",3),r.TgZ(49,"div",4),r.TgZ(50,"h2"),r._uU(51,"05"),r.qZA(),r.TgZ(52,"h3"),r._uU(53,"Card Five"),r.qZA(),r.TgZ(54,"p"),r._uU(55,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(56,"a",5),r._uU(57,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(58,"div",6),r.TgZ(59,"div",3),r.TgZ(60,"div",4),r.TgZ(61,"h2"),r._uU(62,"06"),r.qZA(),r.TgZ(63,"h3"),r._uU(64,"Card Six"),r.qZA(),r.TgZ(65,"p"),r._uU(66,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(67,"a",5),r._uU(68,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(69,"div",1),r.TgZ(70,"div",2),r.TgZ(71,"div",3),r.TgZ(72,"div",4),r.TgZ(73,"h2"),r._uU(74,"07"),r.qZA(),r.TgZ(75,"h3"),r._uU(76,"Card Seven"),r.qZA(),r.TgZ(77,"p"),r._uU(78,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(79,"a",5),r._uU(80,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(81,"div",2),r.TgZ(82,"div",3),r.TgZ(83,"div",4),r.TgZ(84,"h2"),r._uU(85,"08"),r.qZA(),r.TgZ(86,"h3"),r._uU(87,"Card Eight"),r.qZA(),r.TgZ(88,"p"),r._uU(89,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(90,"a",5),r._uU(91,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(92,"div",6),r.TgZ(93,"div",3),r.TgZ(94,"div",4),r.TgZ(95,"h2"),r._uU(96,"09"),r.qZA(),r.TgZ(97,"h3"),r._uU(98,"Card Nine"),r.qZA(),r.TgZ(99,"p"),r._uU(100,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, totam velit? Iure nemo labore inventore?"),r.qZA(),r.TgZ(101,"a",5),r._uU(102,"Read More"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700;800&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;min-height:100vh;background:#232427}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;max-width:1200px;margin:40px 0}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;min-width:320px;height:440px;box-shadow:inset 5px 5px 5px rgba(0,0,0,.2),inset -5px -5px 15px rgba(255,255,255,.102),5px 5px 15px rgba(0,0,0,.302),-5px -5px 15px rgba(255,255,255,.102);border-radius:15px;margin:30px;transition:.5s}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:nth-child(1)   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#2196f3}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:nth-child(2)   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#e91e63}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:nth-child(3)   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#23c186}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;right:20px;bottom:20px;background:#2a2b2f;border-radius:15px;display:flex;justify-content:center;align-items:center;overflow:hidden;transition:.5s}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:translateY(-50px)}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:rgba(255,255,255,.03)}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px;text-align:center}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:-10px;right:30px;font-size:8rem;color:rgba(255,255,255,.102)}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;color:#fff;z-index:1;transition:.5s;margin-bottom:15px}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;color:rgba(255,255,255,.902);z-index:1;transition:.5s}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:8px 20px;background:black;border-radius:5px;text-decoration:none;color:#fff;margin-top:20px;box-shadow:0 10px 20px rgba(0,0,0,.2);transition:.5s}body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px rgba(0,0,0,.6);background:#fff;color:#000}']}),e})(),QF=(()=>{class e{constructor(e,t){this.afs=e,this.as=t,this.accountType="",this.displayName="",this.displayName_lower="",this.email="nothing",this.email_lower="",this.userID=""}ngOnInit(){this.email=this.as.getEmail(),console.log(this.as.getEmail())}onReadCollectEach(){this.afs.collection("users").get().subscribe(e=>{e.forEach(e=>{this.displayName=e.id})})}onReadCollect(e){this.afs.collection("users",t=>t.where("email","==",e)).get().subscribe(e=>{e.forEach(e=>{this.displayName=e.id})})}onReadCollection(){this.afs.collection("users").get().subscribe(e=>{e.forEach(e=>{console.log(e.id),console.log(e.data())})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($k),r.Y36(mN))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-profile"]],decls:89,vars:1,consts:[[1,"my-2","container","bg-light-white2"],[1,"row","py-2"],[1,"col","row-end"],["src","https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","alt","profile picture",1,"pfp","img-fluid","border","rounded"],[1,"rounded","bg-light-white3","col-10"],[1,"profile-name","text-uppercase"],["name","Bio","cols","150","rows","4"],[1,"align-bottom"],[1,"my-3","row"],[1,"row","justify-content-center"],[1,"col-12","text-center"],[1,"upgrade-size","font-white"],[1,"justify-content-center","col-12","bg-light","scrollable","rounded"],[1,"col-12","row"],[1,"col-2"],["src","https://m.media-amazon.com/images/M/MV5BNDYxNjQyMjAtNTdiOS00NGYwLWFmNTAtNThmYjU5ZGI2YTI1XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg","alt","The Kid",1,"hundbyhund","border","mx-1","my-1"],[1,"col-4","pt-2"],[1,"font-watchlist"],["mat-stroked-button","","color","basic","onclick",""],["src","https://m.media-amazon.com/images/M/MV5BZjhhMThhNDItNTY2MC00MmU1LTliNDEtNDdhZjdlNTY5ZDQ1XkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_UX192_CR0%2C0%2C192%2C284_AL_.jpg","alt","The Kid",1,"hundbyhund","border","mx-1","my-1"],["src","https://m.media-amazon.com/images/M/MV5BMTM4NzQ0OTYyOF5BMl5BanBnXkFtZTcwMDkyNjQyMg@@._V1_FMjpg_UX1000_.jpg","alt","The Kid",1,"hundbyhund","border","mx-1","my-1"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"img",3),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"h1",5),r.TgZ(6,"strong"),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"textarea",6),r._uU(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis, ex rem, eos blanditiis enim nam eveniet accusantium eius in a ducimus maxime soluta repellat dignissimos ratione tempora velit consequuntur nisi!"),r.qZA(),r.TgZ(10,"p",7),r.TgZ(11,"i"),r._uU(12,"Member since 01-01-2021"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(13,"div",8),r.TgZ(14,"div",9),r.TgZ(15,"div",10),r.TgZ(16,"h2",11),r._uU(17,"Watchlist"),r.qZA(),r.qZA(),r.TgZ(18,"div"),r.TgZ(19,"div",12),r.TgZ(20,"div",13),r.TgZ(21,"div",14),r._UZ(22,"img",15),r.qZA(),r.TgZ(23,"div",16),r.TgZ(24,"p",17),r._uU(25,"The Avengers"),r.qZA(),r.TgZ(26,"p"),r._uU(27,"Action, Adventure "),r.TgZ(28,"span"),r._uU(29," | "),r.qZA(),r._uU(30," 2012 "),r.qZA(),r.TgZ(31,"button",18),r.TgZ(32,"mat-icon"),r._uU(33,"rate_review"),r.qZA(),r._UZ(34,"span"),r.qZA(),r.TgZ(35,"button",18),r.TgZ(36,"mat-icon"),r._uU(37,"favorite"),r.qZA(),r._UZ(38,"span"),r.qZA(),r.TgZ(39,"button",18),r.TgZ(40,"mat-icon"),r._uU(41,"delete"),r.qZA(),r._UZ(42,"span"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(43,"div",13),r.TgZ(44,"div",14),r._UZ(45,"img",19),r.qZA(),r.TgZ(46,"div",16),r.TgZ(47,"p",17),r._uU(48,"The Kid"),r.qZA(),r.TgZ(49,"p"),r._uU(50,"Comedy, Drama "),r.TgZ(51,"span"),r._uU(52," | "),r.qZA(),r._uU(53," 1921 "),r.qZA(),r.TgZ(54,"button",18),r.TgZ(55,"mat-icon"),r._uU(56,"rate_review"),r.qZA(),r._UZ(57,"span"),r.qZA(),r.TgZ(58,"button",18),r.TgZ(59,"mat-icon"),r._uU(60,"favorite"),r.qZA(),r._UZ(61,"span"),r.qZA(),r.TgZ(62,"button",18),r.TgZ(63,"mat-icon"),r._uU(64,"delete"),r.qZA(),r._UZ(65,"span"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",13),r.TgZ(67,"div",14),r._UZ(68,"img",20),r.qZA(),r.TgZ(69,"div",16),r.TgZ(70,"p",17),r._uU(71,"Taken"),r.qZA(),r.TgZ(72,"p"),r._uU(73,"Action, Crime, Thriller "),r.TgZ(74,"span"),r._uU(75," | "),r.qZA(),r._uU(76," 2008"),r.qZA(),r.TgZ(77,"button",18),r.TgZ(78,"mat-icon"),r._uU(79,"rate_review"),r.qZA(),r._UZ(80,"span"),r.qZA(),r.TgZ(81,"button",18),r.TgZ(82,"mat-icon"),r._uU(83,"favorite"),r.qZA(),r._UZ(84,"span"),r.qZA(),r.TgZ(85,"button",18),r.TgZ(86,"mat-icon"),r._uU(87,"delete"),r.qZA(),r._UZ(88,"span"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(7),r.Oqu(t.email))},directives:[KD,WL],styles:[""]}),e})();function JF(e,t){if(1&e&&(r.O4$(),r._UZ(0,"circle",3)),2&e){const e=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}function XF(e,t){if(1&e&&(r.O4$(),r._UZ(0,"circle",3)),2&e){const e=r.oxw();r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}const eM=gD(class{constructor(e){this._elementRef=e}},"primary"),tM=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class nM extends eM{constructor(e,t,n,r,i){super(e),this._document=n,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=nM._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),s.has(n.head)||s.set(n.head,new Set([100])),this._fallbackAnimation=t.EDGE||t.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=PN(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=PN(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,PN(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=GN(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,n=nM._diameters;let r=n.get(e);if(!r||!r.has(t)){const i=this._document.createElement("style");i.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),i.textContent=this._getAnimationText(),e.appendChild(i),r||(r=new Set,n.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}nM.\u0275fac=function(e){return new(e||nM)(r.Y36(r.SBq),r.Y36(qN),r.Y36(o,8),r.Y36(aD,8),r.Y36(tM))},nM.\u0275cmp=r.Xpm({type:nM,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(r.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,JF,1,9,"circle",1),r.YNc(2,XF,1,7,"circle",2),r.qZA()),2&e&&(r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===t.mode),r.uIk("viewBox",t._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[O,D],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),nM._diameters=new WeakMap;let rM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD,j],pD]}),e})();function iM(e,t){if(1&e&&(r.TgZ(0,"div",14),r.TgZ(1,"span"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.firebaseErrorMessage)}}let sM=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.afAuth=n,this.signupForm=new eN({}),this.isProgressVisible=!1,this.firebaseErrorMessage=""}ngOnInit(){this.authService.userLoggedIn&&this.router.navigate([""]),this.signupForm=new eN({displayName:new XA("",uA.required),email:new XA("",[uA.required,uA.email]),password:new XA("",uA.required)})}signup(){this.signupForm.invalid||(this.isProgressVisible=!0,this.authService.signupUser(this.signupForm.value).then(e=>{null==e?this.router.navigate([""]):0==e.isValid&&(this.firebaseErrorMessage=e.message),this.isProgressVisible=!1}).catch(()=>{this.isProgressVisible=!1}))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(mN),r.Y36(Gd),r.Y36(jl))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-sign-up"]],decls:32,vars:4,consts:[[1,"container"],[1,"row","my-5"],[1,"row","my-4"],["mat-raised-button","","color","primary","routerLink",""],[1,"d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","displayName","type","text","matInput","","placeholder","Display Name"],["formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"],[1,"error-style"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r._UZ(2,"div",2),r.TgZ(3,"button",3),r.TgZ(4,"mat-icon"),r._uU(5,"home"),r.qZA(),r.TgZ(6,"span"),r._uU(7,"Home"),r.qZA(),r.qZA(),r.TgZ(8,"mat-card",4),r.TgZ(9,"form",5),r.NdJ("ngSubmit",function(){return t.signup()}),r.TgZ(10,"p"),r.TgZ(11,"mat-form-field",6),r.TgZ(12,"mat-label"),r._uU(13,"Full Name"),r.qZA(),r._UZ(14,"input",7),r.qZA(),r.qZA(),r.TgZ(15,"p"),r.TgZ(16,"mat-form-field",6),r.TgZ(17,"mat-label"),r._uU(18,"Email"),r.qZA(),r._UZ(19,"input",8),r.qZA(),r.qZA(),r.TgZ(20,"p"),r.TgZ(21,"mat-form-field",6),r.TgZ(22,"mat-label"),r._uU(23,"Password"),r.qZA(),r._UZ(24,"input",9),r.qZA(),r.qZA(),r.YNc(25,iM,3,1,"div",10),r.TgZ(26,"button",11),r._uU(27,"Sign Up"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",12),r._UZ(29,"mat-progress-spinner",13),r.qZA(),r.qZA(),r._UZ(30,"div",1),r._UZ(31,"div",1)),2&e&&(r.xp6(9),r.Q6J("formGroup",t.signupForm),r.xp6(16),r.Q6J("ngIf",""!=t.firebaseErrorMessage),r.xp6(3),r.Udp("display",t.isProgressVisible?"inline":"none"))},directives:[KD,Kd,WL,JL,sN,OA,cN,PF,SF,iA,$F,PA,hN,A,nM],styles:[""]}),e})();var oM=n(1704),aM=n(8686),lM=n.n(aM);const cM="#movies[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #movie[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}#movies[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .well[_ngcontent-%COMP%]{height:390px}#movies[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:240px}";oM(document).ready(()=>{oM("#searchForm").on("submit",e=>{(function(e){lM().get("https://api.themoviedb.org/3/search/movie?api_key=ea13feb29808cba44ae41a961107c167&query="+e).then(e=>{console.log(e);let t="";oM.each(e.data.results,(e,n)=>{let r="";r=null==n.poster_path?"https://westsiderc.org/wp-content/uploads/2019/08/Image-Not-Available.png":"https://image.tmdb.org/t/p/w500"+n.poster_path,t+=`\n        <div class="col-md-3">\n          <div class="well text-center">\n            <img src="${r}">\n            <h5>${n.title}</h5>\n            <a onclick="movieSelected('${n.id}')" class="btn btn-primary" href="#">Movie Details</a>\n          </div>\n        </div>\n      `}),oM("#movie.component").html(t)}).catch(e=>{console.log(e)})})(oM("#searchText").val()),e.preventDefault()})});const uM=[{path:"",component:Kk},{path:"login",component:KF},{path:"signup",component:sM},{path:"profile",component:QF},{path:"search",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-search-function"]],decls:14,vars:0,consts:[["rel","stylesheet","href","https://bootswatch.com/5/darkly/bootstrap.min.css"],[1,"navbar","navbar-default"],[1,"container"],[1,"navbar-header"],["href","search-function.component.html",1,"navbar-brand"],[1,"jumbotron"],[1,"text-center"],["id","searchForm"],["type","text","id","searchText","placeholder","Search Movies...",1,"form-control"],["id","movies",1,"row"]],template:function(e,t){1&e&&(r._UZ(0,"link",0),r.TgZ(1,"nav",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"a",4),r._uU(5,"MoodStream"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",2),r.TgZ(7,"div",5),r.TgZ(8,"h3",6),r._uU(9,"Search For Any Movie"),r.qZA(),r.TgZ(10,"form",7),r._UZ(11,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",2),r._UZ(13,"div",9),r.qZA())},directives:[sN,OA,iN],styles:[cM,cM]}),e})()},{path:"mood",component:YF}];let hM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[cf.forRoot(uM)],cf]}),e})();function dM(e,t){1&e&&(r.TgZ(0,"button",25),r.TgZ(1,"mat-icon"),r._uU(2,"login"),r.qZA(),r.TgZ(3,"span"),r._uU(4,"Login"),r.qZA(),r.qZA())}function fM(e,t){1&e&&(r.TgZ(0,"button",26),r.TgZ(1,"mat-icon"),r._uU(2,"account_box"),r.qZA(),r.TgZ(3,"span"),r._uU(4,"My Profile"),r.qZA(),r.qZA())}function pM(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",27),r.NdJ("click",function(){return r.CHM(e),r.oxw().logout()}),r.TgZ(1,"mat-icon"),r._uU(2,"logout"),r.qZA(),r.TgZ(3,"span"),r._uU(4,"Log out"),r.qZA(),r.qZA()}}function mM(e,t){1&e&&(r.TgZ(0,"button",28),r.TgZ(1,"mat-icon"),r._uU(2,"person_add"),r.qZA(),r.TgZ(3,"span"),r._uU(4,"Sign Up"),r.qZA(),r.qZA())}function gM(e,t){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-icon"),r._uU(2,"check_circle"),r.qZA(),r._UZ(3,"span"),r.qZA())}function yM(e,t){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-icon"),r._uU(2,"do_not_disturb"),r.qZA(),r._UZ(3,"span"),r.qZA())}let _M=(()=>{class e{constructor(e,t,n){this.afAuth=e,this.firestore=t,this.router=n}ngOnInit(){}logout(){this.afAuth.signOut(),console.log("User is signed out."),this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(jl),r.Y36($k),r.Y36(Gd))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-navbar"]],decls:63,vars:18,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container","px-5"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","",1,"nav-link"],[1,"nav-item","dropdown"],["id","navbarDropdownBlog","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownBlog",1,"dropdown-menu","dropdown-menu-end"],["routerLink","/search",1,"dropdown-item"],["id","navbarDropdownPortfolio","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownPortfolio",1,"dropdown-menu","dropdown-menu-end"],["routerLink","/mood",1,"nav-link"],["href","contact.html",1,"nav-link"],[1,"nav-item","nav-link"],[1,"text-light","mx-2"],["mat-raised-button","","color","primary","routerLink","/login",4,"ngIf"],["mat-raised-button","","color","primary","routerLink","/profile",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","routerLink","/signup",4,"ngIf"],[1,"d-flex","justify-content-end"],[4,"ngIf"],["mat-raised-button","","color","primary","routerLink","/login"],["mat-raised-button","","color","primary","routerLink","/profile"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","routerLink","/signup"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r.TgZ(2,"a",2),r._uU(3,"MoodStream"),r.qZA(),r.TgZ(4,"button",3),r._UZ(5,"span",4),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"ul",6),r.TgZ(8,"li",7),r.TgZ(9,"a",8),r._uU(10,"Home"),r.qZA(),r.qZA(),r.TgZ(11,"li",9),r.TgZ(12,"a",10),r._uU(13,"Movies"),r.qZA(),r.TgZ(14,"ul",11),r.TgZ(15,"li"),r.TgZ(16,"a",12),r._uU(17,"Home"),r.qZA(),r.qZA(),r.TgZ(18,"li"),r.TgZ(19,"a",12),r._uU(20,"New Releases"),r.qZA(),r.qZA(),r.TgZ(21,"li"),r.TgZ(22,"a",12),r._uU(23,"Trending"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"li",9),r.TgZ(25,"a",13),r._uU(26,"TV Shows"),r.qZA(),r.TgZ(27,"ul",14),r.TgZ(28,"li"),r.TgZ(29,"a",12),r._uU(30,"Home"),r.qZA(),r.qZA(),r.TgZ(31,"li"),r.TgZ(32,"a",12),r._uU(33,"New Releases"),r.qZA(),r.qZA(),r.TgZ(34,"li"),r.TgZ(35,"a",12),r._uU(36,"Trending"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"li",7),r.TgZ(38,"a",15),r._uU(39,"Moods"),r.qZA(),r.qZA(),r.TgZ(40,"li",7),r.TgZ(41,"a",16),r._uU(42,"FAQ"),r.qZA(),r.qZA(),r.TgZ(43,"li",17),r.TgZ(44,"span",18),r._uU(45,"|"),r.qZA(),r.qZA(),r.TgZ(46,"li"),r.YNc(47,dM,5,0,"button",19),r.ALo(48,"async"),r.qZA(),r.TgZ(49,"li"),r.YNc(50,fM,5,0,"button",20),r.ALo(51,"async"),r.qZA(),r.TgZ(52,"li"),r.YNc(53,pM,5,0,"button",21),r.ALo(54,"async"),r.qZA(),r.TgZ(55,"li"),r.YNc(56,mM,5,0,"button",22),r.ALo(57,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(58,"div",23),r.YNc(59,gM,4,0,"mat-card",24),r.ALo(60,"async"),r.YNc(61,yM,4,0,"mat-card",24),r.ALo(62,"async"),r.qZA(),r.qZA()),2&e&&(r.xp6(47),r.Q6J("ngIf",!r.lcZ(48,6,t.afAuth.user)),r.xp6(3),r.Q6J("ngIf",r.lcZ(51,8,t.afAuth.user)),r.xp6(3),r.Q6J("ngIf",r.lcZ(54,10,t.afAuth.user)),r.xp6(3),r.Q6J("ngIf",!r.lcZ(57,12,t.afAuth.user)),r.xp6(3),r.Q6J("ngIf",r.lcZ(60,14,t.afAuth.user)),r.xp6(2),r.Q6J("ngIf",!r.lcZ(62,16,t.afAuth.user)))},directives:[Yd,A,KD,Kd,WL,JL],pipes:[U],styles:[""]}),e})(),vM=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:17,vars:0,consts:[[1,"bg-dark","py-4","mt-auto"],[1,"container","px-5"],[1,"row","align-items-center","justify-content-between","flex-column","flex-sm-row"],[1,"col-auto"],[1,"small","m-0","text-white"],["href","#!",1,"link-light","small"],[1,"text-white","mx-1"]],template:function(e,t){1&e&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._uU(5,"Copyright \xa9 Your Website 2021"),r.qZA(),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"a",5),r._uU(8,"Privacy"),r.qZA(),r.TgZ(9,"span",6),r._uU(10,"\xb7"),r.qZA(),r.TgZ(11,"a",5),r._uU(12,"Terms"),r.qZA(),r.TgZ(13,"span",6),r._uU(14,"\xb7"),r.qZA(),r.TgZ(15,"a",5),r._uU(16,"Contact"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),e})(),bM=(()=>{class e{constructor(){this.title="Team-1-Project"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"bg-feldgrau"]],template:function(e,t){1&e&&(r.TgZ(0,"main",0),r._UZ(1,"app-navbar"),r._UZ(2,"router-outlet"),r._UZ(3,"app-footer"),r.qZA())},directives:[_M,Jd,vM],styles:[""]}),e})(),wM=(()=>{class e{constructor(e){this.http=e}ngOnInit(){console.log(this.getMovies())}getMovies(){return this.http.get("https://api.themoviedb.org/3/search/movie?api_key=ea13feb29808cba44ae41a961107c167&query=yo")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(bL))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-search"]],decls:2,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"search works!"),r.qZA())},styles:[""]}),e})();new class extends vN{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends yN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let TM=1;const CM=Promise.resolve(),SM={};function EM(e){return e in SM&&(delete SM[e],!0)}const IM={setImmediate(e){const t=TM++;return SM[t]=!0,CM.then(()=>EM(t)&&e()),t},clearImmediate(e){EM(e)}};new class extends vN{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends yN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=IM.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(IM.clearImmediate(t),e.scheduled=void 0)}});new class extends vN{}(class extends yN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}});class xM{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return cc(this.value);case"E":return QD(this.error);case"C":return Sc()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new xM("N",e):xM.undefinedValueNotification}static createError(e){return new xM("E",void 0,e)}static createComplete(){return xM.completeNotification}}xM.completeNotification=new xM("C"),xM.undefinedValueNotification=new xM("N",void 0),n(8858);let kM=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new uc.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vc.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(qF(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):cc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Vc(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=LN(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(qN),r.LFG(o,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.R0b),r.LFG(qN),r.LFG(o,8))},token:e,providedIn:"root"}),e})(),AM=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new uc.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qN),r.LFG(r.R0b),r.LFG(o,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(qN),r.LFG(r.R0b),r.LFG(o,8))},token:e,providedIn:"root"}),e})(),NM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),RM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[TR,UN,NM],TR,NM]}),e})();class PM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class OM extends PM{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class DM extends PM{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LM extends PM{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class FM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof OM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof DM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LM?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MM extends FM{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let qM=(()=>{class e extends FM{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(o))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),e})(),UM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const jM=$N();class VM{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=DN(-this._previousScrollPosition.left),e.style.top=DN(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),jM&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jM&&(t.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class ZM{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BM{enable(){}disable(){}attach(){}}function zM(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function HM(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class $M{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();zM(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let GM=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new BM,this.close=e=>new ZM(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new VM(this._viewportRuler,this._document),this.reposition=e=>new $M(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(kM),r.LFG(AM),r.LFG(r.R0b),r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(kM),r.LFG(AM),r.LFG(r.R0b),r.LFG(o))},token:e,providedIn:"root"}),e})();class WM{constructor(e){if(this.scrollStrategy=new BM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class KM{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class YM{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let QM=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o))},token:e,providedIn:"root"}),e})(),JM=(()=>{class e extends QM{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o))},token:e,providedIn:"root"}),e})(),XM=(()=>{class e extends QM{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._pointerDownListener=e=>{this._pointerDownEventTarget=KN(e)},this._clickListener=e=>{const t=KN(e),n="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const s=r[i];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(t)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(qN))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o),r.LFG(qN))},token:e,providedIn:"root"}),e})(),eq=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||YN()){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),YN()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(qN))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o),r.LFG(qN))},token:e,providedIn:"root"}),e})();class tq{constructor(e,t,n,r,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new uc.xQ,this._attachments=new uc.xQ,this._detachments=new uc.xQ,this._locationChanges=fu.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new uc.xQ,this._outsidePointerEvents=new uc.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Dc(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=DN(this._config.width),e.height=DN(this._config.height),e.minWidth=DN(this._config.minWidth),e.minHeight=DN(this._config.minHeight),e.maxWidth=DN(this._config.maxWidth),e.maxHeight=DN(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;ON(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(kN((0,eF.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const nq="cdk-overlay-connected-position-bounding-box",rq=/([A-Za-z%]+)$/;class iq{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new uc.xQ,this._resizeSubscription=fu.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(nq),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sq(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=aq(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=oq(this._overlayRef.getConfig().minHeight),o=oq(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=aq(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),l=Math.max(i.left-n.left-e.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new YM(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=DN(n.height),r.top=DN(n.top),r.bottom=DN(n.bottom),r.width=DN(n.width),r.left=DN(n.left),r.right=DN(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=DN(e)),i&&(r.maxWidth=DN(i))}this._lastBoundingBoxSize=n,sq(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sq(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sq(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();sq(n,this._getExactOverlayY(t,e,r)),sq(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=DN(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=DN(s.maxWidth):i&&(n.maxWidth="")),sq(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=DN(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=DN(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:HM(e,n),isOriginOutsideView:zM(e,n),isOverlayClipped:HM(t,n),isOverlayOutsideView:zM(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ON(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof r.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function sq(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function oq(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(rq);return n&&"px"!==n?null:parseFloat(t)}return e||null}function aq(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class lq{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new iq(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new KM(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const cq="cdk-global-overlay-wrapper";class uq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(cq),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(cq),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let hq=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new uq}connectedTo(e,t,n){return new lq(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new iq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(AM),r.LFG(o),r.LFG(qN),r.LFG(eq))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(AM),r.LFG(o),r.LFG(qN),r.LFG(eq))},token:e,providedIn:"root"}),e})(),dq=0,fq=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new WM(e);return i.direction=i.direction||this._directionality.value,new tq(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+dq++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new MM(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(GM),r.LFG(eq),r.LFG(r._Vd),r.LFG(hq),r.LFG(JM),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(o),r.LFG(wR),r.LFG(w),r.LFG(XM))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const pq={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let mq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[fq,pq],imports:[[TR,UM,RM],RM]}),e})();const gq={provide:new r.OlP("mat-autocomplete-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let yq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[gq],imports:[[mq,zD,pD,j],NM,zD,pD]}),e})(),_q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[vR,pD],pD]}),e})(),vq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD,ZD],pD]}),e})(),bq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),wq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ZD,pD,eR,bq],pD,bq]}),e})();const Tq=new r.OlP("mat-chips-default-options"),Cq={separatorKeyCodes:[13]};let Sq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[PD,{provide:Tq,useValue:Cq}],imports:[[pD]]}),e})(),Eq=(()=>{class e{constructor(){this.changes=new uc.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Iq={provide:new r.OlP("mat-datepicker-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let xq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Eq,Iq],imports:[[j,YD,mq,vR,UM,pD],NM]}),e})();function kq(e,t){}class Aq{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Nq={dialogContainer:IR("dialogContainer",[NR("void, exit",AR({opacity:0,transform:"scale(0.7)"})),NR("enter",AR({transform:"none"})),RR("* => enter",xR("150ms cubic-bezier(0, 0, 0.2, 1)",AR({transform:"none",opacity:1}))),RR("* => void, * => exit",xR("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",AR({opacity:0})))])};let Rq=(()=>{class e extends FM{constructor(e,t,n,i,s,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=WN(),n=this._elementRef.nativeElement;(!t||t===this._document.body||t===n||n.contains(t))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=WN())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=WN();return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(sR),r.Y36(r.sBO),r.Y36(o,8),r.Y36(Aq),r.Y36(pR))},e.\u0275dir=r.lG2({type:e,viewQuery:function(e,t){if(1&e&&r.Gf(qM,7),2&e){let e;r.iGM(e=r.CRH())&&(t._portalOutlet=e.first)}},features:[r.qOj]}),e})(),Pq=(()=>{class e extends Rq{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&r.WFA("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(r.Ikx("id",t._id),r.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),r.d8E("@dialogContainer",t._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&r.YNc(0,kq,0,0,"ng-template",0)},directives:[qM],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Nq.dialogContainer]}}),e})(),Oq=0;class Dq{constructor(e,t,n="mat-dialog-"+Oq++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new uc.xQ,this._afterClosed=new uc.xQ,this._beforeClosed=new uc.xQ,this._state=0,t._id=n,t._animationStateChanged.pipe(Vc(e=>"opened"===e.state),Dc(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Vc(e=>"closed"===e.state),Dc(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Vc(e=>27===e.keyCode&&!this.disableClose&&!function(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(e))).subscribe(e=>{e.preventDefault(),Lq(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Lq(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Vc(e=>"closing"===e.state),Dc(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Lq(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const Fq=new r.OlP("MatDialogData"),Mq=new r.OlP("mat-dialog-default-options"),qq=new r.OlP("mat-dialog-scroll-strategy"),Uq={provide:qq,deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.block()}};let jq=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new uc.xQ,this._afterOpenedAtThisLevel=new uc.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Ec(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mc(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Aq)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new WM({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=r.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Aq,useValue:t}]}),i=new OM(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const s=new this._dialogRefConstructor(n,t,i.id);if(e instanceof r.Rgc)t.attachTemplatePortal(new DM(e,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,t),r=t.attachComponentPortal(new OM(e,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return e.direction&&(!i||!i.get(wR,null,r.XFs.Optional))&&s.push({provide:wR,useValue:{value:e.direction,change:cc()}}),r.zs3.create({parent:i||this._injector,providers:s})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fq),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(eq),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},e.\u0275dir=r.lG2({type:e}),e})(),Vq=(()=>{class e extends jq{constructor(e,t,n,r,i,s,o){super(e,t,r,s,o,i,Dq,Pq,Fq)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(fq),r.LFG(r.zs3),r.LFG(w,8),r.LFG(Mq,8),r.LFG(qq),r.LFG(e,12),r.LFG(eq))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Zq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Vq,Uq],imports:[[mq,UM,pD],pD]}),e})(),Bq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),zq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD,Bq,UM]]}),e})(),Hq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[OD,pD],OD,pD]}),e})(),$q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD],pD]}),e})(),Gq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[OD,ZD,pD,BD,j],OD,pD,BD,$q]}),e})();const Wq={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Kq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Wq],imports:[[j,pD,ZD,mq],NM,pD]}),e})();const Yq={provide:new r.OlP("mat-select-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Qq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Yq],imports:[[j,mq,zD,pD],NM,OF,zD,pD]}),e})();const Jq={provide:new r.OlP("mat-tooltip-scroll-strategy"),deps:[fq],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}};let Xq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Jq],imports:[[vR,j,mq,pD],pD,NM]}),e})(),eU=(()=>{class e{constructor(){this.changes=new uc.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return`0 of ${n}`;const r=e*t;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+t,n):r+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const tU={provide:eU,deps:[[new r.FiY,new r.tp0,eU]],useFactory:function(e){return e||new eU}};let nU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[tU],imports:[[j,YD,Qq,Xq,pD]]}),e})(),rU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD],pD]}),e})(),iU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ZD,pD],pD]}),e})(),sU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD,UN,NM],NM,pD]}),e})(),oU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD],pD]}),e})(),aU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),lU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[aU,ZD,pD,eR],aU,pD]}),e})(),cU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[mq,UM,j,YD,pD],pD]}),e})(),uU=(()=>{class e{constructor(){this.changes=new uc.xQ}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const hU={provide:uU,deps:[[new r.FiY,new r.tp0,uU]],useFactory:function(e){return e||new uU}};let dU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[hU],imports:[[j,pD]]}),e})(),fU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[TR]]}),e})(),pU=(()=>{class e{constructor(){this.changes=new uc.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const mU={provide:pU,deps:[[new r.FiY,new r.tp0,pU]],useFactory:function(e){return e||new pU}};let gU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[mU,PD],imports:[[pD,j,UM,YD,fU,KL,ZD],pD]}),e})(),yU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[RM]]}),e})(),_U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[yU,pD],pD]}),e})(),vU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[j,pD,UM,ZD,eR,vR],pD]}),e})(),bU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pD],pD]}),e})(),wU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),TU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[wU,pD],pD]}),e})(),CU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[bM]}),e.\u0275inj=r.cJS({providers:[],imports:[[Ce,cf.forRoot([{path:"search",component:wM}]),hM,hD,Gk,Ee.hO.initializeApp(Se),ic,OL,yq,_q,YD,vq,XL,wq,Sq,xq,Zq,zq,OF,Hq,KL,GF,Gq,Kq,RD,nU,rU,rM,iU,ZD,Qq,sU,oU,lU,cU,dU,gU,_U,vU,bU,Xq,TU,fN,pN,OL]]}),e})();(0,r.G48)(),we().bootstrapModule(CU).catch(e=>console.error(e))},3394:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(3854),i=n(3910),s=n(8026),o=n(5422);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return T},_DEFAULT_ENTRY_NAME:function(){return u},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return m},_apps:function(){return d},_clearComponents:function(){return v},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return g},_removeServiceInstance:function(){return _},deleteApp:function(){return I},getApp:function(){return S},getApps:function(){return E},initializeApp:function(){return C},onLog:function(){return A},registerVersion:function(){return k},setLogLevel:function(){return N}});var r=n(8239),i=n(3910),s=n(5422),o=n(3854);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",c=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function g(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function _(e,t,n=u){y(e,t).clearInstance(n)}function v(){f.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class w{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const T="9.5.0";function C(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw b.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const l=new w(e,n,a);return d.set(r,l),l}function S(e=u){const t=d.get(e);if(!t)throw b.create("no-app",{appName:e});return t}function E(){return Array.from(d.values())}function I(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function k(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}g(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function A(e,t){if(null!==e&&"function"!=typeof e)throw b.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}g(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),k(l,"0.7.9",""),k(l,"0.7.9","esm2017"),k("fire-js","")},3910:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return l},zt:function(){return a}});var r=n(8239),i=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(n){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},5422:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return c},Ub:function(){return u},Am:function(){return h}});const r=[];var i=(()=>{return(e=i||(i={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",i;var e})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=1534)}]);